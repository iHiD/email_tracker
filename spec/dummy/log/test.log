Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "string" varchar(255), "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.8ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')[0m
  [1m[35m (2.8ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')[0m
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (22.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (43.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:30:37 UTC +00:00], ["mailer", nil], ["name", nil], ["owner_id", nil], ["owner_type", nil], ["string", nil], ["updated_at", Sun, 10 Jun 2012 20:30:37 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:34:57 UTC +00:00], ["mailer", nil], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["string", nil], ["updated_at", Sun, 10 Jun 2012 20:34:57 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')[0m
  [1m[35m (15.8ms)[0m  commit transaction
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')[0m
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')[0m
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:37:43 UTC +00:00], ["description", ""], ["mailer", nil], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:37:43 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:38:22 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:39:01 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:39:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:39:09 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:39:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:40:42 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:40:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:41:01 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:41:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:41:44 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:41:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:42:39 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:45:39 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:45:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:46:59 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1002], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:46:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (29.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:53:52 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:53:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:25 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:44 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:58 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:55:09 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:55:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:55:19 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:55:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:56:22 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "EmailTracker::Link"], ["updated_at", Sun, 10 Jun 2012 20:56:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("subscriptions")[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:59:36 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 20:59:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My_mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "MyMailer"], ["name", "Mymailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.9ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (26.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (26.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (26.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:40 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["email_address", nil], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:22:22.000000', "updated_at" = '2012-06-10 21:22:22.889587' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:23:25.000000', "updated_at" = '2012-06-10 21:23:25.791084' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (17.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "1a441d53bcc0b31682e06fef1f0fc922175d02d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "1928a2c58a3581eaf4d17446f61e6f910935c4b1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "b87985e42e31fe56f4c9fb03b28f1b8826f58780"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:25:41.000000', "updated_at" = '2012-06-10 21:25:41.073522' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (14.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "8348f49a4bd2095bc83f9d4864b158b60ca5038c"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "62952b4894622b4fda86e948453d1d418f6601d1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "51f01da9165d96725f80bb8dabac03b160653bdb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "e185dd55f3ff11c9a60884d09f54dfdc4df2c2af"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:25:55.000000', "updated_at" = '2012-06-10 21:25:55.278645' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (14.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "41255a3c9a59b6e2eba58dc76362b40acf74b482"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:26:24 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "2e9f996fc070387e81870b9e09610f361ef8c280"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "81cfa3ac3d1899807430242b8f5bb6c76dcd501d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "22e81953358d40d78137c895a928ba0a613982f9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:26:25.000000', "updated_at" = '2012-06-10 21:26:25.044400' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (9.7ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "c25ae6a1fc3f62c0730617259ca296849e6416df"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "4f559b617f25210bea51b8a6d13a285043a306e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "45487aa04d6abb15d055e107ede1c2a5a3478c8e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:26:25.000000', "updated_at" = '2012-06-10 21:26:25.068120' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "79ab0a90da24808acf20e16ff129163c2941ab9b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "50cfa19c189aa479058159dd240e7c2fb452541b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "408156cd8c2cbba530c2e4b99a16103ef2770594"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:08.000000', "updated_at" = '2012-06-10 21:27:08.849756' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (17.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "5b7366e4f65fcdf567981be4dd3424b0dfe5fde6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "f1a75a52ffa7e5dfdad0a9d5768d1c15e663ddbc"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "29db5e0c52ad90cf276518289dacefe489f9eb92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:08.000000', "updated_at" = '2012-06-10 21:27:08.901518' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "d5163fc8774a556c0c37bc4fd3ed86839285c6d0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "7dab33d5c378b83d7e402f98c9d21ea553dc5e92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "d755e5be9c56a55b0a5919a88f0500f36349c8d6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:38.000000', "updated_at" = '2012-06-10 21:27:38.808749' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "b816f1a3ee1e7e4fd15fa8d91ab4aaf1a3b6e9ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "30f28247dcc633d40f2920aba1d67e4f0895c74d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "377da3193f0d61b3b451d9a4533a5c0a212dd4f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:38.000000', "updated_at" = '2012-06-10 21:27:38.821444' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "b4f123d498888afc4f81f8ef562fc2c53ed4d9d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "1791dec11ab04ee3ac62e5e6cf9c451045a5fe19"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "a8ab4b80a31194805373818fee2bd73798d64218"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "ada72f19d5e8677de06f2c8a6a30907ee6441adf"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.302445' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "e9453d781e8167882f28af0af9d7bcdf87abaee4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "969dd9c6365d2fcc27339177dcd5463590b26855"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "0b8df3a6014370974bbb5f82748f006a846d762c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.315271' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "ca70b1cb57c52624e05f0886aeced1ad1b5c6316"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.319135' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "3300efaf29a1074e0af8323520399867b1ddc6b9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "8ad986a66c38747de8bad26d1e7953f6422a2427"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "a0a347faca890f58cce0f398bb7d2d0b6930e698"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.370961' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "8f14912b982d8c4c5d379c54761f0b1b497bb591"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "905d48afb7f82ae420d3bb1cba99bff9c334d805"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "b32332a9131fecaa6664627ea13d8d35d065471c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.394444' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "87a67c3682d4809a9e3579c9f97b30f7dd4d5119"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.398392' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "11f58ce966a9e3f1ccdb8d1a8fddf6b139686c0c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "a4d821cc12fa47357fa0e78f01d2e20d756709c6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "5440c9d086b52739b2b02e0afa1dcaf20b44f9be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.856725' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "a8b3f1cca47c7d21d61ad510338a888d497cbec6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "de4ab357aaa9820814ca74240947110188e6ee09"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "f20432f8b6a15c51104452ece59207c03bdacafd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.885990' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "0b17fcd86dcdc4d890acf703788bdaab1bc7d804"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.890029' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "9e5de45be911c66d0e99eab82e75709eb1be0ffc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "6d1184c2f0deac2368356130ec32c001f7699e68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "72723eb85443d968e1dd9b84a60569e6d9d39d5d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.671624' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "11fcf5e609fc3000635bef96b7e34ab3ef0edea1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "12c4473fa009b6235be042172936b64cb6417847"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "9c3dc481f0027cacbc71e4f8a546d9d849b4795a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.692457' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "d6571a273b4ea1fddf0dea7e66c7bea185f7be29"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.696639' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["url", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:41 UTC +00:00], ["url", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (29.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url", "/foobar"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "688c7310e2c550b96a249101b7c34f138f273c96"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "8b79a1c43bf741740d966d2bd5609830a8b3f210"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "2fdc5a01e4c94a476629c40d46b3ca03819fc70d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.898091' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "1b4293edecb8d09fa62b09db48fe0eae4abfbe55"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "b07b9f1bf8ff2b18317b6a2759f1d305d493561d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "55b4626a32064e43021cad25171ac1421be60a9a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.913440' WHERE "email_tracker_email_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "ed95f78d95f144354282c774a9bdfaad1e865ae5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.917502' WHERE "email_tracker_email_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (21.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url", "/foobar"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "cc4d38bfc05259ec086d58bc5e7563c2275aba47"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "f1f218b7bec436cb84d0d4f0f50ff9211361e510"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "404a392d075e6de7d8a79eecad98f5f339f69ab9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.933379' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)
  [1m[36m (10.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "9e33f88a48e073d7fdbb14d81a2376cc9dfe50de"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "95e6137f189b2c71f8484927d24279939ea5ed37"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "7f50c7c9f3819999e135d5d38063ae95ddba11fe"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.958226' WHERE "email_tracker_email_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "aaf72a63dcbad043548e0159ba4b5e13e5f899f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.961968' WHERE "email_tracker_email_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "81811db29359559701f9e82ca4d0cf19013af412"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "d34906af97d31253c7c3d184421bd32f3182f9cc"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "0aa36cbf4c3b7a269048d21c92a3dbfb90bb84ce"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "ed9c1968e01cc8c56f273366f0f1bd55a2a71e09"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "18c8ce627e21fdf5c0ee09fd04633001b3ac514a"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "5eb92b1f0962a6b552e3b9ba095350712801653e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "278d66c28ddf75a4cd4b9436fa1dcc6ca53cc51c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "f855f9cf723cbcb713c1782a432570941ba074f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.737108' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "87a44aabf4c319d2b5b8595d714ad1b47198945b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "9c10c0d2d246f9b632b45dd607b5ac7937d75e7f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "d1bf8680b74cf419d7d6d3fe888ed832a562213e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.749628' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "92c1efd13b95a2afd164a449319707dc745dcfb6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.753611' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "bf15cc78220520bebffaad8e72cca2ba69619d9f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "4de5ca708ae2f9e515b7a62b5e60b236284cd678"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "d91b42279b2bf9a3c226adf12388f8a8437f78d1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:34:30.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "59960dca889498a8a239b7b00bacb25171b24e76"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "6c6df6c5ae6f05e6ec7d99d1a758a9f8f8dcbc8b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "a49a77026480de78217b81f12543a1a5997776d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:34:30.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "6ee3d98033b6f48a54ff58f7cfd0186ebc6ae5e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (26.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "2d9caed93bf34c26f7b30685f3379650350a3d2e"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "22109cfa0f076dd31cc48caa2f412739c5801604"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "c25af9274e0cf5b31430caf7667df06fc9602979"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "c6a81d39d57fb50c97485e75c9958e928ceaaaa4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.502218' WHERE "email_tracker_email_instances"."id" = 5[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "3fc5bb943438c762ca5b6f0d2620b878237b2304"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "8149d3bc95d11720596eedcdca4f19a0ac6d72af"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "69e6b60ee862964b7f338d17c1c0947cb175e6f6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.514801' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "2d5c533787b6e0107293fedc1e20f20f346cede0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.518508' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "0688970683a8dd062a4b0ab6e2a49648e21d3b64"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "6908e555b9775c36b461ddcfef69346dfef57666"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "f7373345b2e574c2ee3f0ebc36d96ade66f29426"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "59dc865d92b47a8036daebb15ffaba3022f660f3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "6619053acd36e3c25e4721bd9745ab3436ef8cd3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "496aff07967391ea04c82d3c3e21cbee743cb394"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "96632e11812c850c72b82a5a7bc28e8007f15398"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (86.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "8f6de39695512e17fb4c1dd8031ee430433892dd"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "9810557aba753f84a735cf6853d703af347a7f4d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "060cbe505c77443086446d30b67ae03698e192ba"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "5aa34d09c12e8525f51e5c23018b3efa34110d9d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.465402' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "3c12477ec709c24302b6ee17401917c937646ef7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "b0e56e9cc06cbff9d523887313ddec974aecbb9d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "6d5cc47f00d3438a1baf1b66a4c8ad75e04925e0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.479248' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "79b0811ac8ad3d0f3f7c77474037ea0346585a34"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.483080' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "bdb9e5676d05d79b689a56afac82f246de5fd686"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "c0f4aec971e545b0e512f5d8d742c8a806395b28"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "641c15f2adb8666980d99099e5915f47aa3bbe96"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "b94f18d6534a21317882e9cade16903156c5d09b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "c74eacd23bb6ac662bed668ea81856b0fdd32625"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "82738f35219333adc86195dcdaece6c51ada0550"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "37c3b4e69e24fa56797317dfd42bae71cae38a7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "f1aae0e429f2161fd0e01c8c5b4224a5600eb09f"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "ede5ce515c044c0c728505311473a07e0b0234ce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "2977565e4c1425329b3b1caea15c9cec6282212e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "36eef2751efa9e587a2051363f539977404bbc96"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.330679' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "59e4f07495d8159d57db19f1f976bf25190b2145"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "64961ebeac194e5bdd27fe014c7024237c196587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "51f512078528a2406f4824ce738894954b859169"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.368789' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "8d04ec89fa4af353dd8f254a9a85856a5207f9bf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.372721' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "9d8ab62387805a79dbbd464d6ca16b865a63c75b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "3e3d05f09257e3aff8bf6d5db488bc500f9c7492"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "24e83c21168e869a58e266d16798c4f4e05b7adf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "bafc2183b8e23f9c55a39d2e57a96477f0dec236"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "1654065619d2dd123aa0e45abd827d8f9338e8db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "e8f7dc06495cd54981c018e959a625d5bfc0c857"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "d536153737d5a65fc0b043c3821d05db4296ff85"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["url_code", "a8c2b09db0a62b76544bb51a672efce3e47b75f8"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "a90fa79ecee7e1938f02e5f0f119d00d8fc7151a"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "3d723efb52a15b83390f401bdb0e97164ba5cfe5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "ddfa292fca00963c579ef30b0e41a8ab08c1e751"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "aa80e90f2bf8dadecc00559f9f6554649a625d6b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.629336' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (24.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "d0c740efa0c0cc54c9a583de1b3287e2a9a39b24"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "a9ea6ebe9a47e6e7ed6f7fce43e9ebf00ecda021"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "7c0e44c2e8148e2f93894d81ad34ebb8c22bee8d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.694135' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "ee20e84108fb94132d02de1cdb6f255120a352a0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.697905' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (43ms)
Date: Sun, 10 Jun 2012 22:38:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513c9b8463_10b8b3fee2dc34d344268a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "f4c7e4d85cdb1d04e035a8c7db9cab770c81a59f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "687f0d18000746a4aeeb3fbd4280bc9765d518fa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "04dc1c9ca0c0e98a95b6ab161139bd1cc02f4ba5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "93ae7f821f9f2580c359fd16eb3bc5301fcd2498"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "643b52b599b56911d5699ee28d317c1679457e30"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "230b7d5ae01c22f4d4c8a236797cc3ffa72e1bb8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "c491a734f1778ef9441aa00997f61d62bc750474"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "885a1550c572281f2621552f513d3b29b62151f2"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "690e094b933264b1cc4ac947c70eee07ab7c6c2a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "e558f492541e611a18ffe3e0717af9599a472ab8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "ce24d41df1842bf88cce37675c3a7d2d232f6847"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.409773' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "f5ebdfd9a3a0665fd37ea8dc999aae5d6873cce0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "263cca17a05bd4e1c529945282da6a73a9e714dd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "d985ca83c219ddbe91b98a46f3c440d37c0f1904"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.453894' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "e84cb3de75d68b5fe5bfdebbd7f16df846c5fe56"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.457762' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (15ms)
Date: Sun, 10 Jun 2012 22:38:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513ce78077_10b8c3fc82d034d3437882@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "ea7980e1969b282f03a08d89456f713efefc44f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "a6c1e9ee929040f968d4ae13650416c148ef9824"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "4ab4e50d1bff1be2d9639470cb9da2902a1815ea"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "cab83484ae8626ddab2f0b09211b8236a6b149bf"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "5419c4317ac304c0348a688ca10c486b35ea6bd8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "86de99ef7aedc875a4ffd557cd3ad8f61ae4a8e1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "2875bbbfdcde4dbaf2087038d653b9999d585de0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "ed91096ddb54c06666f51cea62ee753077443a33"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "4a6d45b400a0a7a46006ed6249f029e3bbdf8309"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "43afb9fd5158954e6dd187650c0b627bf672439e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "68cfe7f6fa01a7c3f8923a438c643918d48815ee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.905546' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "9b3141286cb12a8e7c85a8e31083a9ff8d2819db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "3c66855087b99d1d3318b3f9076f1e1d5a9c1395"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "474ca7c6df896463932d1913ca83b35972e28c73"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.943252' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "70835caac14f060440804df74b49705cfa28e68f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.947131' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:38:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513d2eeab7_10b8d3fdf1dc34d447247@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "042fbd03faf3305436695dd661155d1b8944b40b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "6a322a9bcc57c4ac8bf2c57e6846ba1bb6d57f94"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "fd883f2ae98627b6f70ddcb88b98489ba91f02ad"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (187.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "b13430c468bb08325c2ed39754e28818b19e4ae0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "f1f9b0cdb60d52bcd60743075806736270e43fb1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "5faa51c9913437a6ccbb24b57524165891a8eb7f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:27.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "d4cfb786dfd68d1834fcd5b9b1082e942914b047"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:27.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "287d4420a306fe482c72dc1d404674a84aca06f4"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "d128d854a7c0fdc7806b1004b622c522134af326"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "921dbee8c0418850dcd1b3c6809f11d4436fc071"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "9b19a07cf7d771701a36bf72d155db0f171214c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.275107' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "7add9fb9b97e04c89bebe1b44391ba2fdf18f088"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "78ba30e8678fbbafc36e8e77dc88a6e5d2107738"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "60cd53a89d3013c88b5ce5d0bbe1718fb1491b20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.310099' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "2bdcb9442a6cf069e6fa1c3b779e6b7a30207703"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.313816' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:38:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513e954100_10b8f3fcbea034d3c3961b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:38:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513e95687b_10b8f3fcbea034d3c397da@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "1681ad1f6b5592dfce1af383842a5cdd36b03ec0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "48a0b6f36c35302c675abf25e7cce55fb8605193"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "496264335d115688b619410c9741251655923619"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "660a1da466a5ae5fff4991466aa7a4292615b098"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "d7e8866373f8cc878a4252eed9e152fa330e60de"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "72d4c551a9d7fa422547c86455b32e91de9dc2e2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "916360a2280b964161f5dcb949734f4474facca8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "741f9729cff0db6baea1baea6dfcad281acd065a"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "77b6cc0e76f834cade31f9e03f7d649bd03601c8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "83e434c1a9ca412ac08b27bd30e5d5ef94636281"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "29a41d3eb8bb8de0ff8e02675a5e2c0b792f5209"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.298064' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (24.7ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "c54695fb8f4db1188221e86116eeb3da17bd0072"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "fefc0225984cab395f9fec38f8a5190b6b0a92c7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "3d4f01a5d1e2f53035f12d1e1b1789f1ba27a5e2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.362556' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "96a31f44dc1e266f6eec665f58cbaeef62483354"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.366379' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:41:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514706085f_10b923fbffcc34d3483756@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147062d3d_10b923fbffcc34d3483826@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5bf7f34ce5c25d07bdefb7b9725627045733e041"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5beffcb3231dc5502fef588c6826af20b7dbd3e7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "9cbd77b2771a5877523c951e6034e2d7414cd0e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5f629954ee24c03db0d4ac60669b8aad4686d2c0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "4703f6e556c773dd55e6335c5d6aaef9309500b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "912892e01ae439dd448a5aa8f6e7fe01a667e5df"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "d8ff62855cd595fde64bd10a636e8a9aa40e47f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "f60ea121e5d0db550ee019bd819b62a82ae53898"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "0a1fabd84ad12cbb75c4f64eecaa6d616aff4c66"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "c54dcd606e39420c25b5114ede3b5f61f1ed133a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "e1185eaa39b8908a2c34ae0ee72824add88a9315"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.002189' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "53cb9b776c3c39f35319b054f702d0d8e8f8dbf3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "cf77fa28b306dca0258339292441795cf67962bf"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "8f5e99530d842f8ff07f719129c7e734d204a0c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.047352' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "0d8e0b74506717ea58f7a7ffe6f9e29ea7a56f32"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.052002' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:41:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147a13297_10b933fdc98434d3821731@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147a15993_10b933fdc98434d38218bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "bb6df939302e52730deb9a54c98c92f1c08d8cfd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "9e32325dfce10578b85a669c2f0574006680fcee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "df51d7811be2c68c2eba9663940f8e4276dba5a1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "75cd0b7e92bda1276c0ae53061913861c30647e1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "f829a4ff09230430ee58646626e429279a51d749"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "55288de858e9fc6811eed86c5d4e08a81bbda641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "f6a4c34e8d40c6bc131ea188c2cbf35bee07426d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "c1f0bfb07836e141bbf8fb7427df954a8b6487ab"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "cff25a66643622ee3a8f1281af6606d66fd37688"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "5024e2e889b51ad1d87bff670456b8602cf669c9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "4c66e6bfb801354933d0ea4bf11bd04b4d807cc4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.375315' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "ef08e468611d26b964b7ebdeef8ec4e6243c1541"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "1e4858c4af71cb646918049bb7e2ad946393b018"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "ea96faf77bc22d5499d402f919dbafe1d80e14c6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.411393' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "71144828878acdac4a53fcae642f2b16dfb6e175"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.415129' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:41:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514976b734_10b973fe021c34d44938d2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514976dc4c_10b973fe021c34d44939ac@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "1f5a8bf4b5f1e7c3c76187b90d94a2a9dcc5e0d4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "3cbd5b91a4199dfd9aaf1771d3976ca23b875761"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "f03a28a15905e780f07f7b4182b979aeb49b5808"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "c459b2d43e64d5749cd70fb40cba9c65751eb5ae"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "a73c16406c2925f6f1203e70102800374045ec5c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "fba4c23113fde77556f48df8b0960061c5e237c2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "e43b973cdd54d43c52ac4d2b89ab595f63935c1d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "08dded7075886d3aadfaf58f9176c946f91c3719"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "b38afb58c27a9cec2f194c05eb8fe1878f5022e5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "0f256084f6088c6ecf0cefc13094d1a08884bceb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "2d79614df3ba487d3906808d7956afb8da58ff12"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.626754' WHERE "email_tracker_email_instances"."id" = 16[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "8346dbe04ac69eb055f7f4d1bbd52d35f30863dd"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "c919446ccf21de768cd6ae2bcffc8ef1a6bd5713"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "ff95dd886750d81e1ba23f949d1e47b7535a1c46"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.666481' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "7709ad7b6b827269ec5b63396f32c3b79d9fd613"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.670281' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (18ms)
Date: Sun, 10 Jun 2012 22:41:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5149eaa75c_10b983fc270c34d404305@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5149eae536_10b983fc270c34d40431f0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "75841306c6231d08c960bf6248d65a0197c2a11d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "e44c70092d2b7fe358aa1a41b380546c60cea216"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "69df2b949d0c4e75a91fb1d131c89982075b28f3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "0fbd8c6214e55a4b53ac71cf011f9da85db062f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "62eabc569513534cb95f970c2d8f6a4d858ed2fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "fc97354168462793db5985e746e6b25fff5b928a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "7df2c1d34e0209d91ac74d134795c408373c777f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:02 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "a5b1347090c3d89b77820bfc48971ede3bbc6402"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "8a66d57e61df47df4e690d2cf0eb99bcf45caa6c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "0d3f0f0de8628650cf533ed82b107c3556b0aa67"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "60eac9a690a6b4c79f981c1fa09b48c05483132d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.143436' WHERE "email_tracker_email_instances"."id" = 17[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "52207e039c76e515329ce3e1824fa97d611ace5e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "e4aa73f8cd33cc20f9edc22dfa60de0cfd8d9c5b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "b41eabe854f8f8f18b0a13463ad156562a67331e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.179772' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "61badbda7be25f1a6137bc0b1487939b159e9544"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.183531' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:42:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ab32f41_10b993fc718c34d3454cc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ab3544f_10b993fc718c34d3455f0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "b6ab9e6e009ce8083a7bcade78fb07c165e6e98e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "16c9bb17ae7bed9bd00f25e25b9309d54ff729d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "6949dc97f0ffb6ae5c199d3135da91d752d3bda3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "27cdcec7fb270b451ef33f08af0719e1be568c3b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "5c56d75c25d06f270ed01b649a7a2808f45fd070"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "1e92b2fef735c895635b1d68a94200570d1b4f65"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "8e7c46f9b8296eec1e41dcdcea73bcc9888a01e1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "3f0e57d8e72ef441636e7bff176731c61ecc43aa"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "745d465c1bec9800e2f924cfb71a49c63619072c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "e051c5d72105ffb9595dc45236d2e3abfa453b42"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "86dcc80a005b15a0bb20850003b95c20fd474ce8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.384258' WHERE "email_tracker_email_instances"."id" = 18[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "464f5b07773dc776b510aadd309d0d8fe9cf6d35"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "a02fb8ddf2df18d606a58f4b96beed2b5d05d5a3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "5776baa6905156b3af81a85b627318fe1f4a398f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.420087' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "4b72f5c7267fd2302ea77b1d85a72ab21c2eb7c0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.423780' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:42:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514b16f1bf_10b9a3fe16d834d3c87750@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514b17199a_10b9a3fe16d834d3c878c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "8cd255374a56047f07dacb94e8fbfbdb93115fc3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "2377c8aa9f2bad13e64aedf4c384166bb654b1d1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "e27938e0afab029ce31e08d6f3479590b67e0642"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "90cf0928c0725d4a757b3a6ad12f926d6931ebee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "11982c40af347bced079a219b56ca6050176a78f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "292ea7630f06595fe8b3fada8ba8c4c1d40c99ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "32441b1fc710b78901125e5d5ef2dd0a9272e282"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "d8c8eb86a6de5b4e88d91cee9166f5047ce88e8d"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "58bd10b47be452fcf0a25402fe5d9c60efb81bc1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "42aae9e891108cd7c0ced54217e658546a05c9f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "06437f1fc2e624b7dba525f9582f2abda0722155"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.289432' WHERE "email_tracker_email_instances"."id" = 19[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "735d4e6e1096d29e4d5830d3f6914b34fa05e3d5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "f25f5bed1290b54e09ed09c08e769aff9b654105"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "98e0b856b9fe9dd845d8e2f5c2b92420ae397a38"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.329013' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "1afe04e33cf7ec456fcb4eadd4e451681893ad0c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.332735' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:42:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514bb577a3_10b9b3ffbbcc34d388ef@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514bb5a0bb_10b9b3ffbbcc34d389b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "00637679ed0fe78d191b3da50c92df5e7f9bfe0b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "5da5edfd8b22fc3b4af28dd7367c6a21627d6956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "d1443a9283cb6be1b0f27b71dbd601e25b01d424"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "b01e19524fc54d5bbb6958a15b31201b3b344e1d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "f888e8a7ec77a03dc369132cd874224373d4d223"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "4cc8c9131dedf060c4aa1eac51fe6418f983f2ec"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "db3d2abbd81933df450dfe968463a79c4ec44c25"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "6f242c3376a33ad2a0af95226d36f529b0e3ed43"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "6db80b76806d621fdedd835b5bde9b094bde30e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "a87eb70dead07a5a27b7762bb0189abf8a9788f6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "e41100a0dfc98f3ce629389e44222c83e7bde61d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.532932' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "b7d6a4446117647301014d22552eed66c7517262"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "a43fba51e411328ed5b84019aed2ffba64d69913"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "bc4939f57cc5c0e5359ad743907d9d0f4f7e8adb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.569122' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "1d2ebfebc8a561d58368ed7f97a70cc53cfc4d26"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.572895' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:42:24 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514c091f14_10b9c3fef60834d4061342@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:24 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514c094619_10b9c3fef60834d406144c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "7ac2e5095ef46da9fd2fd2686096f647245dcbc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "b71df5006a4dab0b130ac780e7a7f5c403eab3d9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "9763d74bb2f02885ea4f334a0c58fe9673d75c0b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "671a6143f3de4b312843ddbc81bef5665fd01a67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "9181a5060ddf5484ea068ec8883ae72ab243e33c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "8e1f01093d699e00bea7795bea0697c37e75458b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "8b5fa5bd0e6e020cac404ec585f897f0c92b2a18"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "0b53bc80cfaf88918b1d483e027e955bfb850ccb"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "907121fc291fa59f0947bbe6fad8f6a27707974f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "08960f03251a94b9243a6fdab51bc32bbe73e5d2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "94c324f32a5edd07ab5c6bc58facda54ab549715"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.194009' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "2071a568ccc473d76531728334d7c94d64c0be49"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "ba01cdb888eeff25b60e419aa9728782a9ae8ec9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "1289a3e6cd5780eaf847fc776350b2c7044a89f7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.229498' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "21c727040e3d72ced0bab10aeeced4a718cfdf54"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.233197' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf3eed2_10b9d3fdebc434d4490735@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf413ce_10b9d3fdebc434d4490896@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf43678_10b9d3fdebc434d44909b4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "d123c33d2ebefe07d1d8bc1feda2b72cbe4908a3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "14add9934970e61167c9dd9edbca83bd8aad19bd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "73dda7dcc1bcc78b744211649e96029100ce84dc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "6602895da9d927540a90893bcdf8482aaf8f0b90"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "ad286ecaee389376d19d4397eb271cf41d00407b"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "879398582892d0e2f1315ee315eaa74277ac6368"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "3d2cad5c6bf205a248aac9aaef950a9427d3ff27"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "6f1ac5f0b213bbe9387f3ec6bcb3f74fc4c2a5ae"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "e97b9115553c795a90ab0939f89750a91d3d781a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "14123403f804ee58d73d21f84832672218f97006"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "a4e7647b64cd2395f65aae6b3f00848c7e0085ce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.654859' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "c75edbca3109bb4512e8ad9ac37ac64dc42f31c9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "ef3c11b83433c53b5df49fac3bc8d7e6fc87c788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "64f9f61d7c46896d537e8ad1198478698b639387"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.694187' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "f0a856bef853e8b7a317385f253d6dc1d1aa856e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.700131' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb1950_10b9e3fef0e034d406288d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb416d_10b9e3fef0e034d40629e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb63da_10b9e3fef0e034d4063025@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "7e1e82058ac1dd29269860a0aef91ef9ab2f35a6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "f62c07a1a664645c68fdd69217ad29c6f3759178"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "266e26b28060f8bc5fb7373e215e8d062ec2d004"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "37678d83069746726c7ff1fa47a1b7f3d40e915a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "bdeae472759d8326719e336054c4479cce52738a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "8145cef4681e7b488550e4514072fe1d15b55bb0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "1d17a1ef1a16e59a52464d94540fada2fd039800"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "6fe458708797bd11834e24ca1eb0c4f562d4ac5b"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "9dae0888b1426c856b418e84fe4e57f117ecb2a2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "2ac0b5be0e421b78cb7e7479cb4e91ec2a1f2307"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "4161d419a20d4f275a2fca3a55b0567d30141032"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:08.000000', "updated_at" = '2012-06-10 21:43:08.965020' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "6fcb7a11eda4761d5e39c7724dbffa0412b70217"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "7038d59d7b77a228baa07ff962597abe57fd355c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "ba422477371d1850c779a0986e8b60f119c3c293"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:08.000000', "updated_at" = '2012-06-10 21:43:09.000236' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["url_code", "6087ececf414d8ca2dcb1175ecd7b13530c6e817"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:09.000000', "updated_at" = '2012-06-10 21:43:09.003963' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ed7270_10b9f3ff228434d382595@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ed97c6_10b9f3ff228434d3826bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514edb16b_10b9f3ff228434d382782@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "14047080d82b408a7eb7a95883785f8c1233fcf0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "9ccaf800de2191bf824c6ae7cefd926ec6773a60"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "dd0c3ed3792ec1947db6010f19ae4f3a2f67d086"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "6378b6d81b926e3c0f18872fc48dd26dae133f2a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "bd16e610a39c03426a091122a67967af468f7c80"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "29b254ef00fd812743ef264b5f85c29bdc2358d4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "c33f4314f2b268372b31625b25e649b40df855f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "d9a17a56d6c49e769a1caa352a26f7c1b47831b2"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "c56609600f604c4cbe407b1790e10203ba3d084a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "cb5f444bc72634928f5938c83db2cc8d41bf34c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "43869d563cf56ae139c3a234d735b62eb31eda71"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.505076' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "81cd3a3912f44b35de7a7ecb7a1b07b3207aa284"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "d548c0ddc0c3ccb7f734be2b1f0e8d0b46420ee3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "7099a51260949679e37df67d36f23337017c80ef"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.539819' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "01c290a1c7cd3f6ef8b26f45cc5eaeacaac5e4be"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.545304' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8b56a_10ba33ff910434d443988a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8da98_10ba33ff910434d44399d6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8f53a_10ba33ff910434d4440015@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "e58085629aa148328a8a5b46256628ddbbf74e30"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "39d49bbb9e03e7e36de2e27527442a9e10d22d7d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "b464f8802eac9bc9e5648307557d43b90277d724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "a581b1987d4da5a03f5fd9b44872213e5f79c468"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "3718a5b83c5449cbff4971afff0c3f8b6a962fc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "bab047cfdeaddb86a8a29c5e2567fc810bdcc460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "e92d222e27918585164f3d2b0e23944ecdc4b839"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["url_code", "3921b517c9349c5c2469bd3e2b1069c6631b96d1"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "eab75b62bd4fe5bf85bb04293297f16514820fa1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "4263216dda26be2c43fe154d6c26b001e22e1ff4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "00e0008ac4d40fb6309bcd22e9d66dad81028076"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.028209' WHERE "email_tracker_email_instances"."id" = 25[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "8b864f5b439726056ab985242fe99403756e0225"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "eb1b59a9571c5d92ddc12070bb573e698a1e7828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "218791272e25e9b44d1ba5e0c60593512de4ad44"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.063321' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "8813703b84b350eae7bcad4dd15bf529dae3f4b6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.067058' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c166f1_10ba53fcff8834d40915bc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c18bb6_10ba53fcff8834d40916ea@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c1a60e_10ba53fcff8834d40917e4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "d122b2ef605142d0fa766f166bc9073800da3d28"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "6522cb0729dd7fdd859a5c68d38588deb6d2f826"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "ebdb59336fabb0362eef52d033f270e810dcc678"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "0a8095a0a2517c50709833c54be6b7dcaa4ddcde"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "d592a7f0ebff2845dffd417a5748af6b596a109f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "9082dacb21fc0ac5077d341fceb5f1e526d05e4e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "faa0373ef56d0ff20125d3d2e6c5fa7bf16f9e77"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "bd3f93e333a917f08c008fb4fcaba36f145e61e4"]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "036a19c3004f7d55b50fb30206fa3f8c98c97e51"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "b3aa35bc37d0204ba76b04ca29962a46c399d78a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "2ad6f467708464c5d341317553b062c523a2c105"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.447662' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "0fd9268fa1e79b3291d1160fb78a662f90e1622b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "7a701b3650168cdfdb151bc98a8fa336e2806d5b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "f6a09af833dc46721eec0c00facd878e52f30a87"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.483057' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "291354c38eaea59b813c2372d4a8e54341a38b3e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.486839' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:44:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515417ce70_10ba63fc365c34d40973e1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515417f3a2_10ba63fc365c34d4097429@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "e7d15620b18af149eaba522c2dde74f0b3279b8a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "f1bee5cdb280501074bd26efd77cd343ff977ebd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "a6075f3cf58eb6c32f00fb1c7d575b003d9878ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "7f912c0dbab25c3891cb4f77896ea927497ebe73"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "f07fe3cad6d7ec478ac07229147abb2a1c195102"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "d4a338acf4c7add984c3456c61bebbd636e4cafb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "485f88d84e965205f7fa3096a6470dc2e779e0c4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:55 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "01d90f8e2864733c7102d6cb597e9ffa5108ec82"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "b19832aaf026da9ea4a56b0d3faaba73edcd8074"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "a95e69989926b94c9c0ac4e15ea0d033574691a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "b12b4172d7b8af60abcc09dcc1151e80f2a8b650"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.102965' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "3e909afcc8d039a128a0c247251378c1ae3a77f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "efcee18057fcc2f47793fcea6fc4534ec3868365"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "952c6148f21632e0816d15cf54fc835ae891dc9f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.138624' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "86858240901e6ea46de8ac3484703445948819b4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.142340' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:44:56 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5155828c8b_10ba73fdb3d434d4448364@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:56 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515582b174_10ba73fdb3d434d444842c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.3ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "a0de488d7c575ae198fd9af86be2d11e426d73f3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "1b447b77d1bc14d018bf299fda1c9413d04aada8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "b9bd05bbdcbd1cf0b299e9938e23c06c49f509e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "7e82a781becb47cd5d0f5799ad1cc9508a54724e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "5a7900853443cbf623a71c29c27ce2a567d9acf8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "a091ebc9281e34509ed1120afabb300d38ed5d92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "c91b3ddcf0665a983c7655bf22af9e4a8dfaddec"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "52c21478c1a05a4b18b4e6937e9d808d06acd6f6"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "a0df5574e6c6233f07465cbc42f6419a150db337"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "e4e97d1e3760e9daf243bff9aa5bc321fcb90c15"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "831e997e0baa40feb19c62eb1beda5fcb6fe7203"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.642177' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "7f7da8745a7378876989743432cf7dbb32e76da6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "64e70da8822cc3ca4c08f319e44cf28a35f92ebb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "d2903b0fafd842b9e174220795e1f6990177d6bb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.677122' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "7db7490985e92e793c1127e8ca70deaa9df0fa94"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.680864' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51576ac799_10ba83fee2d034d402962@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51576aecf7_10ba83fee2d034d40302d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "3a51fe676876e808bd765d0995ba42b68ce52ba8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "e6533f6820019c3e51c350e0026107371dbc199a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "564b77a9d60518e656059533f9243e02ddf970c2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "0d1edf73a5e42c2b3c13a05a852ad90da877cbec"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "e0d815aa0ea13d94d382be61be88cfa5d57d9a0b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "5197069a86bda629e88cafd02343ec1747bc80e7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "b78bd558b4ac54aeb7d025bf61716570e21cbab3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "96755f32d2eadc0075eadcd64a957214f809ab61"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "f05060de4fdc98855cda52764c177959e3922612"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "68f6f251aab53654dfd846537d189d678fbf0e21"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "6019b27801682e663905c0c6872bb26cd7f13563"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.518760' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "eff4e9501fa58a5f3938f2f2a4344a36007ac6dd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "2af970b255a109392eab4cb2e06a2a29f154d347"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "99eed715d9b2118275cafb32610967be00532f2f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.558417' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "c049ac9a975442a6f75357c02eec882132e69a85"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.562272' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515808f28b_10ba93fe52c834d384921@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515809196b_10ba93fe52c834d385064@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "23c18a51d7a69c647bd71c7c4b6ddf901180366f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "123a80ac088473bb1c58e63cb4f61d4d7dbd16d5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "3feb93f9ac2c51ef5bfbd251858221623a217cce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "36b3d1e3edf8b4d132ec0d497cd8e513ddf6748c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "909d50be5d5294d604e7a3b4487850c0eb4be6f8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "5f559f665ef706a2c18d2e16dfad7cb5eaf8bc0f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "e2258f37206f665cf50659750d2d6d61910b046c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "82f7dba4cb4c3600f7008eb274d3be62732883db"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "7f355b1aec22dffbc5e47d1f22ffda1cbcb6f49b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "25aebbc0f238366f650138d100fbce59439a1e12"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "309787b2cde9f9d2d3bcdbafecc6bcd43e0ddc42"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.441406' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "3e5c30de917e17b6e13ecad88ca19d16fff5e508"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "ad8b90f5d5a002b58c88a7e775813afad174ea34"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "953ca7a992c9dff9613f6bc5317bc55fd3e171a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.476853' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "561915326c65fed5f01747002519ed4adb734e61"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.480545' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5158e7b856_10baa3ff2c9834d38399ab@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5158e7e069_10baa3ff2c9834d38400f6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "58cb166fa2715167e2053b0d7fcb4c95bae38456"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "6a65f66f159e1bc88b09a5ad4144aa63061f99ed"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "b9d83924fdb23f53ecf297ef3640f0b10ea56cb0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "5db31698814b01af791242c097e5a4044b3fcf34"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "fd4ddcf082fb6d677021f6246b09894e175ee2a8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "4ff5174adce61bea228e44bbf5746bc8c657ec4b"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "239fafa3ca47e0e6d108225b9ef75670da864240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "5796937dd29fff0ba1d96516961787cd003b4240"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "6fa4c3673e7dfc8fab05b4b8acb592e04bbd8f28"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "dca21bf6d7a8e526b82213527e28b1e736419f03"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "3d44ad6ca3da12c538ac329a8d3f56cea6cdc0a4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.863885' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "f54203395482f7d5ada698480fe82e43010ca49d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "28d394a07859fb052116686850b1a3d9701a201c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "dfe2b953113d23c461751a74dcceb4f5bb2ac0fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.918883' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "a097f0c97ee224edd7ee51c56c2aa5fe144929d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.922921' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:45:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51593e7f91_10bac3fef88834d404197c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51593ea703_10bac3fef88834d4042010@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "f6c6786f3b91aed57cf45ce7eec97b4b8183ad20"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "dbe3ad7d5b8a806ff2d0633cb48e4d807c4fdd09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "689bd5f3a63144bb59c4275189fbf3b317b015ae"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:55.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "c0f31f54cefdec99009919f2ea8b7c02b6546ee0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "9de161e11de45914098724b430c9ebf18cd0bbb0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "89c5f2a3e0ffd94da19b3b2b55e21b64a4f3c3a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:55.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "0f2f63c0a5934ccad2c96b642e1ca51684f77995"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["url_code", "4797407415ba318ea837570a1d5a52cb1971f615"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "77ad9c0d834652c5bd6ffa93f4a84276c8590360"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "31a74643f4a1210bc6d00619a471e477a7e0c261"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "dfb81be49b645c9bcb4793a8867d301b33ef4f69"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.018565' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "c259a9be1669b621cb224b4fa1aad37ddb1f3848"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "fd442871477b9cfce77181a4230636d81485ea13"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "8f403980ea1478ec2227bf03603e29cfb2c17196"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.056024' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "73f7fd5a06cb3f18b81d72e277d4a7abff419ca7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.059642' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:46:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5159d14ad5_10bae3ffc4d434d4036387@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:46:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5159d173a0_10bae3ffc4d434d40364c6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "2003ad688de7393c632b8fab37cb989b1b86af1f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "8e4f90c3b289e570564fdd3155f56d0a4c4f1d2e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "34faba836171704b694c272ec2f32214c7663358"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "78973871dd9f6e58535703708c3361a4ad5094ed"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "3a4ba393def5222a0369ecd4b7dd2ca377132a56"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "7577005f2f4e03c99a121ad049c25124c868140e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "e88713981410ea8ed0bb0dfbe5eeb66217a1386b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "424390f9a0c2434923a4d896bd61a4ae26d07f0b"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "199bda6383f40aac67bbdcf3ff483b019dc3d36c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "58523c40536c2ba4ed486ec30947158bb595ace5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "d1aed97075953d6b27c42f2397b13730ce94ee67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.425541' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "132768fce606c14f3d36875cc8954ab298537aa3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "9ab66dbf5b4c8628d6894baa96da9c08a366f037"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "8249b1fadddf3298d68b2170d189290009b85501"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.463615' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "1609ee35c657eb0388410bc0d3c7aacc10e25150"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.467265' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" [0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:47:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515db79f9d_10baf3fd9c1434d446779b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:47:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515db7c4f8_10baf3fd9c1434d4467878@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "35bb379301b5265432be1e2d876bd57a47c3297f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "ce1e126fcfdc592837eafd92226bb9e2f8e74802"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "36c2c942e1bb3795fb5ee576ce6453c0ad46c55a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "a27a7604e2d5769d4267f6f4fbda47944b057f4d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "22848787938c8936c986a4a6990f1fc5b75c77af"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "488d1b941721589a04ef5df6640b04d738e2a72d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "a0f18c160801aad18590ea443625ef5381f20f3a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "f43ea603237e37b157beb19daae2448e38c92602"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "026f29f9ad8b83b99d93610ebc63ff54b4f7f163"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "a1ddc7eebd463ec28ae14b4d547b13a6ddbc749a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "e2d6dd04a2b160c9e4796003f7322a8cbf1e2898"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.848334' WHERE "email_tracker_email_instances"."id" = 34[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "ff2e9cd6555967f0d44ccf6a2e9eb8fc20b76d97"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "cce4a8893a573df4afaed7b1e910a1db04b965fd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "525cdac2164f8a07ddddf033aabdef05f8772721"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.882974' WHERE "email_tracker_email_instances"."id" = 33
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "10e2817167a70724ca07ededa482643cd0ccbd67"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.886730' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:47:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515f8e2f5b_10bb03fc704434d3c492c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:47:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515f8e571a_10bb03fc704434d3c49330@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "256f03ac4f38ee249b2572c7618252fc01b285ea"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "72484567d4f3959dd3bc3c7ce98419b6e188e43c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "09046ff0a71a0d1be5c5b8d9a583abc8546810b0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "2fcadfd5398ecea66d0fd0e9dacf6a17bb3ed53a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "5e938186aae8fe29de11e52d31735169b1323c31"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "9bbf4b89c9cd0ab6af137661d4714a04d3cf5c09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "0017eb27321a831c3a58e3d9fcb0ca633125dc37"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (24.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:11 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:28 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:28 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:51 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:51 UTC +00:00]]
  [1m[36m (101.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:03 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "31fd80216878ac4566a29de82e250b112a8c2650"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "47a4e239050b94d6664b011f0613085aebf3d3de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "10d4ec55f633be33327779797a45d81186d9dd6c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "f6b441a667b53a51abe0a8d4ddc1c7d5ac368887"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.758713' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "016aa1dc9d12a6455781e8c6c62fa4f54ad5c555"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "cc5fd39d22a2cd17a7c2f4ef14a8b1b6b6a00d82"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "2608af1b00bfe52e9fe5d2271261c2bd525d3963"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.795208' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "57fe72eecbb9e49b76bee584ab662e40dbeab9c6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.798923' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:49:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5166bc9d99_10bbc3fde1c434d4481849@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:49:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5166bcc272_10bbc3fde1c434d44819b2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "3f888c940ea54df59d27d911af636c8eadca092d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "0095a240c89f7efafebad6fd0808275edb5baec6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "406518aec81d917cf6851f4fa1caf67e4631473b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "8d7fa9e5bb5236f12bd230850477050242cde0fd"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "feb4c3011c26eef6f0ce28382bc8aa172a5107ef"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "726ee733764006433547e68a65e7c2c5995fa545"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "1e2b3deb16ccc44abf052c8df99942a54557f9a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "81b1ddc37e9e3f3f6cf17edc47baf10dbdcd361a"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "a6b71623b0ab70665040057e319d974c8009cf99"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "99d4e88eaf1fb9eea89337e40ca57ea98c87e3b0"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "6c42c926a1c8db0459b22a4ca4fd55af7a1299f4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.299123' WHERE "email_tracker_email_instances"."id" = 5[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "4b50ef0f2cb7a2c1300808af77ed264aa73fcc61"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "714a3b883a52f44f944f8a0e7350d3facc698213"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "ca81556c4eeb17a8749c316125590c7aab2c4c91"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.337125' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "17c19e7c5fb2d36e076682dcb4bb4a9bdbf40ef6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.340866' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 22:49:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516825e046_10bbd3fcfb5034d4084237@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:49:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51682607a7_10bbd3fcfb5034d4084316@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "83fcc51760bba9c5ac9623573abd5953abbafa39"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "57f10ca8b9193e0de888f848f2e24e2faec8fe39"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "6198040fb899d30f784df1603003c95d2b38aca2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "6246fa83cdd8672fddde76b2ca2aaa86b15daaa4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "9647b88d673aedc01912fe2d8e4c6afc4cf146bc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "5a20cc59e15e7a074c607918fb3a81abcdab7c52"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "3bed0d5a76721fdf1727575c231e8c9e538219db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "0f21c69df83d77fcec333bbb045cc7f2d4f1a609"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "c69badcf1d18410512c2718aa9fd22f80cde0541"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "a2ac28dd608e1c01d9724b8adb743b6a5e283700"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "9fb557468e996a94f2cd1805e254f7a9da2596a8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.561531' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "cb22452646165230d3d0c3e074ce65b4c7536ff1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "1cda9f33aa3589d434dd1028dfd31a6137ee26b6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "9580c80b7326a1f1cf0991a682b18c3c901279fd"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.598126' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "05ac9bae03a858418439958aa3e1ae0c7d78e7f3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.601883' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:50:15 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51697a49f5_10bbe3fcbf2034d3470994@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:15 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51697a70ce_10bbe3fcbf2034d347105@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "b964de1172d5b0a130aeea679f2c04ee747a8e67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "fcbbe06d16b80e850e8397141bca1e8f3a13a959"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "3c3de0b605f5bb40d695d490b15bb767820c86d9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "808bc3c6e64cc2b2bb312be53bd30295f5298d62"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "3504752d29a1333701afed1a5ed0e80a269e06f7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "319c0df1c0ab410b3b51474c6ef5d493fdf83c90"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "60bea4f20e3a02b1473bbf3560e5ae26806e0d87"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "c3f0ae96fdfa43b859ea999093911ae34090a4a4"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "775ecf73e5969d915a979f9bad7a651096ecccd2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "cf7b463ec791e6b6efaf11ea6c84b0f4be358e6a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "062305554cf90270da250bd3cd84181479d7f65c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.548308' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (30.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "467702a032f7205ee1b2f525e4dc800c95b7dc9e"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "905cb8e902fbfea5cfb891a68974d6358eeb59c9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "25d41c4858a4b0317f026e9a8a1ce2c38619a99d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.618078' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "53a40dca152e2fbf7073f424d24a1d3af827a61d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.621968' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:50:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5169ea1005_10bbf3fc864434d4417687@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5169ea361b_10bbf3fc864434d4417787@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "12f6b74037682b322628313c98684c200cf0e821"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "900d8238ed38ee0c83d054d4ce29ee262aae5e77"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "e4fc1bee1fbad6df40072159dc977ebdf4304684"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "54f0c670aa5e2b92bb0056d65c04229deff99945"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "825e2ced51ac70c27c952b9296f9b9976f75ab60"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "3b4eacd174ad8e075d73ef9e6ebb8d029fd60400"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "8cb9b4b972e97f8fe805aa8f2bf6f39c80ebbe70"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "5e9b0ef9469330c6f38e9611b8c9849b78e74e1e"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "3cc8c46f9e871ba13fb915e311abf3be45ab64f3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "e09fc9a9140923de8eedb9fc37bd2a86524258c6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "83f952ceaf720ff2f9490586d0febea03c951dd9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.405330' WHERE "email_tracker_email_instances"."id" = 8[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "755f9dc55ae6068443a85b1e70a4ade49790c475"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "17d2f6ed16ea7d9cad526a36ff3ae95f10bcde4d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "9a517a4c2e6e5e033bc5adff6324e8322bde161a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.441425' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "d6d20f96dde82797da9f101e291ceb62b7702745"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.445122' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:50:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516a276748_10bc03fdb85034d3c17a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516a27909c_10bc03fdb85034d3c2d7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "753698fb8cb2c3df5d0e50da2de6a03d7b6422f0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "7d3cfdee5267d422372631584f2da02f05b6ff9d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "303471ca047395cbf827fa5b547ff82dd6db8616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "f437cd7bb1e10cc74d4951e879c5d6763d755a51"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "9c289b54a5adec39e9063f4de11be1f7184e7ba4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "7f652f165d62456b3931eddddcb9bcc97b26e719"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "12a879caac24086ce6f80aca1941a122405e1113"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "fc2b4731c66e9f628ffe4cc2bdb184a40b2f8f9a"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "20e5fdd5fec185db6830fca69c47e46625dd0a51"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "64d1dce56a505ebd24883e7db53c60472b5ea434"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "490ab082e8c70c772a63010bb299f87c90ff6749"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.441420' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "dbe53a3942075eec13e3b54d8c5e505ca1097433"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "079bcc2a16fa87d4e1a194c7d61bc7f6f09f6b39"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "d1d9947f8a6088a480ac0220f6a1161a660d0e47"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.478434' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "45902e6d25537e3aeddd5997e2d315d4248b562a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.482274' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 22:50:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516bf80f62_10bc13ff14d834d3854757@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516bf837d4_10bc13ff14d834d3854893@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "6e12227f938947f951376736c42b4eaebd6acc78"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "1d69d0bbd4d59d541245f040ad8437a012ae3fd5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "a407a0e413a14b8d5689e43a40eac3da6d86164e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "85b82a49e01a408cc409a51bd60d7af8768f945c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "8c66c5f4ab81c2946a213d9f40dcce9e2799ddca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "384a3bf979cc3a26ed78604b8eff07f9290bc60c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "9314e6d8545ce98df8c66c78f99d45334b7d93bc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (12.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (22.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (14.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "f2134049c1d886dc4284173b3e918ccc16dcc0a6"], ["user_id", nil]]
  [1m[35m (16.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (24.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (5.0ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "284dcefd89d1e88a5cf83497de3bb4455887a9fc"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "e37f3089b6d81d0a55f61d81022ad40e5084b0a3"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "3c4175708546fb7bedbcc156869af06d68911e97"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.612104' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (13.0ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "128c873cb6cef60a69196417827468baabc128ca"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "9af07d80741695c841d57d229d5b548c7e9afb8a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (7.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "af10f87cf521d6ec75e05c6421efa549b4f175db"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.700521' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "01c87eaa81c2125e9d0ac81f356554e9859ec5ad"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (20.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.723887' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (16.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (29.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "531f0c0c8eec51a254d1af497e5af5056352f8a9"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 12 LIMIT 1
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d42ac9_10bc33fc7fd834d34869b0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d4ab54_10bc33fc7fd834d34870aa@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (20.9ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["url_code", "ab2c7cba123c65f90b5ef8e48bca11807fa3fd51"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (5ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d4153b6_10bc33fc7fd834d3487126@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (5.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "639184c939b2ec86eec615e7f3d3ead40de36e23"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (14.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "194a86c326973fca9d5f03d126230e37ae64c0d5"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "9049a4f68930e46ed12d629affe4963d77e0322d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (33.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "2eef12ec6aec01ae8ff20ec93e8631bd91ca88bb"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (8.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "d09bad7be9110c178e114c21aa9a523d7e9c9bc8"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (24.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "875d39c5e829856131fa0b57499dcec2bee79e9c"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (13.0ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "163c6794d654784295811690e299093555fd841b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "9a305c88a4407f15b77f7b066104c8751544ec6d"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "58d87bbbf8c39d28c3fe13c699e92b854d9a4e86"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "48afe38f2392891cd2ba098e3313eac5619a19fa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "d17e9fe732b5d19bf04aefab5688dad35ce0ab2b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.565950' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "c27c90929c1e852e6de755f815d16751ae006ca6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "5f89196c3625a740dc14cacb906d990b24f6d82a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "eb4475b8f850392bac26e57855d53fda50bd6959"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.602154' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "3e2843558bfdbb289a77764ad0f863de802b9ffe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.605956' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "53c7827d2f5f4c51b4ee141e03784e1763a86651"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 13 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f19ed56_10bc53fefb2034d3c6001e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f1a6d29_10bc53fefb2034d3c601fb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "474ad364104903be0dd080b2524b48790a02216b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f1aa2c6_10bc53fefb2034d3c60228@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "81788e981f65cf030e9a1d98035b366245a3621e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "a79c84a210d1aee32aa61be6933295504866b481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "e7f1164c972631c348fe5245855a5af1667dea8b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "0601a8c75ddc9299549a95bcf9e9dc273efcf97f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "d7b455769523706bdfdbfd88c6d1f033ed4590f8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "d915f01fdb11f03de73240cb6dc24adc2fd7f5ee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "3d483b08209cf0bfc9ca76278125334adb266a46"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:02 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "3e521e938c490f044e06851a71ef77c70ce3210e"], ["user_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "5ef733f5eaec5542c66c0ada28e0f8d6ce5c4e25"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "bc973574b9642b8ef98e4bdef463517527bc9a1b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "5b4b7781eeb6392add77cea6191c1092a8d57ff2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.121993' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "b740f32b0631b7bf5ef978d27d95074dae4705f5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "534dedba85b5040db696a72c9016222f7651be5b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "aaaf7bddad9c33e5171051a4f47732cd130d57e7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.159334' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "eb270eedda615578af13b3cfbfdaf13fdb90ed09"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.163098' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "c179e8daf094d3cd10e49f1e033c8d6c8dc5ab33"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 14 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5170332bca_10bc63ff419034d449340@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517033aaba_10bc63ff419034d44949b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "308e720637db345213a1ccecfbaa71b63806e548"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517033dd0d_10bc63ff419034d4495ed@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "227d81c45093ae7c7b8518520cc14392a6a66280"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "4b61b462e8dabdf89aef1865fa32d674bd72410b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "64ec62e8729649a3c0d7e6ea123db50e0c8f3a1b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "04cdc4ef0359540d7cb4956f2be44273dcc55842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "980714fbff16849cbd2471af845c5ff79af917fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "af1abdcd9733069d8af65991fd508fcfd7f0da86"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "0902936909601084efc41613c8cffc87727c05a3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["url_code", "d9f52ba18b7a5293d26fd78ffa4ef463358fa880"], ["user_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "a612907be874b09112bd86872922ef8a002c18a1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "e82fe8f414ec09f58b3329a4542c614cd71dc06f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "42a7d022c3ee7c66a0ed421f2fca3cf3169c49c7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.010452' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "e6fee678af5cd3c889deed7c01db999cadeaa0e9"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "a0efb71c1d65098230a83f15c7b4143252e0e13c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "6b04a5c3438dbd25fc1e9630f3024a99d7d964b4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.053049' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "57f2408dd694b279c689d71af6b9e00f1180628f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.056790' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "0eb74673c62b40e6b4ed003925740b601f424c98"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 15 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517141931c_10bc73ffdde034d34343ed@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51714210a1_10bc73ffdde034d343442b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "c67a6c96ed73a209cb7be08054cdccf040d80b61"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51714245da_10bc73ffdde034d343457e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "5ce8fae3ad8a7b2fd51a6e18e9e879b2eb1a190e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "6add599384cd9cadff781985f468311cc65f47f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "514c7f6bcdb4228bcadcef8eada40b263ba9010a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "64aebc6522879d55a41dc99c6eae48dad39b3e9b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "96c6ecb0a224b6cf167fa6c7ee38f366eae67638"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "6d707c8dd7d52e422e87a3a219b0f8391ec38b5d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "c4149750052a8b73e6d6da41053c0c1e5d140687"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "8366913c02b656cc3378b7be29518854fb3af5d8"], ["user_id", nil]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "24ea91ae08b89aca90b87b3fa8326554ea57ddf6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "bf86628218a5fb2437088411804f7961e16bd691"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "e4e5d66354d79b700841c8a6684b83689027952c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.683094' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "4b4e5e31a1cadd5871191c5b68784b0715c61a59"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "e0b30fae057f91c9b14bca4b3e4b78123948034b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "aa0cf570617e8a8a15ebf1e733090482c6664f90"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.719266' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "6a44a45be01755753beb7973e66e9748fe6ba60d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.722984' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "8860c5440c662ecf737ff5b27ec0bdb2aff14ec1"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 16 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171abb7fe_10bc83ffd65834d3c5696d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171ac3714_10bc83ffd65834d3c57039@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "45dbfa271cb62a6c0a59a96efd8ad5db860566b5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171ac6950_10bc83ffd65834d3c5714b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "c63b9afe393b53ca3eac4c981e3999ccc4d76494"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "3090a72f44339c00bbf8aef54ca8bc08c7245ceb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "907106ff3ab71f3c687b1984b58aff030fd068b0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "c5e759f9a8f373422593eddd75dbbdb30ae37bde"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "34b2bc3c20d5874b5825188f943767bd099250dd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "419badeca2cc31362f5d5f45e854ccbdb3cddc21"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "ef635037d03206cd35a49c9c5c9ab9b777931a36"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "02b8cb836b4fa670b120610e5c2352977b5ee37e"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "604b0e932f4362a29fd9d4f227f7deb38f7d21fe"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "dbb1c84fc0e349d3d647a56eeddb1a370148cbe6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "267315b62782085c8d56ecd520198f9eaa4601a5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.911539' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "0a9c9f5f2b7a37cadc8b8b341bfb72e3e15e4136"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "ee32daaca3327ae24c8ae7b648ffc2b7447952cf"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "0394811998a87f8f49ea589cc45c5be56b5fb530"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.948614' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "7882548c939e2eea2efc1473c3a5dd082f9a81ab"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.952229' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "884dca3c42627008e521c146bc23d50565c944b5"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 17 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51720f37fd_10bc93ff194434d40205a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51721720e_10bc93ff194434d40206b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["url_code", "ac785d3a076231475ec3b1843712587a5682da0f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51721a4de_10bc93ff194434d40207e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "77ae443bf1e9c3e028132a6c8baf8212ba20cf53"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "1f7343640836acd3ae9d4c026ba38cebbd59c141"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "bc2a6c97d46f55e93cd555c98811f863296c3fcf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "266b0e2de398261219aa8ec3cd6018ac82a4add4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "ae80db1eccaf34e22cfd55e02485f5b940d9f77e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "b7ff04b4896ee9d88cdebd232f7b093039be0016"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "5360b6b4327bd0b521d51896468151381cc127ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "e9218bdd3b0c8dfc588208c53a665a712692aec5"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "794e3f23b785be3a649a57650d4e956599536d30"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "474217ec0e3d456ec704025e34ad9aaf2d35c67c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "37bb3d8680905e3c2033097f6d0129296759e55f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:39.000000', "updated_at" = '2012-06-10 21:52:39.962422' WHERE "email_tracker_email_instances"."id" = 16[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "0395504cef5e73b8f00b78b36e5b438506adb448"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "6b08990e0e8fad2f44404b5f2659d83512a40770"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "70ef6e0ce7372fac3debae3d7e1b5e38678c4e37"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:39.000000', "updated_at" = '2012-06-10 21:52:39.998161' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "05700c7f9f3e6a61312e28378896b57ff9be6cfc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:40.000000', "updated_at" = '2012-06-10 21:52:40.002165' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "a594491484cd28ac1683a9497f4903547f22333d"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 18 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51728c262_10bca3ffad0434d3c635e3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51728148ea_10bca3ffad0434d3c63689@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "2bd51f6f5131e0c1d28c3ec2bd6f1caf0fd42915"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5172817dd2_10bca3ffad0434d3c6373b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "631ed409c348b0519cf64faf954d640ee2d79673"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "4d650ae7763456c10381c7d2040df69ac59a35ca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "85bb200b231045a5de3de368e77949dcc4af7a31"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "8f4d104944f4c4a06b7b19cbed6f91aa3b23f7c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "45d07c99f115a4d036530448e8d29cc25979e5ae"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "c6fb6031aaa7cc84fa894e004b780e70a55380f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "43c4a07413c5cc7edc576a7746cb53c7a8b6a399"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (72.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "3b5a8760d98858415d17c14a080348e0e7d36cce"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "89b06030bc2bdc44891f6fa0ceb56c97576431b0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "6e49087a252f82d17309361342eff0c304af538a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "45300f003361b13e05b58a88d88946d489077cc4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.896240' WHERE "email_tracker_email_instances"."id" = 17[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "1d2c0445841f2a102764493e81bbffb6b31857b5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "876ac8eb6b4739b706a6643e99161aa305cbd19e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "6b0343ad646a146439636a4b84a50fba1bdeac75"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.931567' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "da6aa20049fa601ae3abbde8d13c6f59d9a3aa2f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.935277' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "a295efda6a7621d27d2dab61e20de58b41341346"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 19 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:30 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175aef655_10bcc3ff114434d34109f2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175b31e7_10bcc3ff114434d34110b2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["url_code", "96381be1fd4944b1e1cb8ea61177d5dbeb4dd378"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175b66e8_10bcc3ff114434d34111dd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d2e81cb2a6074b1386b966e7c2ab5469686f744f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d99e3d60d92d3792ea1c3b79b6dbc827875bd25b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "4ff6604fe461791394b46d675ba19e4c55084c04"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "e6edc66b4760b6edc2b22597c5f4b8cfebefbe83"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d9e4005394f1d3379c133298b4b3cf7ef29cea99"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "58a259e2338053ab73df8ecec869a7f6ab553ae2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "940a496916bdf80a768fbee97ad6e24d74c086a0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:36 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "3bfa8e6cf5c436d810e3ae3c02fa5ebe38abe0c8"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "10aabbfb9c28177592a7f50e185b8d7e649724d7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "88db36fea616ac2e9cc1320c961110040d4ecdb1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "83d73f07fce6b4c279d262a8911596e6b3178b09"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.129280' WHERE "email_tracker_email_instances"."id" = 18[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "9eead6d31c22e04930c17b1daed0ee659451617d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "b79e768a0305af27d4031db1cbd6a78948cb7fca"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "9976b0e4d5031f2a7221c9d9aee4d236aaa7934b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.165060' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "087364e1cb97e53892facef6861351653b78b0a2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.168911' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "d370b549a44a99f566e043252d3f784ec01905c8"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 20 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51761342ce_10bcd3fd2d5434d3c3034a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517613c2f2_10bcd3fd2d5434d3c304ae@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "ac1cdfc6b1a943e629efb11983573e79d68ce1c4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517613f4e2_10bcd3fd2d5434d3c3059a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "d42eac0feee2f8f79defe8931e5f131c61a11357"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "400515bd754e752ce0b3c5c7809a2938343e86ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "20e81b90229bca59cec50a12c87db5a1d198402f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "8faee39ec845df9a7294861bf022bab82126991e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "048ea006e4747b7a58240e6c760ecb288d7c6ff6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "a0b5016b4bc67b6958a6204e475c588807c5f273"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "7b35cf6e73e5b6c050b9c556bbbc9f4dbee6e980"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "d49fb5b206b85cb13f300c9f0f7645ec528b0ec5"], ["user_id", nil]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "5786041309c3e45fa2e6e52de76ab0da47d458a4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "d5dd385f1c02fee1b31c9c6ed4411ebcaaa2a56c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "569a15a1839e5695ca428d3903da0fe53ecb93a2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.621766' WHERE "email_tracker_email_instances"."id" = 19[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "686227392ba0d49e7e3d5ad8c402c73dc46bce40"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "5fcc1e4063f44692bd418ce0358d87d10ca868da"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "86ed6bf13c571a19315a55aba3bba1dca9d58c62"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.660830' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "4618d84fbf42e8193176e4204c63709cacce8306"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.666328' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "774b788ff6627c8f74b9ea128d42e36e509bdcf6"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 21 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766adf0a_10bce3fe2a9034d3451455@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766b63d8_10bce3fe2a9034d345155a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "96271b6a8941c5a8cb8d434c6858105b20baeea8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766b9ba8_10bce3fe2a9034d345163@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "7f590c017391703511e8a99d5a9dd1f6c93fbe84"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "431787c50b5efb1f979e4df2d345ec7542c6661c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "5318edb54b438da54c9f49be23f1834f6c452a02"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "89bb30afdbb79e7bd60f8e2dc9811c3c4ad89bfc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "556d4d7bb1686ad0aa37589fa5b173b5e14dc691"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "fa4ae0524f03cec1fff622d83d5b88ed3c0a3eff"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "be41a6b6ea380fede90184c0633e5aef467a4694"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "ce627928d40e5d14e97b933d5f1bda239a529b2d"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "a3ea9ee05756250ce0fea40b882a18d863f130db"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "c0236e2b408ca13dfe53dff2a88aa0d2c6c42cc7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "89841a5cf50616275395f7d1f3f8bcd2ec870fad"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:04.000000', "updated_at" = '2012-06-10 21:54:04.960920' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "afb43e16a8bedf29218a0cb2c8dddf5fd2b8e977"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "cfde67b20c69f0863781fa9f06e925e5dfc5d2dc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "b067aa1450115e53f3abae977949a6d6b61cf3f2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:04.000000', "updated_at" = '2012-06-10 21:54:04.998346' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "bafc06d984d200b4e6d4558c12a951a20a7b6d26"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:05.000000', "updated_at" = '2012-06-10 21:54:05.002074' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "c36153ae2283b4d295915653bb52a33d0a71d452"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 22 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177db911_10bcf3fe8f2034d44247a9@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177d13721_10bcf3fe8f2034d442489@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "a4de12c677300ae304e0827730864187e1646695"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177d16bd6_10bcf3fe8f2034d44249f8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "eac9c48af30ad35bec8315d09ccf6a080fe96241"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "279c72adb4cee5bb743d80655fecc39efe8b2f83"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "0fc5abbcffdbbe1ee562155bf43bb47758165ee4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "c8b01ff5f066e0867f757ed7098a6925b00f0a87"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "05908e1c08396718f5b23e83b576fc241052efc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "96f050e483c5dd157bbe1c4faf65855c5bec0d61"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "28cd08795e3302c39a56e9c5af0a775a49f2c045"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "427fadfd8ba034cef3492b97d1eeeeccc1c066c3"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (71.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "22e015396e96f0812f292591dc2184502a0e35ca"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "4f24ca76e7fad10f65d783af3796b97b039644e7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "d5feb67cd1c81fe71ce8ee15a4ca22651f24f196"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.437795' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (20.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "afa7c78ed19559b2c3f9efe28b10c7888df404f3"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "fdc20ec162de41ea832107e005cd7c0b31e19161"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "1941ff5042f648a317176b22442df2329c93f12e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.479026' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "aac2d2967e8882fd17428a51df54c4d0773f8205"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.492879' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "d4316ac414d3f89ede54d64ab8c552e9ae679a0a"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 23 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "8d4352e3adcb5553b93f723df861169bb00a9049"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "65e1daece0b0cad2602bcc0040b00e9d49babf86"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "5dd78fe028493ac98ef1ed416a3ffcdd19ba41f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "60adf5db30c946d29c9f3dbd6f70d68151a1b139"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "8e29a35b9d889df494fd626ad46670d25bb5d8c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "eb9aea3fd076a386001e0f043bd9d9a4077e54a5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "a5da758e8c347d7769de2b8e349d652b0d0957fe"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:09 UTC +00:00]]
  [1m[36m (233.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "f76666d3f7909ad4c35c650161038fe35b327aee"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (24.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "cec3ba43f5e5f119113be372faca0baa57ed94d0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "64a32e1302f0e4070bd6a293245e5d75450c31d6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "fe1798debb4ff037b13dd22751f68cc5a596107b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.356280' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "ab183c3d72071dea12b1400eefc62ac0eb3b1b49"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "53e3c49d1fe4247f1372f4268d31ae095a13ae9b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "75156f44206569af46ebf89a7862e1dfaa2237ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.369998' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "67ef61892b178147105895d143bfa6d4b4cc0500"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.374732' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "f18341ba3c8aa1561caf70ffbec8bc42a2dba33a"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 24 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be6d40f_10bd33ff3ad434d3460610@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be6fcfd_10bd33ff3ad434d34607f4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "807a620618ce7c76eadf6aa7c249291dedc9aa0c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be731dc_10bd33ff3ad434d34608b3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/807a620618ce7c76eadf6aa7c249291dedc9aa0c.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "ec8bc32bd9cd8636204bde95f86cdec1d92dfb3e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "c97e79f16616a1cff83128044c8b6c419ac0c7ca"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "bd82838c12f770dda83f4514ae7226bd397b2ec6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "d30853009d0eec69e8a5d84633117ad8db817775"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "ac61caa1567301b16d960ec913abc2e550a27f0f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "b3a98edf3be5a3bc39cffadbb4f65eaa541d88fd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "54855362d10128094e62d20bf8548e828ba2ea56"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "6e1c0dac5f58ee569e223f1763c4a294c2697f3a"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (26.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "b403c90699a8256d2ebb8cae3c9bc8dba6ff41b3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "1f3e10139413a7e74779aa092fa63b437cf03ecc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "8b3cf719bcacf14c24c073e53877f47c0f5febde"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.458120' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (6.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "1a5288a1e0125630fd0a891b73d6c14cbccd5367"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "8ae101fa27e5b5719e28f5f29c08704bdba08525"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "d6be10fbf5a2fbde5183cdd506b4e164f1ec166d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.476798' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "e8023f4c1c77ecbc65781a2013b5973c2ac559d6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.480726' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "5fe3a6e5fcda89fb5154dd5f0c5b5bbe676777d3"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 25 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (34ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f38ead4_10bd63fcb76034d38486a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f39165d_10bd63fcb76034d3849c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "e487e3fe058298079ac74ca11e0b6692f959e8b4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f394c6c_10bd63fcb76034d385012@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/e487e3fe058298079ac74ca11e0b6692f959e8b4.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "cd141c6583878fc52072643d3bd2ad1947656f8c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "0e5041984bf978158435374db2b240d78848038a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "51bbdc5024d067ef32bb90b764d1cc811f4b6a16"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "4111e481856b4220dcbe6e595a8c7a8e98f2de89"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "eaa98919ef1d4f40c0a41ce9cb2642a444c26a3b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "2519c84f5b10ac0d3cbd266146aca4b3e69dcdab"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "d29e9e4db68a1e976fe8b0dea01949bb93f7a481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "d30b0185543717ada08fffe03468ffe1a7f4e934"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "6223c1812c9cc83298387238275f55184c7f4d71"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "a38f97212de8b6a1044796017f343bc6a462f54e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "5442af571df6ed9692a0fb6189d523d10d3cbfc5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:11.000000', "updated_at" = '2012-06-10 21:58:11.826295' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (11.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "757a4d18e1512a6948b62551efa7b1e4793138de"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (57.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "e703d950fd3483c8be9b5a0cee8080e9e85e50f4"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "a1520a7417d4db123d69452e7be25fc31a81858c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:11.000000', "updated_at" = '2012-06-10 21:58:11.923605' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (116.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "a84b6c69cde279b93335ce6d7313c24e09f5df76"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:12.000000', "updated_at" = '2012-06-10 21:58:12.047687' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (45.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "cf85103acf528a5b414e0e85f057fef1ace7b359"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 26 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.1ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5187432ed9_10bd93fd81d834d40455e4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd518743581d_10bd93fd81d834d4045612@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "bb851558aa935d3ef417b9ffa4e29130b2eaf8cc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5187438b02_10bd93fd81d834d40457cd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/bb851558aa935d3ef417b9ffa4e29130b2eaf8cc.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "c648282c6a61ccb03df4a6cc48ed402be3a7233c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "d08771677ced83f5691f686248ed1d25fd64324c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "ca8e64e3933a1e3b766e0b5633f199a60e5961d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "f53246da5b41fd0b5274ba092b2c7aec82ba2be4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "3e4b4e8a2a766f7ee1e8c242bbf8e84dcff10397"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "db1b80bd38150d4470b721b36e555222bdb40fd0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "bed495da059762027a44aa692c6fe5a1a2d41fb6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (45.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "347eb75f5b41faad5e4117763c92712638eadbf4"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "4fd2f5a6fb38a033cd9016290878ef883f211912"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "0aeedbb8e11ad70d80018fde6ae252d77015266e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "3b0afdec53b3e3ef96970ab8a632b4cadbabeb6d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.735632' WHERE "email_tracker_email_instances"."id" = 25[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "cf63dfcc67930299f8ea62d1fee58a54b46dbd6e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "ef739aa383224c914633be12c81bc6e53719979d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "7cc9ad624e0017594768420533a5d8b19e547503"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.748298' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "9e30845fe92303ebd50c51444fc8716384ae6723"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.751940' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "910bdc82f8a92ff7c2db188b088ead17611c1e15"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (34ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903c8835_10bdb3fc29a034d407058a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903caffb_10bdb3fc29a034d4070662@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "7195aa46897de85ba5dd3d0964bcbf187538ee61"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903ce155_10bdb3fc29a034d40707b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7195aa46897de85ba5dd3d0964bcbf187538ee61.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "ad81a17c30f5fc3c70fdb36b86f0f2c9052d8fa6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "e877896407b8a8b866c67138273a0c1ee08261e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "14f87666f5d07e13a38659beeb5a6657b2e00052"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "2ee04cdbb79dd88176ae9dd816106a07741cef87"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "8df8cd301beeea8877d914be14e25f428235221d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "a013359b9739f1543b0ff7d65ca3ea809b488a4b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "9fbcb96c8bff49b61e92554c3bd7da5e5086fae0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["url_code", "cce1a68e31822cec0edf151bfa533403ce59dd0f"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "11aff46dafdb9e09428a751b9bdc894206382446"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "634d03e05ea0da605ae15eec9f9ff965ba562ad9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "d600049697e9aeeda13092d40ff519723eff1d08"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.016378' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "f1ecac5c4843948efd37c0981b9b32bb0fc02c7b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "fc7eeccffd52bd569c23324d4d0ff2add73a4a54"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "16c8c5e1115576b4ed856b8eeeaf76d0ff4b15fe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.030442' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "b07e1f997c451348130566acdf2ddb4a25e7a9c1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.034436' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "630268ea09554355a744336b8e1e8371a407037c"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 28 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.1ms)

Sent mail to jez.walker@gmail.com (37ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f1aece_10bdd3fc295434d3c20332@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f1d95a_10bdd3fc295434d3c204c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "2d05df5b82b69478859ce2c851101ff8893a6c8b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f20ef8_10bdd3fc295434d3c2052c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/2d05df5b82b69478859ce2c851101ff8893a6c8b.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (21.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "1f6602cb8de6a598034575bd4b3d130a6d9dae09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "9a54beb1dc041b9cc24e6c1fe0bd1a8f583a70de"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "6d95020e251fce6de9622e87ac89b495b6f09597"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "6b97be7a107c43252552d5a6a31b08c4911591cd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "7a5682b90f8a2e2c14cfc275cd8c052e5919a28b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "b0b388e5af5dccbbbf87d4341aa3300313de45ba"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "b4ffb9a9f50b8f2cf58e7d8b297d4bc17f3f8866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "df8f0d4d1ea4d2e25b207a24e7a7aa58db594e43"], ["user_id", nil]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "1c666a12b5a49ce4354f96efd9fd5a3a1bf5d17a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "dda3a873c69f593c673b093c5b755b66c720e8fa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "30b53e6535479435a5b6ff09f7bbb0ff3817eaf0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.665324' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "e08c9cae1c9bad3e9eb7a13287411650f999cf3d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "4d28150bd23f604da4045a9c363a79190a14cd04"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "a138cf5cad0d0ea82dbbb5134271fa67bfe9d7ac"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.677961' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "a58fc8fd8f6e0445f6218b9f6de2ad3559a97f72"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.681571' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "eca4d5088d0b2b2b5d0a3b4267c49260785491af"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 29 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925b76cd_10bde3ffb41434d3453961@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925ba020_10bde3ffb41434d3454073@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "22a139bbbec330bfc61fb2aa30107bcdb43ec0c5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925bd4f3_10bde3ffb41434d34541a4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/22a139bbbec330bfc61fb2aa30107bcdb43ec0c5.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "f6b8bbd0025d3aa9b05de0b480cd7d66580d9c17"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "30849649a30048341b21323814aeeabad05c6d68"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "0b9d0220edae0b48d6d06feb5684ae5a84b57c8a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "e3065105fec3419eb8d6cebf35f02784bc67cce7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "e0ba05f980a6202106543ba1db9243565e2a0b20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "c620240094eaf5bec43083d03e6f9e11155c45b4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "3b6a30e773b7c007912affefeb2e0070156e5175"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "65a07cc6eb3cea864272453947fe98f9e91e926e"], ["user_id", nil]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "6fdb1c148aaa0e6a8b40cf072c6e35787936aa7f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "51f1dde770adb72e6a3e37f6171ebd74dcc5cdf8"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "756401b8f455c0ab0aefa5f4c59e7e77056ebb48"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:28.000000', "updated_at" = '2012-06-10 22:01:28.998500' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (11.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "806741df5b5c842371dde8eb74e6d59f6300a3cc"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "c79ddded17c47aa63cd708811303b96f6a776358"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "165d558c3de5a3a35fd473551a0d040538c0502f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:29.000000', "updated_at" = '2012-06-10 22:01:29.026706' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "20b3fd3a30dd318a569427d61b7cf53b0fd2925e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:29.000000', "updated_at" = '2012-06-10 22:01:29.030800' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "e489f303ec9fbe647584ada03ba3ed6a926be849"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 30 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5193918d60_10bdf3fd64e034d3c867be@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519391b80e_10bdf3fd64e034d3c8683e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "fe7e77982f2dd79e2b1130246ed999ca6eaea41e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519391ed43_10bdf3fd64e034d3c869e6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/fe7e77982f2dd79e2b1130246ed999ca6eaea41e.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "f6b66397cb348787be31d90e7cc011a12b6dcb2b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "e3d6df56b0c9275dccfbbe90940e31ef0439d158"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "028cd077af33f6d8ec8d76962e68f894b7be8ed0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "330055571e27186fe014d63a5f6b478eda10a7f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "1d6b20de0e45eb91dbee85428879c1ab5c6b2540"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "95be80a082af6c0387a7326d9321ecbf2262fe5c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "e9f2da84bd6c7f4faa6d03441747e119e50be109"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["url_code", "460e8c598cfb1cc7bdd7ddc7dfc45ff82f504107"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "88e48376720fdcb9098dc57bb81d8e41c38b3c3f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "9130d0aa2bece8ce6645e8bf5fc3dcd1316b4f43"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "2480ee64960a3634ff6828e9423d43f4fde9ce36"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.078062' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "b0e1d18ba6c35e8bd3a16697e5c936c4a003939a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "a683d5e2ee4c76adbcca7296b1eb64e52dfe91ba"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "1d406d8ac18377bf853bb77558caac09e60d1c67"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.091086' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "a59493a4f6a510569f2e35c43228a29839a2b3ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.094765' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "fc44e5d5ce182f411f3fd8f48c85fc8ef1dbe50d"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 31 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.8ms)

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb29516_10be13ffdc4434d4054a2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb2bc82_10be13ffdc4434d40554@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "d2ca3c774827eb3ff4d1f531b91e4b0c1174a87d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb2fc34_10be13ffdc4434d40565a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d2ca3c774827eb3ff4d1f531b91e4b0c1174a87d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "45825689141441470be1ee97653a08ff595ca6a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "047d58ac196388a574fb4edf106419e04f93843f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "38fa55dff5b740e194b011fd4fcd7d9fb2ffbc93"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "ddd4a429d609199b1cb122897ab685bf5621a5b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "a5d549f2e044e3058523e0cc9f7970abb699e667"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "e6d704d3c51c62468c6e742dc0aba2340b9e3c35"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "97bc03deca070848527de4a8245a51468341ab92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "8b7713c39be9f951803dca243775407e4359ef8f"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "38dbc1c6fd4df0cf2a544ceca46c6e83936f20af"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "eb36b3cbc5ec5f27a6f0d1e56de3ef1d7491e3d4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "d023be068b9ee3018ff090ebc22219fff42457d5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.895316' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "f8c3984db299b4a28705d8777aa0e29a6e276820"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "fae1c1f7275244f0f7230d6783486cae0f4989a1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "782b7c6d81dcffc6a286d29fd49aa2a4ea5ace30"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.908814' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "1ad13bce250ec952619d700d95b00b562cb4ebfa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.912396' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "650f121d36bfd7d1210b264730ba04d80209af2c"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 32 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.3ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:04:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d4f0c75_10be23fe6ad434d3c8230@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d4f3733_10be23fe6ad434d3c824b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["url_code", "9e8e4ac95ead87b8272b430efc3838015ebee554"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d532ac_10be23fe6ad434d3c825f3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/9e8e4ac95ead87b8272b430efc3838015ebee554.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["url_code", "d9c420a03839607616a8551bf8c4196cd81b8f37"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:04:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d568cd_10be23fe6ad434d3c826a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d9c420a03839607616a8551bf8c4196cd81b8f37.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "b0087e1fec2e628f511a856941dea0d9dfa48201"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "bafebdea8ee4ac8c67ec6e052cf2ba62be9f9796"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "bcecf8c9c0fae86795a0e2a0fba20a9cfe2cf512"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "76e46e4e8933eab6f0ceaa9f217787d5fe360091"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "529b28eda8ae3fffcac48556faa5c36935c4a32d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "5902e69752e20c9d069c13c6f9792e1c78706d52"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "0c5550688e41892d2d71ac42eed6ea32b13a3f65"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "10916397185dcf61a368e86b6eafda787ea4d12a"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "2ff732af005cbe14a9a601e135ae8d39f558a98c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "de89e93db088dd5bb4308963493aa048b4e78b4c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "b8ba6c0c1ff4432d1e59f1bdfb2345cdc2b260a0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.817594' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (22.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "2740f249b02abbd73b0ebf8967cefe85286c796a"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "d0258dba98b78227ae61b138ab0dd5599ae0d7cb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "242b5ce0933be448387c324e37d353d7d131ee3a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.857252' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "07f24069f9e498772499d224a5f7d3d53752bb07"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.861257' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "0f05973113e0d8ee338caa5ba4e030a1d49ae4af"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 33 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (24.4ms)

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519ede3c2c_10be33fe74d034d401069d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519ede696c_10be33fe74d034d4010789@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "c69f4641ea747fab9591695e45d0ec2bb81f7019"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519edeaa65_10be33fe74d034d40108f4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c69f4641ea747fab9591695e45d0ec2bb81f7019.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "a0645d9fbaf4c63038354292d6df48a8a1ce2a5c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519edef574_10be33fe74d034d4010942@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a0645d9fbaf4c63038354292d6df48a8a1ce2a5c.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "cf583a0ea153772feaa79da31338f16fe8b860dc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "230b6176f5774f801a2e678aa382c4940aeade60"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "fc84ff6840ee5b138ccf766bdfe4537e90a1f4b9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:29.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "d6716b847312c7f24eda89fdc1f50dbf86db8d4f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "104b2661d33486bf8f0119dad4e5c48ff4e059a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "b1cac12ad40657c8777e8ed7a37351df591eff60"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:30.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "f976f391837d1712c81c052ad548284f0029f657"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:30.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "7edeb5aef9441b524c982c449501435c58d1e781"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "21a232b273985439293811d41e5bb62681ccb5b0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "fe3b6100b49de89da3856b9e302e1d9dc2bad4cf"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "ccc2b49ddc9afaf639d2efded2f759a2fedbf0cd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.699730' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "13524b5674ad89a62f5fd12a249bb1dc2cf18091"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "ab783fb29b045e11b42872ee8a63a07929ba2254"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "7c6f6657dd16e6da3c50e6d553f82b778d63dd2e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.713491' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "1e3258124d1e5129099db5e59d9af234f28592a4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.717182' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "2f1232c0e3e98b9c17eb9614bcb11ca730519979"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 34 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (22.9ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c075b_10be43fe1bdc34d38674c1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c317d_10be43fe1bdc34d38675a7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "bddf978417b64df34d16c98450ce856818e51ee3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c7087_10be43fe1bdc34d386761d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/bddf978417b64df34d16c98450ce856818e51ee3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "6a182943cca1acfe0a85379c2d17207f745f4ded"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8ca77b_10be43fe1bdc34d386779c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6a182943cca1acfe0a85379c2d17207f745f4ded.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "74c370303a54084319ec37b5e7d508a355fe3434"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "f1b0d0ae8e7606a8549f6fd90d01c0d559075e32"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "aa016b33ad6c83b51009b17fb1870b94bf882733"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "5fae8a8690ce9f420e7dc4ee6a35d03dfa34245b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "86280eebc7565ad6e2626863e2caa03ef1052d02"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "0219380ff2a58d53af7648d502055de48a49d63a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "fe7e233799cabe31c05bfcbecc322a55dc9da18b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (28.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "b0b1757e9d48777dfae87cadfb4c5abc710c125c"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "56ffcf004487db858028542fdc6d089f9a061044"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "45b6a67be4033584a2693792938a8c7acfe81661"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "c667fd8517bf1b24d82366de9196dee351468832"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.553188' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "53a8cedc6f316f1d4da7fa30a5f68803f85d6b9a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "a906d56cedeb6aed7785ac6a2f8b08476e2ba4f7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "b3157bf7e1cc1474b775076801169018794aecbe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.566174' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "3a2c8e25435be701710c8d46bb5d6922c94c27ea"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.569988' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "72185a57a86d64703abc4434d8c93449d340bec3"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 35 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7e9d5a7_10be63fc135434d343927@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7e9fe5c_10be63fc135434d3439367@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "07440136a31f9d2feb5f8098591f9c070ec8c187"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7ea5940_10be63fc135434d3439494@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/07440136a31f9d2feb5f8098591f9c070ec8c187.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "384f1f7d852abe3ca0bd6c49e119faced2269649"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7ea9950_10be63fc135434d343951a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/384f1f7d852abe3ca0bd6c49e119faced2269649.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "abeb091c29fb290ab6273845a1a5a76c11e20c16"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "3c3827840f4ec5e83ee5c650536b969aac510ec9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "72a905cb42cb30c7a23488e2a2d8c157dcfb04db"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "df84187bdc4b604754a0fb645cc1ab88d10a3ef1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "cb26f4b9d2c323792e771a7a5c0f061298c264a8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "3db71cd21538ade49f9713bcc7b979bb8c6b6d11"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "7b350747663f894d7e0c13e508887972f6e5e3c2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "is_externally_viewable" boolean DEFAULT 'f' NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (38.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "3addaba50ec05a14aa1ec678c6b660a4dc46edcf"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "1966cd2866c2e226a1db6b40de57d4bd5a3f48de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "e88235523fe39214d473b248921f56971aa4945d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "c33e190b359dd2825230a56e2b89d3f85456030c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.539387' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "9627921e3d06b1907c1b96cacb3bb02178eeb19f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "21e38a40e39b6f88cc87ed2fb4214b260537a21f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "ace91c47863dd6ea86293a3b196e89522d173037"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.551941' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "af9d7662d0be126c4b1340c6a0f656215dc3476b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.555790' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "68881d7e355374eba86bffcba9f7cdd7218c6a49"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa698e79_10bea3fe324834d389439e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa69b706_10bea3fe324834d38944c6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "abecb1e6de0cb8a617fb2f3f149d34571a46ca67"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a6dc0acc116db6c0d2b6b406d733b34e1cb0d0cc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", true], ["link_id", 2], ["url_code", "3eaae527d54a3aa0cafecfe394bf84ee91db8ac3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa6a2595_10bea3fe324834d38945da@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/abecb1e6de0cb8a617fb2f3f149d34571a46ca67.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a6dc0acc116db6c0d2b6b406d733b34e1cb0d0cc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3eaae527d54a3aa0cafecfe394bf84ee91db8ac3">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "7b90c00555cc52ba5cb97f81e91c2b673757f755"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cd8be8796d8548daff6636a555980f30c8598353"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", true], ["link_id", 2], ["url_code", "156c027f596bed802d9453efca9999371605d497"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa6a6d8f_10bea3fe324834d389467d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7b90c00555cc52ba5cb97f81e91c2b673757f755.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cd8be8796d8548daff6636a555980f30c8598353">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/156c027f596bed802d9453efca9999371605d497">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fcf8da00beb2ab88fb9e06d9acb3cafcf29ab8b4"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a7cbc024f42bc80ba9d59ad27df0a76e9248c0e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "658e2622d813179fb509c29a1307d481211efb41"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "639a573b34b85ca7fc4fcf385f26b7d473ab2c9b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "faa0f482b984b7bb17e4211dddfed98f558edf3f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "151dec07d8beea59593631c025ccf62c94ad913c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "150c59c8346814ad8819cc5e5aad222940b7d6cd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["url_code", "9587331ef92b9a5c1e59e1bd06455f643986d52c"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "363d4b69850c5a67d99cc717e160962bc8577e95"], ["user_id", nil]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "28737d426d0755b0c01b0cf420b77018db2c8b85"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "55703a387fe8099cdf1aba1fc27a3e511c8fe1a5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "5bf543fb889c81b6150d22cc317f9e2169a3f31f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.800771' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "4cc69a084306d3fbfd417c19073f3138f242cb90"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "0e7c0290a419613c87ca651ae171580fd513e3ad"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "73a193dfe61eae7f0c3c9888d90573bddabfabdf"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.825132' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "06554e6472760283bb8f46155a9d9f17666030e5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.830077' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "94ec5515ecbfa555b457d3085949c344b9111bd7"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57e4da6_10bec3fc929c34d44694c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57e7731_10bec3fc929c34d44704c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "d92599ca9067fd7dca27fbcef153067494a097fd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0a9d0d7b5b6193812fb74a15502b3200aa1c281f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "a2460ac39d03a660ea3d51e5a118c8ac1ca04856"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57eefd7_10bec3fc929c34d4471f5@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d92599ca9067fd7dca27fbcef153067494a097fd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0a9d0d7b5b6193812fb74a15502b3200aa1c281f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/a2460ac39d03a660ea3d51e5a118c8ac1ca04856">An external link</a>
    </body>
</html>
  [1m[36m (29.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url_code", "cf8ae1a373d369f541b2ad4c18c2e7a03c1c09eb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "5ab8ae3fbde7b9ad00075394722113b6ac80ea8e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "22cfbb6ac73894056e6f300c4e2313a3c6951494"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:32 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b5878b4_10bec3fc929c34d44723c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/cf8ae1a373d369f541b2ad4c18c2e7a03c1c09eb.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/5ab8ae3fbde7b9ad00075394722113b6ac80ea8e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22cfbb6ac73894056e6f300c4e2313a3c6951494">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url_code", "557a1dcd01eb5e89b0080f282a908e7e64766651"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a8c5ff76ff3295a52cf0c6aef7129a7021fa529a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "3b8149bd46d20be6231744356b5f5269977634da"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:32 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b58bed2_10bec3fc929c34d44731c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/557a1dcd01eb5e89b0080f282a908e7e64766651.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a8c5ff76ff3295a52cf0c6aef7129a7021fa529a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3b8149bd46d20be6231744356b5f5269977634da">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "df08378963e1522b94a75ab35f5f90a283567040"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "6df2dec38c91f2815c1d53b51822cab4ab518b5d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "648d5e70bb6e0f20a8223fa1432328bf3858f309"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "9ae610775e35b3c302687bf6ab9f943dd5b2d31d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "3f7c5e84c55207e9ad944d32e2f38ac1d31b88fa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "852f9251c8a45e3ebddea714703fdde9fcd7b786"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "cebec86269763f894460990bdcb47b7a2c9d3bd8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["url_code", "d6dff9e47dd4870f541eec999fbf8a54244eb795"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "e93be7d281e3c32c9ca643424ac04e1148db1eb2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "78ba0c9d849de3398d31bcd5a49abcaaa75dab3d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "887f01ebceb2e1e92ab42aa37d90d3bf43b69e36"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.135917' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "659ab35dcfa4aa1d54c9741928650009bdaf4bfd"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "ca452a44b8cfe1b3b87b59b0e61701ab58a7ef56"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "02939722459596ea3d113eb9d71b859bf1613e47"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.161253' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "b2663f4c228e434e4bb84b0e0201d653acf46730"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.164770' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "a6e6b426f54c0c03ee43edabd7e4d1541cfbd95e"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 5 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b60395fa_10bed3fcc25834d4420231@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b603c0dc_10bed3fcc25834d44203bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "8164a7020bfe78a0dda3b55a3e3a597237a4b60d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d9e10e3a1ae6e549cb4e7e3563b4402328d2d08a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "f42c777c04733b445855993c9f65bcd267840a85"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6042f20_10bed3fcc25834d4420442@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8164a7020bfe78a0dda3b55a3e3a597237a4b60d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d9e10e3a1ae6e549cb4e7e3563b4402328d2d08a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/f42c777c04733b445855993c9f65bcd267840a85">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "59d8a076ca822882341ce8a7d2e56213085790a4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d1cb8c09bb9121b64520456b3d27a3ea26778494"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "a2635d6d9380549488a0d42a35e2d384634e19b9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b60476ea_10bed3fcc25834d4420577@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/59d8a076ca822882341ce8a7d2e56213085790a4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d1cb8c09bb9121b64520456b3d27a3ea26778494">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/a2635d6d9380549488a0d42a35e2d384634e19b9">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "8e1dd4dd73a7c43d0b808adfded850aed9c32f85"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1f3986958b878ce390b745798cdabd20fcf675b2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "2b6d69dec5122f6e2be63ed37858c6dc826461a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b604bb67_10bed3fcc25834d442061c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8e1dd4dd73a7c43d0b808adfded850aed9c32f85.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1f3986958b878ce390b745798cdabd20fcf675b2">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2b6d69dec5122f6e2be63ed37858c6dc826461a8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "70244ab4e0a82e97fdfe725cd9fb2679ac666aac"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "2c3840c60da5b9f7b8b0d67e28f917f6632da061"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "8e459fd0a7df57118ce6b32807c42408089f0c7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "1b3ccf3e4819aff71f77c312ef7acc8115efd53a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "79b33dda62299bf6bd4746776db7c1aca0bf334c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "6dbee34ec6637906ba5687a4d98b8270b6c12d6a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "9bde4bcd122847101d6353470075ba353f39c222"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mEmailTracker::Link Load (0.2ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."is_externally_viewable" = 'f'[0m
SQLite3::SQLException: no such column: email_tracker_links.is_externally_viewable: SELECT "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."is_externally_viewable" = 'f'
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["url_code", "2f085a465333262b7cd4e7b6bd6c7c366a6805e8"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "5735fbff59ae0be1bd3f5229ee8d340e29ca9a57"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "1e495b7968ba3716653e8c5b45bc2e5266fe9352"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "1fc5f71790967c85e80bb7f198b8852d2f06d4c7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.027757' WHERE "email_tracker_email_instances"."id" = 8[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (13.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "8d5bd27a5bf8b9d2ec2724d50c6ea9b71fbf2599"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "ed48f97e81f6d42e0de789111b5e79c8de8b1802"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "9d9f00b516b24b40895a42a02bfe3f7fbe59ffbe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.055860' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "3ed000bf88b5c47439db8a0f4b201f8a2911fd46"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.059840' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "98b21ceb951405a2d3aec401f8e2874bb9845caa"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 6 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a200ad_10bee3feaa0c34d3816967@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a229bc_10bee3feaa0c34d38170fb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "e9abe61f5a25d92e5435ae275d6968fe1ef1e487"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a6bd3722e8f1cb65ad431b2bbf07117fb43ab6df"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "ee39065dd98b72adc6d64dab2a70e649dd218f7c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a29f73_10bee3feaa0c34d381711e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e9abe61f5a25d92e5435ae275d6968fe1ef1e487.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a6bd3722e8f1cb65ad431b2bbf07117fb43ab6df">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/ee39065dd98b72adc6d64dab2a70e649dd218f7c">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "387b45a292ba244389b54fda0a20e44690c66748"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "76221aac90effd41e7576cce6c30891e6c5f78e4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "3ced5652e2bc73a096a8233a6f8d74bf9bfa33e9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a2e274_10bee3feaa0c34d3817260@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/387b45a292ba244389b54fda0a20e44690c66748.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/76221aac90effd41e7576cce6c30891e6c5f78e4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3ced5652e2bc73a096a8233a6f8d74bf9bfa33e9">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "e5eb5c5c407fb3a043f6397dad77a83f0e7160d4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4eaad2e103b35aa57f3a736577119b7d88b44c0c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "230499adc659793ee64cb9869730b56971008b12"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a3274f_10bee3feaa0c34d3817397@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e5eb5c5c407fb3a043f6397dad77a83f0e7160d4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4eaad2e103b35aa57f3a736577119b7d88b44c0c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/230499adc659793ee64cb9869730b56971008b12">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Link Load (0.2ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."is_externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such column: email_tracker_links.is_externally_viewable: SELECT  "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."is_externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "13c187688480257097ad9a5ec5158ec0da6a8d08"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "ede03b7337528860c8333ee2730b06a6f10dbd52"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "abe23137056f9324612470a0d4fe6e24b6e2c8e8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "85b4b78618578831e0e65cbac9d1a1d8d604cc97"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "74f37a4fc96be494339d0268bbc1bc5d60384240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "4b754ce1d06938280c53af282f5e77f2ad2fc02d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "ee2418f916ae08ff949f1d92c88822a9a4c268e1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (18.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (21.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (16.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "7974f2ce2674279b66d3b83eb8eff41c23596db7"], ["user_id", nil]]
  [1m[35m (35.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (13.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (15.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (6.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "bced824b0552bf4373c0c4d24275a39907ce15c5"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (11.2ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "c821514fd4ee2884e8c833fb55d6ea65dd8fed2a"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "2b23e9244ec587f34ef7fbe7a2b22ed592b6c87e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.432933' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (12.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "94608f79ea9ad67c88dbf65a54c46e0ee3eec203"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (24.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.0ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "534811e30099bb88427467ccc65555b5ca6abd95"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (8.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "aab90f688dc83dd50e42b94372f3854c49307bd6"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.515534' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (25.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (7.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "3a7fc382b3a67abefd99d5c3fedcfb74381ed5ba"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.553021' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (15.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (13.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (22.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "2f10004543972d0406a6beeb6040034d954a384c"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 7 LIMIT 1
  [1m[36m (4.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74b27ad_10bef3fea3d834d4065444@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74ba219_10bef3fea3d834d40655d1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (12.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "6f73f1247d313e8ef5206452b25a871640431871"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c30e5109bf82a27c900c06dc83dd302bac6cce52"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "8aef7e60334f1c3bf69b0a66c136d5f10d4eec31"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74ca73f_10bef3fea3d834d40656ec@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6f73f1247d313e8ef5206452b25a871640431871.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c30e5109bf82a27c900c06dc83dd302bac6cce52">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8aef7e60334f1c3bf69b0a66c136d5f10d4eec31">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (23.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "6776bd8b4c6cf95c6bd5770d0bf158c079c17fde"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "9fce56a8d5359ba75edc5987a76de0f1470ae8f0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "9240e38150f89c62f6e1574b2d9a9cdfd0886f72"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74d7091_10bef3fea3d834d4065761@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6776bd8b4c6cf95c6bd5770d0bf158c079c17fde.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/9fce56a8d5359ba75edc5987a76de0f1470ae8f0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9240e38150f89c62f6e1574b2d9a9cdfd0886f72">An external link</a>
    </body>
</html>
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (7.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "5b95b35bb9d39c3b735b072adc2ae1ce85bf82ba"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4b4c400c4d5dfe4195b1758fe7f4406ae66b912b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "33a70dcb30735be919a8e7ab6a84dd818b5c608e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74df8fb_10bef3fea3d834d4065846@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5b95b35bb9d39c3b735b072adc2ae1ce85bf82ba.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4b4c400c4d5dfe4195b1758fe7f4406ae66b912b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/33a70dcb30735be919a8e7ab6a84dd818b5c608e">An external link</a>
    </body>
</html>
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEmailTracker::Link Load (0.4ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such column: email_tracker_links.externally_viewable: SELECT  "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (20.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "f7d27859b18441259bd77cea4cb9ab3b6cec7854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "e0c3bd813a74a23bb71210cb9607c028e92fdc3f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "2e74e9cda2c45c5ec15833c8405f8c2e04910208"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:00.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (16.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (29.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "18b5c449699590ce09e2b50fbd7b2a858d426d4d"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (12.8ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "7b1a175b472ad389acd22c66823d9c2c7e1930fe"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "b90071934ddc38022bfbef33dafbb2e8122fd67a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:01.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (43.0ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "0109ebbc81fe9aac47a992bbee5b75f81c0a8d4a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (10.0ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:01.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (28.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "067848ec956a37d43e0bcf23a3dd32a04d05ac7d"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "58daf06771c3824fe869fca1cc5a17382112877a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "e15a754f35c8c89ead8f0cb7cab51e3e7c679f37"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "de3744314afa1caeae2e33727d0217239834a3e8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.918547' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "ef181d0c822a34fdf74b89879e1953cec9ea2a9c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "870e780dd0760c58213b9ba2322d8a0dde2e2220"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "6bd1163fe6448b2bef9eee7ccc1c7aed567b27c4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.936182' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "cef6311d1076b9dde2af9fe984251637fe5f800c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.940235' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "4d9282d5e659eec1297cc7438de915722c8f1d5f"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 8 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b892b3a_10bf23fc1e1034d40581a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b8955ed_10bf23fc1e1034d40596@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "dc138ff93fe46adea1fc401fb07476af57f55dc9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2d55ef0f023d4305e21c43170161883b1faecc16"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "e96e729d78152962a8e3feaba5257a0529152714"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b89c560_10bf23fc1e1034d4060d8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/dc138ff93fe46adea1fc401fb07476af57f55dc9.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2d55ef0f023d4305e21c43170161883b1faecc16">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e96e729d78152962a8e3feaba5257a0529152714">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "e5c52f505d3e9f4158d36785394f957c4d0c4333"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "22bb952c696a8df47f93fd7c777907d963f62668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "89bbb7f5967f7237f4ec1253df030d86512fe1d3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b8910b01_10bf23fc1e1034d406165@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e5c52f505d3e9f4158d36785394f957c4d0c4333.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/22bb952c696a8df47f93fd7c777907d963f62668">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/89bbb7f5967f7237f4ec1253df030d86512fe1d3">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "0feb31b0c3086dd7b9b603e10816485a5e1be3c4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "dd78e1e3c012091f736a898b7b6b28668d6a3253"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "96c92971688a6e04713a4e14a69f8f62f6bba3d6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b89160f4_10bf23fc1e1034d4062eb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0feb31b0c3086dd7b9b603e10816485a5e1be3c4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/dd78e1e3c012091f736a898b7b6b28668d6a3253">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/96c92971688a6e04713a4e14a69f8f62f6bba3d6">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.1ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "e91123c1b1692858768f0ecddf9889dc9a773cf2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "545f06e9d76043d902a96a4a4120c01b4de9304e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "e658e7ec4b3d5b868fc86d2438759e802f2c72ea"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b891a7c9_10bf23fc1e1034d406326@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e91123c1b1692858768f0ecddf9889dc9a773cf2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/545f06e9d76043d902a96a4a4120c01b4de9304e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e658e7ec4b3d5b868fc86d2438759e802f2c72ea">An external link</a>
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "a5fbc0a86819710d1aceee61b40c30a3981bf6b4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "c8d23b446ef354f2926b5ceb85e9e280b855b5be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "9e0ac0858c345ef74836f449b996e7d4a750a81c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "5469792c2ccf2096ddb57486c87c2eeae0d9d3f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "37379afa5a7beaf81be9dc6b5217df2c34709445"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "ea4b7a8cee1456bababd7bc1e0426f935079dbe3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "37e12bb4821b577612c69e0f8e1e089159671690"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["url_code", "20a84f805476758c43ba4446e75e6660c2c674d6"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "513d9273e41d1ed1c1cbab3889f3a831d504c888"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "28adf317e00f19dd8c2f7196d90b061b3210bcd6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "6f64210216d275eaef969ecde3c7829a82bba95c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.084953' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "5bd5d9b3396333df924c9eac76ec20fa2cdf9a19"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "a1868a17c7c814398f82b2ac8794b3a6387b4208"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "f3e166baea3d4de73ce6dfbfd6dbd31421691200"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.098424' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "33db82e11735dfdb7e1ceaeeaaf37c98dd7ee5a6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.102450' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "5fc9d5f1f8bed8a6d15faf68676490ccba758792"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a2acc0_10bf33fdd50c34d40814d4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a2d6d9_10bf33fdd50c34d40815ce@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "bc6ac54063b0cd26a6023143cfed8bbffd1774e3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "659b2db2246f3a64be3132cda03ae77f8bfc27d4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "7864826eeadf3af83b9cbf1d6423eb6300b699aa"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a34b5c_10bf33fdd50c34d40816cf@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/bc6ac54063b0cd26a6023143cfed8bbffd1774e3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/659b2db2246f3a64be3132cda03ae77f8bfc27d4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/7864826eeadf3af83b9cbf1d6423eb6300b699aa">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "b61935d4f1949bcd501283f581b6bf4e1257d34d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "17337e63c4620bf4847b4feb80bb09e33888d071"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "d9120c683f5a3198f7dd4716bdc9f1becebcb52a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a39113_10bf33fdd50c34d4081726@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b61935d4f1949bcd501283f581b6bf4e1257d34d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/17337e63c4620bf4847b4feb80bb09e33888d071">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d9120c683f5a3198f7dd4716bdc9f1becebcb52a">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "8b272f0f484795c939d71b1cc2995b5869a7102d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d78849b758e69bb5112fe988c063640b58ea1f3b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "0ee43e6bb06a9274eaa41bedc449c8c35fdde08d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a3e377_10bf33fdd50c34d40818b9@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8b272f0f484795c939d71b1cc2995b5869a7102d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d78849b758e69bb5112fe988c063640b58ea1f3b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0ee43e6bb06a9274eaa41bedc449c8c35fdde08d">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" [0m
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.1ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "91bcd7187b044899abf444e9c61f401a35e8a1b8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ea7a330e8f96dae1708bd8bc676d67ea72caa0f7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "8412bc38698f6c830a7e6ac82ef0a2132f0f0bce"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a42daa_10bf33fdd50c34d408195f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/91bcd7187b044899abf444e9c61f401a35e8a1b8.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ea7a330e8f96dae1708bd8bc676d67ea72caa0f7">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8412bc38698f6c830a7e6ac82ef0a2132f0f0bce">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "ae0c778b7d7112503e999b0a1e8d83a911c87e1a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "71ee435d94d0eeda84c55025f607a224c22932be"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "7a1fbb5a17d5ff545cf94449e5f7c8a4782d318b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "f26f50d1568777173a9340a704b9bc8ed54ed582"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "fe079781abb0a9a0e67979071ac6fceea75f7b57"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "ffa0727867fff04684c5b1be63cb7d80860f6335"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "678c95e6adb60435d29f7553c835922b9fdb916f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (35.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["url_code", "f6c89235d924093069aeb36b325cf7c290e0e056"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "d8189da1806aaafae6a85f45ac4e3dffdc487776"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "c0556ad270a6f6bc5f3ad072bc6701faf8b13de7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "bd6181c21682298004acb000c0f472b4edfb8de5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.039583' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "f0719f003a09b787de3fc8a3b9048f535d5b5758"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "0767173da7e998e282d1715c52f4153b0923ba26"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "17ed251c39080bd901bf263e5a2034f6efd1cc01"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.052147' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "8d4af70382875287e93e271cf7444bbe4dfbec97"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.055978' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "a4af8760246a1016f5ab728d86b4760b4e5530bb"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 10 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb3214b6_10bf43fc6e9c34d406648c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb324018_10bf43fc6e9c34d406652a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "065c8c0c5ca107c509751abd984556c02ddf8b4a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "5c0ecd717e760fb0109078a491be988caf17a231"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "94370ae70d97b1f6e95303ad8ecd92a06187adb8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb32b072_10bf43fc6e9c34d406661b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/065c8c0c5ca107c509751abd984556c02ddf8b4a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/5c0ecd717e760fb0109078a491be988caf17a231">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/94370ae70d97b1f6e95303ad8ecd92a06187adb8">An external link</a>
    </body>
</html>
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "7b0a7aa34a85ebfa3bae2535c1bb16f4cf56ef2f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "f4bdf889c10195178ff594538b8365f489a2cf7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "22d06388c20cc5437b71b9d4590184165b0207c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb33067c_10bf43fc6e9c34d40667dc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7b0a7aa34a85ebfa3bae2535c1bb16f4cf56ef2f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/f4bdf889c10195178ff594538b8365f489a2cf7c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22d06388c20cc5437b71b9d4590184165b0207c8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "c5420997ebd6e3bf7f0c3a82159c3aedd2d40a0f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d66c38bbce470c6103791d3e1dc14b95a5b5bbbc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "19286cd0f63bccf3a7687de6e9650f3851761a9c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb3352ba_10bf43fc6e9c34d4066850@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c5420997ebd6e3bf7f0c3a82159c3aedd2d40a0f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d66c38bbce470c6103791d3e1dc14b95a5b5bbbc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/19286cd0f63bccf3a7687de6e9650f3851761a9c">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.1ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "5046ab7c6243d4e6668e12a2741601de2be51cdb"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "160a18fb08e3415a6bf091201d3b74dced800052"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "41594d311ea41152605f77c62dbd638ca41b8d59"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb33a886_10bf43fc6e9c34d4066978@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5046ab7c6243d4e6668e12a2741601de2be51cdb.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/160a18fb08e3415a6bf091201d3b74dced800052">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/41594d311ea41152605f77c62dbd638ca41b8d59">An external link</a>
    </body>
</html>
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "fd7f2fb4b78643f54a5e76f3475f63eb5313509b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "d0da200dcfbe615051a134aa6657e1c7cc9e63a8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "47a788065a3efec93dd2546e934821dc00cc46f9"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "995dd3c075d11afa93f03ef4ed2f9fd2504f7eea"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "1eadbc2640c51c7991d0f1b0a471af0a7efbf2ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "0dc024ecbee1482e3af10c3e6401eb61c4427d2d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "287fba29da7cb17fa2ef914a1fff9d2ba3d67586"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "0da26f73f255be875b6d0141efdc30eed4845732"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "42fd759de5e1f1acdffc5a0017a819ce6f0068d7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "bd768c44658139fc0c330d2ef3463327b4755b8e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "ed9ef195e442d41df67d921bf292d723d273f235"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.723335' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "d3ae1d155f7acad3d95680d217cf463751d02f53"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "d3d1b581d76fe14c0ed27c51f1669d420d456c53"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "a97d81b412767eaaa959ad9591f2123595e64613"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.737271' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "16fd63fe5ff6001ae60d84901f373942468ffb6b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.740981' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "7d7e7866252d54a5d29339e2cfc68ec800754e52"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 11 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbec614b_10bf53ffc20834d3c19437@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbec895a_10bf53ffc20834d3c1959f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "72c202993bbcab80f9d5940b21f125b1bf4a5c5b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a009df34c64fb5470be07da77079f6c1c70461e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "bc34b316d8d22af2cc90bb5e52b4441eeec895af"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbecf9ac_10bf53ffc20834d3c196be@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/72c202993bbcab80f9d5940b21f125b1bf4a5c5b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a009df34c64fb5470be07da77079f6c1c70461e6">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/bc34b316d8d22af2cc90bb5e52b4441eeec895af">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "206f229c6ba13af32f9fa9aa2bf97105e7f46be0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "85585ee88a9f65608ae10f86971b99c2d95e5064"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "1e997f51eba4409ada2bbaf0ad20bd5a67c679a1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbed4598_10bf53ffc20834d3c1979e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/206f229c6ba13af32f9fa9aa2bf97105e7f46be0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/85585ee88a9f65608ae10f86971b99c2d95e5064">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/1e997f51eba4409ada2bbaf0ad20bd5a67c679a1">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "4b33dd2eb4a7df1a83c0d5a3b7d6e3b66183667f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "830341803f9cd08a46d4e4a9902cc24954e0a0c4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "5ce568704b33b1366e6203875937db8885c51131"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbed9078_10bf53ffc20834d3c19867@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/4b33dd2eb4a7df1a83c0d5a3b7d6e3b66183667f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/830341803f9cd08a46d4e4a9902cc24954e0a0c4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5ce568704b33b1366e6203875937db8885c51131">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "6ac5f2465aca2b81f2e3645aee181b0c14b50ea5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "bb8fdea72c3932d0bad56f144237517c55ec6724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "3387fd6dc53bf5da7a0421f7a4dca94e8bc28313"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbeddfeb_10bf53ffc20834d3c1995d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6ac5f2465aca2b81f2e3645aee181b0c14b50ea5.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/bb8fdea72c3932d0bad56f144237517c55ec6724">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3387fd6dc53bf5da7a0421f7a4dca94e8bc28313">An external link</a>
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "693140f743d0f3eb3e23e5d828bfd53e79bbd6d6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "db4881bba8e72a187c13782918b9eedceb13ce82"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "1941b17d733725d5b8a9e0a9a7feaf4a4e371d1b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "6c3071cbd3a8170b4db11761b435133c7c793426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "5384ee3a95c442498d64479423bc824a2d268608"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "ece2a0968fbdb621cc35f07a1446cc2787512573"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "a11d168c3f102aa5f511a8afdb92f6f78d1907f9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "676f5b4189c23a0990493ddb066ade41ac3ea97d"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "fd388e216b42ecac683d74b024526f31c7653182"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "80d303dd80e6fa8ae1c702bcfa0f9f83ca48b39c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "013b8dbdaef0fe8a349a7853284e20c3346c51ae"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.588355' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "dcb98baa4cb65da44335b1f8eabc26abc0866e87"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "4514a40a45090302a146a7db284013db753251c3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "588eea03d8d282be67abc78ec5d24c7528891412"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.604100' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "d22b63a10b0fa345e55b6c590e90739893a76bf9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.608309' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "097c8e627d542558ab85ef04531dd8d05b71a1ef"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 12 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5a5bb5_10bf73fc3cdc34d3c783b4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5a8525_10bf73fc3cdc34d3c78427@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "b617548e85925b4362763c7619cf30c292d8784a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4fedbd13c1794a511f6f785cfeda51bb02c69dfd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "582a1a02e71e483c1cf897b0f129c897fe09f007"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5af260_10bf73fc3cdc34d3c785dc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b617548e85925b4362763c7619cf30c292d8784a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4fedbd13c1794a511f6f785cfeda51bb02c69dfd">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/582a1a02e71e483c1cf897b0f129c897fe09f007">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "2c270b9c2fb0422697ef4e3e483219efb738759a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fecf715e512204f19bef6fb9f58c0f6760665cbe"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "6bba624ba9cd2714715f3bad039e8230cf7c13d5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5b3b58_10bf73fc3cdc34d3c78649@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/2c270b9c2fb0422697ef4e3e483219efb738759a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/fecf715e512204f19bef6fb9f58c0f6760665cbe">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6bba624ba9cd2714715f3bad039e8230cf7c13d5">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "7978b486117a2e2a6791c38a9cbb1f50f4bc0045"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "42b34d3f43d83b3f7aa1ca3afe1550318c696a62"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "95fecae05de41801a9874ab48add711ece955cf8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5b7e95_10bf73fc3cdc34d3c7875e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7978b486117a2e2a6791c38a9cbb1f50f4bc0045.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/42b34d3f43d83b3f7aa1ca3afe1550318c696a62">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/95fecae05de41801a9874ab48add711ece955cf8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "e96a0e301eccccef58cb466c6250a7e0db657e11"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a058d079e74cdcee5e7892fe483f98a40b48b5b3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "9f1666477df09fa619d2508ba06015637177c3dc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5bc4c0_10bf73fc3cdc34d3c788d2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e96a0e301eccccef58cb466c6250a7e0db657e11.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a058d079e74cdcee5e7892fe483f98a40b48b5b3">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9f1666477df09fa619d2508ba06015637177c3dc">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "116a5b44f2668d652551390ba0cf20a9d3032514"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "460dd1e96d36ec5d38dbea228cded43786854ef4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "36bc1191548a95d48570df3b9f28a82c5ea52dcf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "b431db6a0cfe7cc0b93ff6c1b1e94833b550256b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "224bcf196677eb2e930d23f807027f4e686b3a0e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "7125130fa730dfd01eed4d4c9285a9756fd28f6c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "bed5a0d867c1e2f2c6838ec261be1488242c03b4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "841cc89ee8135fe512f779d33465a51a13f1da6c"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "74f9aa3d3165c95c58bab89b1b2aa72ba2a20688"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "ceb50b9ff5bd98f3a446c389ef475ac138d88f0b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "914f1f30f70b94e0d9e0dcfd6ee6b9c155a8d55a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.810856' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "bffe68098689b02d2efcda1e0cbe75047603700d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "523f60cf37b2deed92491722dfa22beb613efc09"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "4ad840f7812772dae481483595a2ec3e0f550df1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.826849' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "412e99edb66ef764125f1956d3cad317b3bee327"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.830792' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "36a5318e7c7833896e0fc2afbb18b8dbd80b3d85"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 13 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0dc4a4_10bf83fc2e9834d34258d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0def8f_10bf83fc2e9834d3425949@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "40afb98af67311dcabb1876c6f069f0ad64c5b69"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e99c45d00b68b7b08c2bb307dbc59ad2a7eec989"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d7ee86e0c34b1bf46416f155ce51b6c3df446e68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0e618b_10bf83fc2e9834d3426035@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/40afb98af67311dcabb1876c6f069f0ad64c5b69.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e99c45d00b68b7b08c2bb307dbc59ad2a7eec989">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d7ee86e0c34b1bf46416f155ce51b6c3df446e68">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "f01b615bf3f30015ac17c401cf3b5fa1627d45b1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c81091b31849c23c37e0311f99862750ebf36af5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d598a292670dc74a40f219581d2cf09db4ec8bbd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0ea9a0_10bf83fc2e9834d3426156@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f01b615bf3f30015ac17c401cf3b5fa1627d45b1.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c81091b31849c23c37e0311f99862750ebf36af5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d598a292670dc74a40f219581d2cf09db4ec8bbd">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "22d483d57330873bdecf6c1312fb01d838268734"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ad9b30ce6e303c389fa41d32f0d79a1471532094"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "988a8420396daecf403d69f1a745939a5102b95e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0eee0b_10bf83fc2e9834d34262de@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/22d483d57330873bdecf6c1312fb01d838268734.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ad9b30ce6e303c389fa41d32f0d79a1471532094">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/988a8420396daecf403d69f1a745939a5102b95e">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "54b4abbc709c1dcb1e1f90783d8c2335996cfd06"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "b9eb69934001a2673230086c1533205d2dddb27d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "11442c82c6594850aa497b86ff078fa226aa2b82"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf1161_10bf83fc2e9834d3426392@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/54b4abbc709c1dcb1e1f90783d8c2335996cfd06.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/b9eb69934001a2673230086c1533205d2dddb27d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/11442c82c6594850aa497b86ff078fa226aa2b82">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["url_code", "cef4a319ff75fee5e73071e86047639577a0ab96"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "018897ad16b38d4d3129b9fae8f5b74f9a53fb27"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d96fe180cbdef3c4ee88bd486e7f9d31bfaf5af1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf14c26_10bf83fc2e9834d34264c2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/cef4a319ff75fee5e73071e86047639577a0ab96.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/018897ad16b38d4d3129b9fae8f5b74f9a53fb27">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d96fe180cbdef3c4ee88bd486e7f9d31bfaf5af1">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "7083d45a84dc5b593a5cf05f680d0451d7dac8ba"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "571bac38cc7fd647769661a31bc09cc0792a88fa"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "2a04390f842504d4eeaebc4d090785665a61636c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "a4ab78528c77030f7614fdfcc57af66fe70ab6a6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "466810a401b8c6694f3ad801d04a25ac2280e54f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "2b62ecf01ab076393b88902c33ebc7b60547fd47"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "7478a6dfbd61186294a54424c786c77574eaf02b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (34.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[36m (18.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "566ec0af5e6b381ff5a3c007e5dee85afd7b7f5c"], ["user_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "617be82d9fa16003eb72f5a1ffc349cd960ccf51"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "644dc7e5f1ef995a41b6ccd2751165ab4ec3e465"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "902b7265a4c5d2bc59232340025e293af0f92b23"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:41.000000', "updated_at" = '2012-06-10 22:20:41.469852' WHERE "email_tracker_email_instances"."id" = 16[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "89477ccf84d4d3383a6bf6b7780ff45e5de4a783"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "41d243837aca257c87af38f1eb31ff86de9d53e9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "98cf8fb2c73f3b533c7bed0913abf373cf3dedb2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:41.000000', "updated_at" = '2012-06-10 22:20:41.483697' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "4e196137c9d719070f23385149ee36292f681b5d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:41.000000', "updated_at" = '2012-06-10 22:20:41.487825' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "1ff005621b7c4a8f1831364f6d9b8411d6705dee"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 14 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db98ad8e_10c063fc605c34d34458bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db98d5f3_10c063fc605c34d344599e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "f7e1e956ffdfce3d7a1a66c36a85828e414a0258"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d96daada71ef823314be5e2de5584a613a9dfb25"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", true], ["link_id", 14], ["url_code", "0402adc0a3e2d8c2a49bf3908f81f50e5dadb9a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db99495d_10c063fc605c34d34460f4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f7e1e956ffdfce3d7a1a66c36a85828e414a0258.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d96daada71ef823314be5e2de5584a613a9dfb25">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0402adc0a3e2d8c2a49bf3908f81f50e5dadb9a8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "f89653164e660da77f738759756358b62d493480"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0e25b18bbce6bccbf4b42f9bec9009d019ed66be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", true], ["link_id", 14], ["url_code", "60797c6128d51aabda9d19c42bd8a7db3e98d9fd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db998cc1_10c063fc605c34d3446128@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f89653164e660da77f738759756358b62d493480.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0e25b18bbce6bccbf4b42f9bec9009d019ed66be">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/60797c6128d51aabda9d19c42bd8a7db3e98d9fd">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "8b7bb1ac9be8fc33dbb1f1f90c13c35b9e288ed9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "62048a9ab5c9f73b1b1c9626aba45b38f5b0b9a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", true], ["link_id", 14], ["url_code", "4cec53453375dcfc103f1cb3ef936a81020ffc0d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db99d12e_10c063fc605c34d3446279@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8b7bb1ac9be8fc33dbb1f1f90c13c35b9e288ed9.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/62048a9ab5c9f73b1b1c9626aba45b38f5b0b9a5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4cec53453375dcfc103f1cb3ef936a81020ffc0d">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "91c6d02d39b950f9a4a6cb93605f285280f012b2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "58eb63419d1950a89262ce036ff72ae764f4a917"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", true], ["link_id", 14], ["url_code", "05b4f54b1c8ccc0c24091f4605d6e206c1d9cb58"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db9a211a_10c063fc605c34d344634a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/91c6d02d39b950f9a4a6cb93605f285280f012b2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/58eb63419d1950a89262ce036ff72ae764f4a917">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/05b4f54b1c8ccc0c24091f4605d6e206c1d9cb58">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url_code", "70b20e608fff2948fcb68d8ad4f6923dc1ea2683"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "90b14e78a4d10a0b6a8d1d9f4a0cd374dc7ad3f5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", true], ["link_id", 14], ["url_code", "baba4478c966000f4de4d8802c3adb9be569634c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51db9a6825_10c063fc605c34d34464e3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/70b20e608fff2948fcb68d8ad4f6923dc1ea2683.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/90b14e78a4d10a0b6a8d1d9f4a0cd374dc7ad3f5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/baba4478c966000f4de4d8802c3adb9be569634c">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "4cb6b6a9ecee4af6461fd1e3d6e8d5888edbcabf"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "0b54683b91b68f1ba9f746d434b9f51b9a8e775f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "aaf84acb2290c0ec4774f174188651722a1b14cb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:41.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "7054b4b3212e23e2141e80ca2b679ce6835730ef"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "38d4ff6a5923d7f44906630bbc3bac38eba169a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "19961520aafc719d23c77bd2d0900716fc912cd6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:41.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 13], ["url_code", "d6191e6d197dcb265d58112777786d5655442f7c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:41.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "da86e3737a0ac4f793831848c47ed9a4348920a3"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "07c422c462b716874de11897ea4d91a2edb75784"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "1f809fb3571abdef2b55097dc68ef21850717ac6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "166b7ec0e7e7095a47c41aaae43582ada3cbe3ab"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:50.000000', "updated_at" = '2012-06-10 22:20:50.713108' WHERE "email_tracker_email_instances"."id" = 17[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "50e6e39ee9b708bc9daaa83892d4442b9efaace7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "70527d6acd68a0c92c918ea6c6f881320d79dac5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "30431533b5b129cfa6a60ce80bb2b8465ebd3e75"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:50.000000', "updated_at" = '2012-06-10 22:20:50.729922' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "68a26e93f9aaf1ced5cf859d6427f77b0797a4bf"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:20:50.000000', "updated_at" = '2012-06-10 22:20:50.735646' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "b005e99f8d49f1689938fd024a391cbfce924e92"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 15 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2c5fda_10c073ff535c34d34444d0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2c8a3f_10c073ff535c34d34445ef@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "e25f351aa013b856da3738796400a8276a25366e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "abca201fc1696f3474b8850dda28f46fd2becffc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", true], ["link_id", 15], ["url_code", "fc6f1f110108c9492154d8441b012b622bed7918"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2cfef7_10c073ff535c34d34446f0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e25f351aa013b856da3738796400a8276a25366e.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/abca201fc1696f3474b8850dda28f46fd2becffc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/fc6f1f110108c9492154d8441b012b622bed7918">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "fd8b4141efb2f18a4603e29d780113c5fec6d883"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e460401ad2aed058b3caca0f289e95063f4ff6eb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", true], ["link_id", 15], ["url_code", "e6503249dd140750468c19d8bf9d62619adafa77"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2d49a0_10c073ff535c34d3444718@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/fd8b4141efb2f18a4603e29d780113c5fec6d883.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e460401ad2aed058b3caca0f289e95063f4ff6eb">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e6503249dd140750468c19d8bf9d62619adafa77">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "d61d0173a01bcc64a02820a7564e001810f8baed"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "5e41d6446d78c31ae2d1ce03426ba6775c1f6feb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", true], ["link_id", 15], ["url_code", "72589738bf4b1937d2039bf6005d2344b533d18a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2d946a_10c073ff535c34d3444877@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d61d0173a01bcc64a02820a7564e001810f8baed.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/5e41d6446d78c31ae2d1ce03426ba6775c1f6feb">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/72589738bf4b1937d2039bf6005d2344b533d18a">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "a2b5ef59d2605e94920a0685c8e57472390baccd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "be35c79f1fd0df7b9b53a4a91d3e8de640dd4b26"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", true], ["link_id", 15], ["url_code", "9653d0eb7daeda134e11d2de617dde6bdddfcc36"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2de277_10c073ff535c34d34449af@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a2b5ef59d2605e94920a0685c8e57472390baccd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/be35c79f1fd0df7b9b53a4a91d3e8de640dd4b26">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9653d0eb7daeda134e11d2de617dde6bdddfcc36">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "55e84386d04c4c9ec0f4fcebde5c5468704bb87c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "53ad16782a87409c9c08afcc79d07b7d8bcd3bb1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", true], ["link_id", 15], ["url_code", "b40d4cada3a52f236409d03a90ca37e62867b860"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:20:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dc2e2f4f_10c073ff535c34d3445071@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/55e84386d04c4c9ec0f4fcebde5c5468704bb87c.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/53ad16782a87409c9c08afcc79d07b7d8bcd3bb1">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/b40d4cada3a52f236409d03a90ca37e62867b860">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "47d5072165bf4b7d1029262d2da6cef201e5b780"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "03ec6b328bdd337fa59d711f43513a239c02547f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "52666b695d6122ce46f45cdb2e2f58708e38f3c3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:50.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "949dc03fc7e7d10256e2c6d29cd7cdd8b4dc0d9a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "2966710815216fb0fbc4a28b7a406c8c1e5319b4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "a34ab35ada82f9eb65d761227b8ff4e9a23a65b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:50.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["is_externally_viewable", false], ["link_id", 14], ["url_code", "8640f2fccd92a62c2aae7b8cd288cf3afe41b842"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:20:50.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:20:50 UTC +00:00], ["url_code", "98d5d062db7be237fe56799a0da400f5cad9ab28"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "2c2a65075c65ebe960cd05e977c28c23cd5c6617"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "efe5f5771ea54ad88d35d2a4721e08c090d4019f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "26d126b4a4bc84d353b09626b3950f3f8aa0f7d1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "85978c023262c63ee4cdf22f22254ed25957c8bb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:05.000000', "updated_at" = '2012-06-10 22:21:05.323357' WHERE "email_tracker_email_instances"."id" = 18[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "535ff822f64990e45e453a8a3370e90cb6d3b9a9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "9e3a2aafc1f388fee5994f4a5e7bb0f7e44df389"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "42a845ff421cb573e9e43e2dc6dc7b4429471af0"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:05.000000', "updated_at" = '2012-06-10 22:21:05.335711' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "a910f5586336b572368f419ad51b90bad4da352b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:05.000000', "updated_at" = '2012-06-10 22:21:05.339309' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "419c0410b6ce327f147a1bbe6115935edb8f90e6"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 16 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd16657f_10c093fd64cc34d3c799dd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd168f8c_10c093fd64cc34d3c800c3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "5c028709526f9aca7623f6f95a02b8750487516a"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "66e9f556a4a193f7d9535e6f313a14070f919215"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", true], ["link_id", 16], ["url_code", "dd91e264384907cd86bcdd4c1f605e5f94fdc7c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd170068_10c093fd64cc34d3c801ea@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5c028709526f9aca7623f6f95a02b8750487516a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/66e9f556a4a193f7d9535e6f313a14070f919215">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/dd91e264384907cd86bcdd4c1f605e5f94fdc7c8">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "ce43b6dca16a6f09605acd078db4297b4b27905c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fde571f9c407e587664f09856eac2be58fc92614"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", true], ["link_id", 16], ["url_code", "49b534b47e70f73fb82a7c9c6f0ea13c9aa858e7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd1744f2_10c093fd64cc34d3c80294@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/ce43b6dca16a6f09605acd078db4297b4b27905c.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/fde571f9c407e587664f09856eac2be58fc92614">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/49b534b47e70f73fb82a7c9c6f0ea13c9aa858e7">An external link</a>
    </body>
</html>
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "c553691a2529f19e81294258dc31b54945790622"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cd8387795f83c5fa9692b5c1c0dda720a0cc074e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", true], ["link_id", 16], ["url_code", "114d9971dce42737b090addc8d7a7b41856ca8e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd179d65_10c093fd64cc34d3c8036d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c553691a2529f19e81294258dc31b54945790622.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cd8387795f83c5fa9692b5c1c0dda720a0cc074e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/114d9971dce42737b090addc8d7a7b41856ca8e1">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "e38ed2a0f3fa6de3cf327f4a9cf944e085a416db"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e48db49bd1293ede2dc9299001ca4e6e0c5ca396"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", true], ["link_id", 16], ["url_code", "15fe853f4226928200cb0ffd64af023fbbf473a3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd17f1f9_10c093fd64cc34d3c804bc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e38ed2a0f3fa6de3cf327f4a9cf944e085a416db.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e48db49bd1293ede2dc9299001ca4e6e0c5ca396">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/15fe853f4226928200cb0ffd64af023fbbf473a3">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "030fa8df26fe7132bb147e1acde6fcb95f766967"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fe7602a891750f3f33305d27943bc13f1bd54428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", true], ["link_id", 16], ["url_code", "21726ae098a025b58149922c171ee72be89ac42e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:21:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dd184bad_10c093fd64cc34d3c80519@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/030fa8df26fe7132bb147e1acde6fcb95f766967.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/fe7602a891750f3f33305d27943bc13f1bd54428">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/21726ae098a025b58149922c171ee72be89ac42e">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "d5215a9daddc24512c54b95829f75486737b4f09"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "b9a7e409db9e13e45c30cd081a46778465fb4d98"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "c8a81f239de0d9f59139fd66823d05c83fe76175"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:05.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "247474da80f98458cbafe8035b5e0c2a8f182485"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "3479d6fa1d2abbc4c559a85311ae71d39141eeb7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "b05e396776dd0b0a4b7dc2599c46898628bbee1f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:05.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["is_externally_viewable", false], ["link_id", 15], ["url_code", "217b075b194d0370c8c634542e28428f3d679970"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:05.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:05 UTC +00:00], ["url_code", "3c065461a4147567c5b31105f2a8bd9b61faa88c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "4a8534f3e224287cf66d6dcd6421944e6af5e1f8"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "f47268cd55a843221926f3dbcb7fe55b662ae7cd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "4ed75d75718f15594f35e0600e7a5e07a06be376"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "319182e0547d9465c7cbffbd667f7b72d3c8a882"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:16.000000', "updated_at" = '2012-06-10 22:21:16.946199' WHERE "email_tracker_email_instances"."id" = 19[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "f46df9d24ed0698354daf6fd214cce9ece99fd48"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "20a8e76382432664fbdaf98527bd3e644a78d86a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "f87186b41862830838830a8b002b45166946fd53"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:16.000000', "updated_at" = '2012-06-10 22:21:16.960365' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "08906a571b7cf12d8d1b956cdfd473f3ac2963e9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:21:16.000000', "updated_at" = '2012-06-10 22:21:16.964393' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (24.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:16 UTC +00:00], ["url_code", "cadbb32318f69600dabcc7e183fd8798e44fd6dd"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 17 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddda6a1_10c0a3fdb7e034d346885d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51dddcf9b_10c0a3fdb7e034d34689db@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "f00017d9b65abd67a69eaa1bffd18e74e3a7e840"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "b14b48dd75394f33e6f1d6511e049deded075d33"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", true], ["link_id", 17], ["url_code", "ed30b2a9ec12544dd66420fb8f1d304b016d16b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddd13fe3_10c0a3fdb7e034d34690db@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f00017d9b65abd67a69eaa1bffd18e74e3a7e840.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/b14b48dd75394f33e6f1d6511e049deded075d33">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/ed30b2a9ec12544dd66420fb8f1d304b016d16b7">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "5cfd9e49dc381f73f8b91508123ca342b654427e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "022abeb9717c5a71f83293335e991caf656f880e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", true], ["link_id", 17], ["url_code", "be725c3c2ae781c2e14495542cfb5166cebdafff"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddd18310_10c0a3fdb7e034d3469195@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5cfd9e49dc381f73f8b91508123ca342b654427e.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/022abeb9717c5a71f83293335e991caf656f880e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/be725c3c2ae781c2e14495542cfb5166cebdafff">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "0d694b2bd0e8f8e0086aac597ec74ec1b40c412b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "87955811168834335f01ad1fa5baa1965119e861"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", true], ["link_id", 17], ["url_code", "baf9031bf42d1e18f1ae5894e18821bdd0960616"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddd1c4a5_10c0a3fdb7e034d3469283@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0d694b2bd0e8f8e0086aac597ec74ec1b40c412b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/87955811168834335f01ad1fa5baa1965119e861">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/baf9031bf42d1e18f1ae5894e18821bdd0960616">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "48e95eb4a240ffeb20264fac5e5cb759fac8bc09"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "47b50ec56dfdf11565ce192ed44db69b7ebabd3f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", true], ["link_id", 17], ["url_code", "364b50ea706d7712679aa66689f5b077b11f7d45"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddd20a97_10c0a3fdb7e034d3469380@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/48e95eb4a240ffeb20264fac5e5cb759fac8bc09.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/47b50ec56dfdf11565ce192ed44db69b7ebabd3f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/364b50ea706d7712679aa66689f5b077b11f7d45">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "f5357801cd624dbd0dc729adb473aef9d34c6940"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4ba00e4e37e4058f8a86e2fbf8a4bb058da07515"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", true], ["link_id", 17], ["url_code", "6717790d911894682bdb1f070ff05d7381a1f001"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:21:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ddd250da_10c0a3fdb7e034d346944e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f5357801cd624dbd0dc729adb473aef9d34c6940.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4ba00e4e37e4058f8a86e2fbf8a4bb058da07515">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6717790d911894682bdb1f070ff05d7381a1f001">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "e1f33e57039e0767562a5d13a238944802922591"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "ffad3e3107a630ec94fdd0096238238e2791454b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "7fb46631cd277b58c5cad56c0f4fe7c48cd6c5bc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:17.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "9f9f1c4d5c9ab69f49fd3dab7a156c13984c36d1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "4b6be95a3a48e55456980f4b21ba1799c1edec89"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "f4d7fd7917046e21d81b856633eaa5a041758127"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:17.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["is_externally_viewable", false], ["link_id", 16], ["url_code", "4a9f58dc730743b1317195d27c4b2977410df79c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:21:17.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:21:17 UTC +00:00], ["url_code", "814e99ecac1b8fa30637f8e04e34f39996e294f7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "067188e25635ae39fd5636c7dcfc244e0b822f88"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "0bb8601d70f36e1b15f0646605a7e82f47a97fd8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "7d2fbd4e1f4bf6cf5c4bd429444a2120e4365e8f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "d1e5a66cae496608fe86b0ea1ab6157cab60d313"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:22:07.000000', "updated_at" = '2012-06-10 22:22:07.406389' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "173363062af0132ba66f44fd9586835d3e70e606"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "520f9e8088d3d5162cc62b4e7aa6f5e3bcb67712"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "384041db219efb3e1c3f0f6b3adf9bd282b192fd"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:22:07.000000', "updated_at" = '2012-06-10 22:22:07.446449' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "dac7b05f2f8159eb8ba44faa158d190bfa2e267a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:22:07.000000', "updated_at" = '2012-06-10 22:22:07.450402' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "1d521a9bce1bbc7b73b22e25c34d95057119c153"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 18 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (37ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f79baf_10c103fcf49834d40519c1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f828a3_10c103fcf49834d4052032@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "d8fa399b27bca81a90981ded9ab5b662ce34d52d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "6348010054e92d1a63d6075777ce1b5d5d4132f0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", true], ["link_id", 18], ["url_code", "23b9ac54c83681c8295dc7103b29c16153743093"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f89994_10c103fcf49834d40521c9@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d8fa399b27bca81a90981ded9ab5b662ce34d52d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/6348010054e92d1a63d6075777ce1b5d5d4132f0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/23b9ac54c83681c8295dc7103b29c16153743093">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "0812d58524fc028d6155b751c9791d36ce4e4191"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e9574e43baae8870805267f0cf81136195cf3fd1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", true], ["link_id", 18], ["url_code", "f429a722f866fb901b51d77f6f7861238827d46c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f8e268_10c103fcf49834d4052243@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0812d58524fc028d6155b751c9791d36ce4e4191.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e9574e43baae8870805267f0cf81136195cf3fd1">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/f429a722f866fb901b51d77f6f7861238827d46c">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "38f9f0b98efad88fcd92d175c68b501442e438dc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a9377030380078ff9bd1cf2aa48e9b2503fb6af0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", true], ["link_id", 18], ["url_code", "c8a7a914df1a47f6dda8e62815a56a0c3a64d9b3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f926f9_10c103fcf49834d40523d8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/38f9f0b98efad88fcd92d175c68b501442e438dc.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a9377030380078ff9bd1cf2aa48e9b2503fb6af0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c8a7a914df1a47f6dda8e62815a56a0c3a64d9b3">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "7ae2bb305ccc460f7a12f63b3d9014815fc5ab5b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "790c76e131b919e4dcc9ad576b91759f39c32a13"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", true], ["link_id", 18], ["url_code", "af1707babc6c3788cd113b76831e863d1c831687"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f96b3f_10c103fcf49834d40524d7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7ae2bb305ccc460f7a12f63b3d9014815fc5ab5b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/790c76e131b919e4dcc9ad576b91759f39c32a13">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/af1707babc6c3788cd113b76831e863d1c831687">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "add72fa576c33364f0bc4d531851fcd73914fa1f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cdc57c16b2ba03115d40db4d5caccf4dba9b6333"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", true], ["link_id", 18], ["url_code", "739ec995323ff01fc4aec93be61a4ba4701dd120"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:22:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e0f9b78a_10c103fcf49834d40525e3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/add72fa576c33364f0bc4d531851fcd73914fa1f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cdc57c16b2ba03115d40db4d5caccf4dba9b6333">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/739ec995323ff01fc4aec93be61a4ba4701dd120">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "88d9cefc6233e40ef9e4a2f1d862be9000a7b0ed"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "929c0d7c48121f135eb72ab98c898ed3ab0eef86"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "cf874fe4d4028739e0c3c0d555785e44721e1aaa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:22:07.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "88cd44b8782cca82c70574c62a07d4f99bcad768"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "969a9199d621052fdc211ec5a2fe9a1104558a81"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "e7d7b80febcf028804cc375905bb5d3f149fc06d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:22:07.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["is_externally_viewable", false], ["link_id", 17], ["url_code", "f74bfecd5d5235e09026a82b4f1afb25d74b017b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:22:07.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:22:07 UTC +00:00], ["url_code", "feccb77b5a71c1fd57ace4f7ad72f87c7057af07"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/feccb77b5a71c1fd57ace4f7ad72f87c7057af07" for 127.0.0.1 at 2012-06-10 23:22:07 +0100
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "4cd6af46c9e29b21853df922f8360bcaaabcb44a"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "9711dafc7eaba97b1b561e0b0b1651a56ed1a779"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "e218d70917b7405f108418e8c8109e0cc922c59a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "9ca5db311cb68889751b079f3dfa4dc3ccf0bdce"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:23.000000', "updated_at" = '2012-06-10 22:23:23.543444' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "fc60d8bf416259093db1f2e5256e813afb32bfbb"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "146134646cbe7eb6d53e2365c6c627620bee2e1c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "f27f2a0a5cbd6447113bbeb6814d0f136896e2e4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:23.000000', "updated_at" = '2012-06-10 22:23:23.584945' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "0d4def0eb2e6ad5e9f83f5038ccf2abfa90c3edf"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:23.000000', "updated_at" = '2012-06-10 22:23:23.589148' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "10ed0589140c71bdb7df86f9adc00fb1e3b2345b"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 19 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5b9b8c7_10c1a3ffd40c34d44894ae@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5ba402b_10c1a3ffd40c34d4489526@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "25a2ab7ac7998f9c897888f15a5783c0212827c2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4ddee3b201f5116296782ab85fdf56876263d233"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", true], ["link_id", 19], ["url_code", "8c4895ad0b3aa1cf73a4213d0597b3ddc723ed74"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5bab347_10c1a3ffd40c34d44896c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/25a2ab7ac7998f9c897888f15a5783c0212827c2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4ddee3b201f5116296782ab85fdf56876263d233">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8c4895ad0b3aa1cf73a4213d0597b3ddc723ed74">An external link</a>
    </body>
</html>
  [1m[36m (14.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "0be097df160bebcdb30310dec17a0d0f4d3d3880"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1c99e25122a629914d3b288ee62913086db93dc5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", true], ["link_id", 19], ["url_code", "c5220de8c5b7b88ab06af6eda060036e3e1911a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5bb42a4_10c1a3ffd40c34d44897b6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0be097df160bebcdb30310dec17a0d0f4d3d3880.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1c99e25122a629914d3b288ee62913086db93dc5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c5220de8c5b7b88ab06af6eda060036e3e1911a8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "d6a2a07ab963c81b20e324629cfaf017d38b828d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "31d841cef23dcff61f1cfc860f8b9767f7098ffa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", true], ["link_id", 19], ["url_code", "40fb32751b7cf98537e37943af9656a3417fa539"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5bb894c_10c1a3ffd40c34d448988a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d6a2a07ab963c81b20e324629cfaf017d38b828d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/31d841cef23dcff61f1cfc860f8b9767f7098ffa">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/40fb32751b7cf98537e37943af9656a3417fa539">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "51ff61cbcb8e3b72b2e86785b6f28ba4241b93dc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "eff4003cddf1aedbb8ee423a7072cb356af26956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", true], ["link_id", 19], ["url_code", "846ca7252f10f34c2494f4c676c1b1f2a783c5bf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5bbcbc3_10c1a3ffd40c34d4489967@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/51ff61cbcb8e3b72b2e86785b6f28ba4241b93dc.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/eff4003cddf1aedbb8ee423a7072cb356af26956">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/846ca7252f10f34c2494f4c676c1b1f2a783c5bf">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "7fea721706d0ad8dbbf8ff97d4e2ad4ad97868a9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c2a1def86dd55772adfc3a792acc1eb10275d656"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", true], ["link_id", 19], ["url_code", "d952348448a2e416e9961151eabee9eb6c7d0a1f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e5bc25f3_10c1a3ffd40c34d4490076@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7fea721706d0ad8dbbf8ff97d4e2ad4ad97868a9.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c2a1def86dd55772adfc3a792acc1eb10275d656">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d952348448a2e416e9961151eabee9eb6c7d0a1f">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "b6e74597a5f456d05465c577cb7cacccc8c91f11"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "1809f0df411aba9b78780a20ee59b130f14fc376"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "25c1a7531f1810b7e5db15546e380af6898b0e56"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:23.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "f57f33a278990a822772a85f8c7df7f5e26bfa68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "011d4d9b3eacc96f01758ee8359ff9e4e8ac6977"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "206be2f3e3c53d5c8c8866d5467fe3cb2839db4e"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:23.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["is_externally_viewable", false], ["link_id", 18], ["url_code", "b4a54bd26731beae4fc57debe4d80c3ffd407e15"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:23.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:23 UTC +00:00], ["url_code", "ae5b357ae8dcd519758e3cdc5c6f01b2b5f4d556"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/ae5b357ae8dcd519758e3cdc5c6f01b2b5f4d556" for 127.0.0.1 at 2012-06-10 23:23:23 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"ae5b357ae8dcd519758e3cdc5c6f01b2b5f4d556"}
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["url_code", "7757eccd7b8388e4d6c879a663acc367aa2d782d"], ["user_id", nil]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["url_code", "6c576b1cbe316b654e506f28b38f34c5ea7c0fb8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:42 UTC +00:00], ["url_code", "e27f9d9da8d657a3ddd830afbf184ac8c3ee1e1b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "f645e3e65bd7693e43eacc3a273e55c7b464b077"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:43.000000', "updated_at" = '2012-06-10 22:23:43.002172' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "8d6d8dcfe01f7f9d8171a2e795f1fba1e35cafc2"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "ee0c8ff8e898400f8cfa408f031518b6d8901554"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "aed687555752ab9614a43893eb6df9e2f18dc21b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:43.000000', "updated_at" = '2012-06-10 22:23:43.041764' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "5c51c5345b84241325826301d06af1a6bfe6e2ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:43.000000', "updated_at" = '2012-06-10 22:23:43.046262' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "c548b18a4db175e7f117110921ceb61dbdb8fa10"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 20 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (38ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f1864c_10c1b3fd86a034d3c8449f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f2124b_10c1b3fd86a034d3c84546@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "710014b9b9d82e94c0f00d354db1e47e36a7235b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "10a47f8b23fd76f6c2d074cfadc81b5bbe43fb19"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", true], ["link_id", 20], ["url_code", "6f045916f112652839b1ec9cc3c95c341f61a10d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f28826_10c1b3fd86a034d3c846e4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/710014b9b9d82e94c0f00d354db1e47e36a7235b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/10a47f8b23fd76f6c2d074cfadc81b5bbe43fb19">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6f045916f112652839b1ec9cc3c95c341f61a10d">An external link</a>
    </body>
</html>
  [1m[36m (11.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "e801189b9773b83f682b735564d217e17fec24f3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "6a473525e0b503faf94885c592a27523e13a8167"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", true], ["link_id", 20], ["url_code", "cce4dfef87d68fafa6880e23f9ab023209045f51"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f2fa88_10c1b3fd86a034d3c847d5@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e801189b9773b83f682b735564d217e17fec24f3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/6a473525e0b503faf94885c592a27523e13a8167">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/cce4dfef87d68fafa6880e23f9ab023209045f51">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "efa3a720e64283a12580c9da77dd9d03c9c62ee0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "51578d16c3d76ad6555f9cb8b4989b5904b1bd8f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", true], ["link_id", 20], ["url_code", "7a4a66b98ee138c277e93dcc992361773a30b0a1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f34131_10c1b3fd86a034d3c8486c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/efa3a720e64283a12580c9da77dd9d03c9c62ee0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/51578d16c3d76ad6555f9cb8b4989b5904b1bd8f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/7a4a66b98ee138c277e93dcc992361773a30b0a1">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "3df66b2c1f3ac44b95f71b34066c735457fccf32"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a264d01099bbf827e18ca09c2962e6e612d94c1d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", true], ["link_id", 20], ["url_code", "5edb3f1eade2eb151009889885b4671c9e88283a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f38b16_10c1b3fd86a034d3c849a5@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/3df66b2c1f3ac44b95f71b34066c735457fccf32.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a264d01099bbf827e18ca09c2962e6e612d94c1d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5edb3f1eade2eb151009889885b4671c9e88283a">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "41b37cc8b2940c4da413a78a3deab6b4a81fde22"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0966072ea76300c6f2be3a89801d3582ba6150eb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", true], ["link_id", 20], ["url_code", "ed54f916423af746ae9c7f1c2b1d88b61af37157"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:23:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e6f3d24f_10c1b3fd86a034d3c8505@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/41b37cc8b2940c4da413a78a3deab6b4a81fde22.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0966072ea76300c6f2be3a89801d3582ba6150eb">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/ed54f916423af746ae9c7f1c2b1d88b61af37157">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "cf65aa4764c5a05a4de2fe45e82e3ffd2b4acf08"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "177c803eb9a8812355943e9ad5e0468092e33184"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "39e6b23ae30604b7d9e645cfd354a7e59cf21616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:43.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "887f768b0abda9e9efdab13d03a2862baa4c5ee0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "4db578fc8283de6fdd9d2234157f97e8a192e634"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "47f02b074381d388bf6d8b2af726f8494006f44f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:43.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["is_externally_viewable", false], ["link_id", 19], ["url_code", "dfe774fb08c5bce2072de1a56546580e41d5a83e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:23:43.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:23:43 UTC +00:00], ["url_code", "0e155c0a33ef5c636707b91e3f0415fe878227dd"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/0e155c0a33ef5c636707b91e3f0415fe878227dd" for 127.0.0.1 at 2012-06-10 23:23:43 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"0e155c0a33ef5c636707b91e3f0415fe878227dd"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '0e155c0a33ef5c636707b91e3f0415fe878227dd' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:23:43.000000', "updated_at" = '2012-06-10 22:23:43.323017' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00], ["url_code", "6a4d12f98e316f9967da1a4a7d03a206044f3390"], ["user_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "17f393db4da10d80a83399a0984a57c6674c6287"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "f70c44aadbd9f50b987c599ee40b1b3b29e8e038"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "9889f4356561bf3047e3320f76044a8fd6eecbae"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:24:23.000000', "updated_at" = '2012-06-10 22:24:23.097983' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (4.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "565cd352421e1424905a9d7fbe1ed6225081acee"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "ba9273873bf07a6ebd9d8f18d6947ff1686ad045"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "f2383a1a670fed1f41e70f7963baddc26db28cb1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:24:23.000000', "updated_at" = '2012-06-10 22:24:23.143687' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "30f62df9a02ca8d402c03e36804d7b8d1014cf21"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:24:23.000000', "updated_at" = '2012-06-10 22:24:23.147632' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "820e13d63e224dfd7c6ba695cb847d049ebe4cb7"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 21 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e972fa0b_10c1e3fe76d434d446767a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e97383a6_10c1e3fe76d434d4467745@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "e007316757885a4f817b93e63f91c2f44a42438e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a8c51fe0a41c71e94cad4b8eee05974e371c71d7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", true], ["link_id", 21], ["url_code", "e93334eb40bd8869e8190f742fbb0c042bca42f2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e973f2cf_10c1e3fe76d434d44678e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e007316757885a4f817b93e63f91c2f44a42438e.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a8c51fe0a41c71e94cad4b8eee05974e371c71d7">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e93334eb40bd8869e8190f742fbb0c042bca42f2">An external link</a>
    </body>
</html>
  [1m[36m (16.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "76084492179ad3eedf88680a6eabae5f42238c40"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ec982d0711204837ab63c557db09e6117b670965"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", true], ["link_id", 21], ["url_code", "5065f82ae02e71afe67dfb4e2ceff209b28ffa0b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e97487bb_10c1e3fe76d434d446794e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/76084492179ad3eedf88680a6eabae5f42238c40.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ec982d0711204837ab63c557db09e6117b670965">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5065f82ae02e71afe67dfb4e2ceff209b28ffa0b">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "3552355c24d961c88a8a5937bec590ba427911ee"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "8b204b042a90afc78407212f59199aaf303573f0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", true], ["link_id", 21], ["url_code", "4b1010601155bb8547755bea2764b23538e3a3f1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e974ce55_10c1e3fe76d434d446808d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/3552355c24d961c88a8a5937bec590ba427911ee.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/8b204b042a90afc78407212f59199aaf303573f0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4b1010601155bb8547755bea2764b23538e3a3f1">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "c7c4624d60e83c1e2a25cc83673d7172058efba0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fba97f8e981cc4b2b3fc46818af1400a97954583"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", true], ["link_id", 21], ["url_code", "3b349312679a1cbb9fc717880722eeab78157df8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e9752209_10c1e3fe76d434d44681bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c7c4624d60e83c1e2a25cc83673d7172058efba0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/fba97f8e981cc4b2b3fc46818af1400a97954583">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3b349312679a1cbb9fc717880722eeab78157df8">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "40e8825bb4b85c57620d82695cc796e24b6f4393"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "46bd1ba1241b8da64aae0541d5a07b2a785fc934"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", true], ["link_id", 21], ["url_code", "5d17a3c88ee3b8e7d943b9794e3ace6521d9c3d6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:24:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51e9756d96_10c1e3fe76d434d44682b7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/40e8825bb4b85c57620d82695cc796e24b6f4393.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/46bd1ba1241b8da64aae0541d5a07b2a785fc934">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5d17a3c88ee3b8e7d943b9794e3ace6521d9c3d6">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "b3c882f44985aa7eef64dd20f83a520b16141788"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "aea56af81296f7e0f9d5360c17ebc2de720763e9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "126296a3441868a316f62a176f9f5fb814f4d533"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:24:23.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "edcb3f89a179596db36a8d7091a2b0798a19d01b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "1e5de4cc4d12dfed58efffa075aaa5fb2bac0d95"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "d3b626e4894e77e7205480b2f05aa8b31c00a4a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:24:23.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["is_externally_viewable", false], ["link_id", 20], ["url_code", "e9aeb3c510c5a4512055a519d8b51e1c8b7b4a93"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:24:23.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:24:23 UTC +00:00], ["url_code", "e396edee372d7551183e5c0f59844c0545b9a5a9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/e396edee372d7551183e5c0f59844c0545b9a5a9" for 127.0.0.1 at 2012-06-10 23:24:23 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"e396edee372d7551183e5c0f59844c0545b9a5a9"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'e396edee372d7551183e5c0f59844c0545b9a5a9' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:24:23.000000', "updated_at" = '2012-06-10 22:24:23.426577' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00], ["url_code", "930e980a042cf5a404231c6151928c90654ffcd1"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:38 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "7d38bf1bcf7df569303cf99819ddcf47161972ef"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "99c1f989bd69ccc95c232735aef886a2e98f5b0c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "1303a3f1f0fd888146a79c3137b85359ea1121e8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:39.000000', "updated_at" = '2012-06-10 22:25:39.105184' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "4154691ed4a787b0ef8a44b2e72514ad0723e6e7"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "6b882f048e664b1d110761220f1ce85de2411dfa"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "d69baf7218c3ac005cf124a09ed43358c0b1f285"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:39.000000', "updated_at" = '2012-06-10 22:25:39.146471' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "2def70845f8b5d59746597ec1252b37770d4b3dc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:39.000000', "updated_at" = '2012-06-10 22:25:39.150593' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "54bd7f92d1c5a3a39a02cd48584ee246f34410e9"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 22 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee330bf1_10c1f3fcf32034d3c1693b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee3398bf_10c1f3fcf32034d3c170f3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "8d3f5c5e25bb7b67ea3c2c8593977c8b75f5da63"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1a1375cf51cb048e271c4c6306d207b0f71b5f6f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", true], ["link_id", 22], ["url_code", "80d4d35b16b3ad6cfb5939e326ac88e5f0a0263a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee340a33_10c1f3fcf32034d3c17111@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8d3f5c5e25bb7b67ea3c2c8593977c8b75f5da63.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1a1375cf51cb048e271c4c6306d207b0f71b5f6f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/80d4d35b16b3ad6cfb5939e326ac88e5f0a0263a">An external link</a>
    </body>
</html>
  [1m[36m (8.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "a0eb3789f3b261b8371d617e2cc73f911594871f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ccd4a84aee7947e13ff6e2f6d5db76b8faba71a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", true], ["link_id", 22], ["url_code", "a955b9c0d5807744b23ebaec7372e2a4e53f00f3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee347fed_10c1f3fcf32034d3c172a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a0eb3789f3b261b8371d617e2cc73f911594871f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ccd4a84aee7947e13ff6e2f6d5db76b8faba71a5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/a955b9c0d5807744b23ebaec7372e2a4e53f00f3">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "a6393747371d20388813a17275b43e48154c65de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "88cc2c9cacfdd917da5ed0b9b17cf38eaa9c964d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", true], ["link_id", 22], ["url_code", "e9433e8d220fdc1936bf148a792fc327f0df75e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee34c5dd_10c1f3fcf32034d3c173fc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a6393747371d20388813a17275b43e48154c65de.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/88cc2c9cacfdd917da5ed0b9b17cf38eaa9c964d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e9433e8d220fdc1936bf148a792fc327f0df75e1">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "812e17d40dffabcfeeadda4db5f1ff90636fd936"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1647879f7cd7d714568e9b31a9f9ab0d0b0dbd0a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", true], ["link_id", 22], ["url_code", "0cd4048747207792c7dcad9041258d7b94c4e2b8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee350cf5_10c1f3fcf32034d3c17488@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/812e17d40dffabcfeeadda4db5f1ff90636fd936.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1647879f7cd7d714568e9b31a9f9ab0d0b0dbd0a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0cd4048747207792c7dcad9041258d7b94c4e2b8">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "c51c0d4d2d5e219777bd4104bc90f01350bdbd30"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1dc6a03002dec57a762d148e00130e99975240bb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", true], ["link_id", 22], ["url_code", "4c1913294e229a1e0b468598f3ae294b5b2733be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ee3558fc_10c1f3fcf32034d3c175b3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c51c0d4d2d5e219777bd4104bc90f01350bdbd30.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1dc6a03002dec57a762d148e00130e99975240bb">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4c1913294e229a1e0b468598f3ae294b5b2733be">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "49c8ef2b247f2057b6085cdb33d598351742ad52"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "58334dfccc4317eb2e18be4a2278882fe806eeb4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "db55b92cdeb5c11f71104723d9dd5078acc2ed34"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:39.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "efba87b0c24df512ac65962f7be7fc029270602e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "5bc8aa057112f9a371ad23e451d0582a472734ce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "c796b74cf56dd11c7de310d47b7e18f4cb76fbaf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:39.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["is_externally_viewable", false], ["link_id", 21], ["url_code", "fa8640f95445cd7978018800557fa0200f980f68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:39.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:39 UTC +00:00], ["url_code", "9fec37707363ca639611e4eace922626fb8132f5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/9fec37707363ca639611e4eace922626fb8132f5" for 127.0.0.1 at 2012-06-10 23:25:39 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"9fec37707363ca639611e4eace922626fb8132f5"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '9fec37707363ca639611e4eace922626fb8132f5' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:39.000000', "updated_at" = '2012-06-10 22:25:39.419426' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (16.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "c297e5b2ac544c6cafe8171213bf09056af86536"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "612cbc02ebd30fcd467fc640ed8216f2d90a83e5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "1d4f29947838bede3092f9d751f53cbf09a346a1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "40f05a29547a7e344a0807dc11fb57bdc607680e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:49.000000', "updated_at" = '2012-06-10 22:25:49.382448' WHERE "email_tracker_email_instances"."id" = 25[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "1c4b8338884471fc538284c2e54117de53e3c520"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "9e1ed8680437d9b6f77788a00294e4c62c16d269"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "9365ef26c32e0b9c8524056ba74c8203b41ab1b3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:49.000000', "updated_at" = '2012-06-10 22:25:49.419943' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "b152d124217abf09fcbfcee726886971a4a5f66c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:49.000000', "updated_at" = '2012-06-10 22:25:49.424136' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "34da09b327a569d0180f16ca32e490cf48a17dfc"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 23 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (37ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed741f4_10c203ff056034d3887348@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed7d178_10c203ff056034d38874ea@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "b02ed7716cdb904902ac9b67a6907202d2bc9289"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e4c69a36f89414493508831273eae262a9993c0f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", true], ["link_id", 23], ["url_code", "723777cca1264b883c5eaf4bb67ca5b6669775a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (23ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed84463_10c203ff056034d38875b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b02ed7716cdb904902ac9b67a6907202d2bc9289.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e4c69a36f89414493508831273eae262a9993c0f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/723777cca1264b883c5eaf4bb67ca5b6669775a8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "05401f6a8e65334fa7048addd9f3730438fb9376"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "92d77fbd700cd7e9068cc869239249cf67c76ad9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", true], ["link_id", 23], ["url_code", "0c59ca10e628c1b35fa0ed84080ed9688fe1d003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed8e26c_10c203ff056034d3887626@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/05401f6a8e65334fa7048addd9f3730438fb9376.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/92d77fbd700cd7e9068cc869239249cf67c76ad9">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0c59ca10e628c1b35fa0ed84080ed9688fe1d003">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "4516beebc49d332432c5873bdd8091723b8a1fbf"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "df0b721bf2e8b4d82fa0c6d0418e3e50af35b7e1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", true], ["link_id", 23], ["url_code", "4ceec69baef396ee8556ce295536f15320055205"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed92dc6_10c203ff056034d38877c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/4516beebc49d332432c5873bdd8091723b8a1fbf.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/df0b721bf2e8b4d82fa0c6d0418e3e50af35b7e1">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4ceec69baef396ee8556ce295536f15320055205">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "c9805146ef82276736f18fc072ff5fd95a1fbf43"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "110fd2a2a717320bc052ead6dde74dc11ab13122"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", true], ["link_id", 23], ["url_code", "12e282df4d6d47bc8b20f5a5178ffe2f810cb455"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed97fe2_10c203ff056034d388784f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c9805146ef82276736f18fc072ff5fd95a1fbf43.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/110fd2a2a717320bc052ead6dde74dc11ab13122">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/12e282df4d6d47bc8b20f5a5178ffe2f810cb455">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "b0b42c928759da23fe9a60c0689773e3aff5f2db"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a8e131abe31acd96107cf55557173e5915f39fe4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", true], ["link_id", 23], ["url_code", "8053bcdd8d63be1189a0b1a1e38f470f2f9325c8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:25:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51eed9d463_10c203ff056034d38879bf@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b0b42c928759da23fe9a60c0689773e3aff5f2db.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a8e131abe31acd96107cf55557173e5915f39fe4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8053bcdd8d63be1189a0b1a1e38f470f2f9325c8">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "9ca3d7ae563194e4a9d90777e5041374d35a46dc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "c923334929f0315218a939c000acb9f287c23172"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "718b22d931574b9c09d785f5dae47373086abaf0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:49.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "7283d7ad37cbc52e206ffb64871ef8c78fd3059e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "2b44455f861aedea667433242efc4c34fb7dfc4a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "062f7e22078e67a017b7812afe74445095fad654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:49.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["is_externally_viewable", false], ["link_id", 22], ["url_code", "ee18cf9a9403faf083348584cc9aca8207b2e32e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:25:49.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:25:49 UTC +00:00], ["url_code", "d1c21f9d044fcfd222bdd08a31379441d155ed5d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/d1c21f9d044fcfd222bdd08a31379441d155ed5d" for 127.0.0.1 at 2012-06-10 23:25:49 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"d1c21f9d044fcfd222bdd08a31379441d155ed5d"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'd1c21f9d044fcfd222bdd08a31379441d155ed5d' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:25:49.000000', "updated_at" = '2012-06-10 22:25:49.719332' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (13.5ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00], ["url_code", "89a9f809de148f498ea8632607d97965ae4a610f"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:52 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "e8756b5ff735bc004de076d68cca55876bc499f3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "6bb07f8302c3dc24bf119f495371a8da452e1991"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "494581841cc6052d6bd531dcbecccecab569c9e5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:26:53.000000', "updated_at" = '2012-06-10 22:26:53.116828' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "b3083d2613167fafcb592e276215991832f93749"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "c2c40e0108df35d215bbf8668a3b0091f484104e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "77e02f4c1a2868316b3f71c40ee15ad86759b503"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:26:53.000000', "updated_at" = '2012-06-10 22:26:53.154407' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "5731d73e689cb09279c3114a398ba70c05ec1a14"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:26:53.000000', "updated_at" = '2012-06-10 22:26:53.158603' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "939ccb56958a53aa7d79624edeb1574f745223be"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 24 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (39ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d338b4_10c2b3fec15434d38164e2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d3ccdf_10c2b3fec15434d38165af@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "be3d5cf2812ec27058e5286dd5d307f969ca4ba2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "bf9cf6cffec7bcd641f2eb96ce0ebb2a3766a16f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", true], ["link_id", 24], ["url_code", "ca0df1201e408e23e115093f12c0a92024226a33"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d4482f_10c2b3fec15434d38166ba@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/be3d5cf2812ec27058e5286dd5d307f969ca4ba2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/bf9cf6cffec7bcd641f2eb96ce0ebb2a3766a16f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/ca0df1201e408e23e115093f12c0a92024226a33">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "8fc8d9ea7aa8b09f202eab023f4a309758199cc7"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a6810fd5d5282a7af16ddd922200aced2aca309b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", true], ["link_id", 24], ["url_code", "3174b048b19592edd7101c2f4fbc09b265ab4ce6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d4a0a5_10c2b3fec15434d3816760@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8fc8d9ea7aa8b09f202eab023f4a309758199cc7.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a6810fd5d5282a7af16ddd922200aced2aca309b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3174b048b19592edd7101c2f4fbc09b265ab4ce6">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "ed3ad7ef2fca8377aa514af2563a5c87dfd0f9db"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2689aa839606a4f4e21f1b5c6a0e040cd0089121"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", true], ["link_id", 24], ["url_code", "f7d919c1200191150f3fddccadd52205a8c13f6a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d4e911_10c2b3fec15434d381687e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/ed3ad7ef2fca8377aa514af2563a5c87dfd0f9db.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2689aa839606a4f4e21f1b5c6a0e040cd0089121">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/f7d919c1200191150f3fddccadd52205a8c13f6a">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "e5c279e4ce10bef4c46b4c47785c7dada8aee5e4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "08081a53baf44f18312dcdffe42aeb7f7e793064"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", true], ["link_id", 24], ["url_code", "c841eac7b0c69a2cef64101a63ac3dee12064d30"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d530ec_10c2b3fec15434d3816981@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e5c279e4ce10bef4c46b4c47785c7dada8aee5e4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/08081a53baf44f18312dcdffe42aeb7f7e793064">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c841eac7b0c69a2cef64101a63ac3dee12064d30">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "d5106793bdeeee3e0e975f3593f1caa2cd236402"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "81b5a128d471b5a1fad38aa34913b9af62054418"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", true], ["link_id", 24], ["url_code", "d413e1ece6fc594b01267584a62387e3d1421c82"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:26:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f2d579c7_10c2b3fec15434d38170a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d5106793bdeeee3e0e975f3593f1caa2cd236402.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/81b5a128d471b5a1fad38aa34913b9af62054418">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d413e1ece6fc594b01267584a62387e3d1421c82">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "67ce46a5a320ff29c33b1df2c4c9237d8582527a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "de50bdcda6da1ef050cba1570a979234cb39bcf7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "b2da0746e9b13e4d8d2c9337a6018e74103f49ca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:26:53.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "c0be05a11f5d34b6cd5af6727aeafb8d634bde20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "c6a7643fcd5804f95a1b7db03129141572c22404"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "0d199273d8fb60eb475cfc062502c97c110ff646"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:26:53.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["is_externally_viewable", false], ["link_id", 23], ["url_code", "3b60d9d2fb72cfca97c78f65a4b60e45e6831635"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:26:53.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:26:53 UTC +00:00], ["url_code", "11ba9c766fd352fdb93709b892c47a2f5ae93433"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/11ba9c766fd352fdb93709b892c47a2f5ae93433" for 127.0.0.1 at 2012-06-10 23:26:53 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"11ba9c766fd352fdb93709b892c47a2f5ae93433"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '11ba9c766fd352fdb93709b892c47a2f5ae93433' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:26:53.000000', "updated_at" = '2012-06-10 22:26:53.442284' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (18.1ms)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "3b2fc1d1eb14c60cb5ea07d0666b925a203321a0"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "80c3abb606d4fa20a019edfa4eb4a15a939cead5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "0e45f5f5e32f2484ec9bbb7a184d9a28a75b628d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "1bdbadcc290c24afedbefea3294be5f21f8cd92b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:47.000000', "updated_at" = '2012-06-10 22:27:47.644059' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "f347ebd9a85b0fd1598a7729bd8018785295859f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "ef142113464ee82070a08ea440d2422d4ceb8f52"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "d6a4878ae4193ec316c0a0d0fb7f906e02de3336"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:47.000000', "updated_at" = '2012-06-10 22:27:47.686466' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "a55ce75ffb4675c16cc0f3687fca5c8a9eec42ff"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:47.000000', "updated_at" = '2012-06-10 22:27:47.690669' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "e9b885fa5714bd56e6909c624b4ce8ee3aee4b82"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.4ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 25 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (59ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63b87fe_10c2e3fc17cc34d44725c7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63c2aab_10c2e3fc17cc34d447262e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "d9e26d8814353d6122d41294e39732bea263debb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "9c4d90e1c6c888a640bb5c81ef1c17bf172b9867"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", true], ["link_id", 25], ["url_code", "97e6d1a07e010550c886911178d504bbb4b9e528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63ca54d_10c2e3fc17cc34d4472727@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d9e26d8814353d6122d41294e39732bea263debb.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/9c4d90e1c6c888a640bb5c81ef1c17bf172b9867">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/97e6d1a07e010550c886911178d504bbb4b9e528">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "0dcdd74c7f554c306f52a320c7d94cf2d311adf4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "028a04bfc4771e332cd27ab80631f5ea9f01675b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", true], ["link_id", 25], ["url_code", "4af1fc1c8344c0a647e3a289ccea041721e26ba2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63cf4df_10c2e3fc17cc34d44728af@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0dcdd74c7f554c306f52a320c7d94cf2d311adf4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/028a04bfc4771e332cd27ab80631f5ea9f01675b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4af1fc1c8344c0a647e3a289ccea041721e26ba2">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "b586b29f2aa6bee879cc4b40d449781df6e37e21"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "03c1287c538eb17a9fa95003066e14dd048d3a18"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", true], ["link_id", 25], ["url_code", "22f7f11af6e3fcb8ccc3ea9d0234123631dec77a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63d4499_10c2e3fc17cc34d4472980@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b586b29f2aa6bee879cc4b40d449781df6e37e21.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/03c1287c538eb17a9fa95003066e14dd048d3a18">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22f7f11af6e3fcb8ccc3ea9d0234123631dec77a">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "3102b95ea5035ba5a44858b7dc6edf87039cc57f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "aa41142fba2b7d9821b7c8c8aac55abf37f72935"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", true], ["link_id", 25], ["url_code", "da2f8d07a72ef113adb936ca7d4fd06ff0bd6909"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63d8ff9_10c2e3fc17cc34d4473097@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/3102b95ea5035ba5a44858b7dc6edf87039cc57f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/aa41142fba2b7d9821b7c8c8aac55abf37f72935">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/da2f8d07a72ef113adb936ca7d4fd06ff0bd6909">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "fd5f86e9886e8d2b5058069d64b3ecf5ce1ebd6a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1bd1e0f90648403ccbe9bb827797a0903a06a512"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", true], ["link_id", 25], ["url_code", "1a230129974a008790369d5b1cb9e615073ae03f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:47 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f63de284_10c2e3fc17cc34d4473196@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/fd5f86e9886e8d2b5058069d64b3ecf5ce1ebd6a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1bd1e0f90648403ccbe9bb827797a0903a06a512">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/1a230129974a008790369d5b1cb9e615073ae03f">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "e7d566a6d7f4955d0b71742f028b4b5a89068b1e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "d97805dcaee3b7e4cbd060bf0396361a009b1688"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "4a26cd97664b27e400f6f112ab64329743ba73c8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:47.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "1cf44172483175548cdd74566deaa5122e96e050"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "da2369985baaebd7a037b7997d9a8b5816c809d7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "814213746a8a5e235b168bc2e5838af26d063ace"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:47.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["is_externally_viewable", false], ["link_id", 24], ["url_code", "810cce22db8c3e8acfb8021bb4b7b089a69babf3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:47.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:47 UTC +00:00], ["url_code", "4fee42f5be8a9d0f5e1a17ad2a2484893ac035a8"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00]]
  [1m[36m (23.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00], ["url_code", "029a22cfbad1111f053dba1b64a37fb39810679d"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "2cb276883515f212c65c27f38997afd63107a498"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "01cfd4d4ac05533fedb107c0e5cfc4ca111dd394"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "0edcf5336da0b024e2ee4717e12e3d60304547a3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:55.000000', "updated_at" = '2012-06-10 22:27:55.051772' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "8fdbda8aaba3f28d4c4d425d5089871a38d4e189"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "09c464860a6ad5e2e516d521088389fc2ffefbb4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "c4fa4cb4ed32450e205c0cc7a7805d561612bbb4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:55.000000', "updated_at" = '2012-06-10 22:27:55.088194' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "a35c9494b1b00c541e6d05d1b0c4dbc33baec0bc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:55.000000', "updated_at" = '2012-06-10 22:27:55.092485' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "a734b5602fdbdbcab41c5d5ce60e2f94941f7dba"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 26 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b21d0b_10c2f3fdc2d434d442385e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b2a6bc_10c2f3fdc2d434d4423946@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "f06ca712d383e933dcba59160f373776331ea715"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "252929f586ed088efed9f109909fd909e364033e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", true], ["link_id", 26], ["url_code", "0aaf6ce16cbc2775308e22ee2b7cca7886a8c181"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b31ab3_10c2f3fdc2d434d442404f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f06ca712d383e933dcba59160f373776331ea715.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/252929f586ed088efed9f109909fd909e364033e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0aaf6ce16cbc2775308e22ee2b7cca7886a8c181">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "0e1954ae9fa8df6d5a8f0dbe784b777482d27bc7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d22df9ff7fae212312d837b172fd3292f8dda3c3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", true], ["link_id", 26], ["url_code", "0f71425ef8374924109c5af4664b2888a5e630d4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b36683_10c2f3fdc2d434d442417d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0e1954ae9fa8df6d5a8f0dbe784b777482d27bc7.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d22df9ff7fae212312d837b172fd3292f8dda3c3">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0f71425ef8374924109c5af4664b2888a5e630d4">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "22fc2279b75df68d039798da6072ad953ca65f94"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "997adccf41624decb9ca07d2713b3cdbf7d25349"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", true], ["link_id", 26], ["url_code", "652e6322d1b0a9f28ab89d219a28c8d4c002a648"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b3b3f2_10c2f3fdc2d434d4424248@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/22fc2279b75df68d039798da6072ad953ca65f94.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/997adccf41624decb9ca07d2713b3cdbf7d25349">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/652e6322d1b0a9f28ab89d219a28c8d4c002a648">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "49a222faf18676f554bda5fdfca58e28c0c910aa"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "856bf9a70a943103aa809dce22bdd0c95302834e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", true], ["link_id", 26], ["url_code", "1cacdc7b19bf198813e417cc860d091a17dfbd9a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b3fdbb_10c2f3fdc2d434d44243c1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/49a222faf18676f554bda5fdfca58e28c0c910aa.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/856bf9a70a943103aa809dce22bdd0c95302834e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/1cacdc7b19bf198813e417cc860d091a17dfbd9a">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "0306c5f06f80af41074a67e58a4747e89c5b97d3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4c5f320ef790a32abdf7c9fb184e03717437af0c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", true], ["link_id", 26], ["url_code", "cd735d69e171b339501af39afabb5a06d03dfb66"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:27:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f6b4476b_10c2f3fdc2d434d4424495@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0306c5f06f80af41074a67e58a4747e89c5b97d3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4c5f320ef790a32abdf7c9fb184e03717437af0c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/cd735d69e171b339501af39afabb5a06d03dfb66">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "d11ce06531866f2f9e408c2995e2e029963899ec"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "b2ae4bccfdfd191462ed6e978d139d4d900a111f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "2d082a53a10b157402c4a552b2ceaee0c768955a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:55.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "79f26cc9a35675477693408b9595600ff1306dc1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "a65457c2890b95ffd82c8617fd0cf0b92afc64dc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "f560214a7c20bdac4710dd6ecf640d030a43852f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:55.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["is_externally_viewable", false], ["link_id", 25], ["url_code", "4f9f44b5de2420f7cd287c8b15db1d8e024db782"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:27:55.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:27:55 UTC +00:00], ["url_code", "226d7631e74faf36cd5787eda14fa9153a57db62"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/226d7631e74faf36cd5787eda14fa9153a57db62" for 127.0.0.1 at 2012-06-10 23:27:55 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"226d7631e74faf36cd5787eda14fa9153a57db62"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '226d7631e74faf36cd5787eda14fa9153a57db62' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:27:55.000000', "updated_at" = '2012-06-10 22:27:55.425515' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.1ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00], ["url_code", "31eaa222343e56fa11c6f5e1643da81a9c4c1407"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:11 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "c7201bee7fe6b3fe927d2f8c87ab09dbf955cb29"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "6b08aca8f4ec0c8c9b77498f769cdeabf8d26477"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "12bf57a6086a365fb1b467ee6a5825a0cf672987"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:12.000000', "updated_at" = '2012-06-10 22:28:12.138608' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "eb273d1d50b92f2537a7a840a661f08458ed82c8"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "274129d7ca4ed4002bd9499a584ce11c27d3c2e5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "613ab744d12058479c8726e2837a1ef221f7a73f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:12.000000', "updated_at" = '2012-06-10 22:28:12.177144' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "899874fd0e342fec40c485a3eb4d87c94bf42704"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:12.000000', "updated_at" = '2012-06-10 22:28:12.182421' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "2a1f4541ea2ac095fda47eefb45c78d439bc745a"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 27 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c38545_10c303fff2d034d349661@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c40e5b_10c303fff2d034d34967eb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "dbce05468ddf2d05222d7d7d4988f082ba9e6a79"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "8eae714cf37df914123c14578eba95ae3b55cc97"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", true], ["link_id", 27], ["url_code", "0b052bb6582cb46761cdbf972de9b5c0eaf0fa20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c47fdf_10c303fff2d034d34968a4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/dbce05468ddf2d05222d7d7d4988f082ba9e6a79.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/8eae714cf37df914123c14578eba95ae3b55cc97">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0b052bb6582cb46761cdbf972de9b5c0eaf0fa20">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "963d4159f4c8c45ce532cc962cbe22a673ff9609"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2f6c19b0359c12e4c597515b4bcfa003d4c5e9d0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", true], ["link_id", 27], ["url_code", "5746c52280954af0a8e72851e5e15f6f9332055a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c4c638_10c303fff2d034d34969cb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/963d4159f4c8c45ce532cc962cbe22a673ff9609.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2f6c19b0359c12e4c597515b4bcfa003d4c5e9d0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5746c52280954af0a8e72851e5e15f6f9332055a">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "e74ee58efe53cd16654b5b6cd3f771354d8a44ce"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "05a51dded576c0cd927a85a7b9936e2e9967886d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", true], ["link_id", 27], ["url_code", "45db50a5cab74c1700f6c8afe6ad369463dfaadb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c50a82_10c303fff2d034d3497018@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e74ee58efe53cd16654b5b6cd3f771354d8a44ce.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/05a51dded576c0cd927a85a7b9936e2e9967886d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/45db50a5cab74c1700f6c8afe6ad369463dfaadb">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "ba5f8ce763f99df02ff0c25112c0f21bbfe88a39"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c9bde4e50bdc9a7bfb816a0a6c2cb229e4c7d341"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", true], ["link_id", 27], ["url_code", "47af848bd33a473ad132e108c1b084357bd9a76f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c54f1d_10c303fff2d034d349713e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/ba5f8ce763f99df02ff0c25112c0f21bbfe88a39.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c9bde4e50bdc9a7bfb816a0a6c2cb229e4c7d341">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/47af848bd33a473ad132e108c1b084357bd9a76f">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[35mEmailTracker::Email Load (0.3ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "5a57958310eee9faa7e706684538f1e0790132f6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a255b27b69d35d77baffbf3a94027f803062447e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", true], ["link_id", 27], ["url_code", "2e96e7e8b265967c8d531e996d8160b5a8996a03"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f7c5af89_10c303fff2d034d3497290@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5a57958310eee9faa7e706684538f1e0790132f6.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a255b27b69d35d77baffbf3a94027f803062447e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2e96e7e8b265967c8d531e996d8160b5a8996a03">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "05d62ba0c591c0b847e69cf6841db6efffc9106f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "a9d0ce4a3342cc01bda56b5611bfd5b4b4105445"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "ce2ce673c9f9d613679ccf1330472852c884bff0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:12.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "d4edb50868dc4768c3c80c1435ace24d2cf04af2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "a6f815171fd0c17f05a488a724be4b0d6deb486e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "daa56fb8b31fddc2a331d8df1221beb1dcf2fc35"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:12.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["is_externally_viewable", false], ["link_id", 26], ["url_code", "f7f7099fc3779ebbb429a114234eb7ad651f55e0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:12.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:12 UTC +00:00], ["url_code", "db4e42801a4ef8a42aad7e5d9f31045feaf235ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/db4e42801a4ef8a42aad7e5d9f31045feaf235ed" for 127.0.0.1 at 2012-06-10 23:28:12 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"db4e42801a4ef8a42aad7e5d9f31045feaf235ed"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'db4e42801a4ef8a42aad7e5d9f31045feaf235ed' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:12.000000', "updated_at" = '2012-06-10 22:28:12.470728' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.1ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "395dcd0ea5fe8dc555a56d5e13f5484678336fac"], ["user_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "8436edce1577fb760f47b892ae663cf508c76fb8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "4b8fee64bf552100609b63fc8a55d10bf762ebcc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "9e653cc27251cba0d38ec91dc1feb9cb3b47736e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:25.000000', "updated_at" = '2012-06-10 22:28:25.847110' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "7bc0595d41cb7e584eb0796721c0adadc0bb0461"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "095e3d3ecab52d39a0294b0ac30d7779255c7e70"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "560503c6374a951f967b65c8e4ae1b76fe8ceeb3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:25.000000', "updated_at" = '2012-06-10 22:28:25.883976' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "943c2155d982bdc98ad0b299051420fea9d6fb2f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:25.000000', "updated_at" = '2012-06-10 22:28:25.888308' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "d2425926d9c34dbabd73ea184c6a8bb68a708fb1"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 28 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:28:25 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f89e4e3a_10c313ff599834d38119e1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:25 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f89ed916_10c313ff599834d381209@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url_code", "9b9081ba02890da25f22a59957c1c06a06a6ac52"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "af9b965a326d357c6f98c7cf50a7a62573fdd638"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:25 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", true], ["link_id", 28], ["url_code", "3fd1f1fcd8d1f13c95a63f3ef9bc60ca84692578"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f8a81c_10c313ff599834d381211a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/9b9081ba02890da25f22a59957c1c06a06a6ac52.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/af9b965a326d357c6f98c7cf50a7a62573fdd638">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3fd1f1fcd8d1f13c95a63f3ef9bc60ca84692578">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url_code", "c0a3514caf94a5646348b18683ea32a7c91ed545"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "44a14684a90fe75ee067f9214d1a3210465dd90c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", true], ["link_id", 28], ["url_code", "109b26740048c2b4c3c1617c65fe764d7ae5d20f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f8a4d7f_10c313ff599834d3812286@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c0a3514caf94a5646348b18683ea32a7c91ed545.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/44a14684a90fe75ee067f9214d1a3210465dd90c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/109b26740048c2b4c3c1617c65fe764d7ae5d20f">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url_code", "c9772079b36a98ca16e6720ea52ee1035aebe3a8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "14cf836e4dc0378202c4b769344e78a5e0d38127"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", true], ["link_id", 28], ["url_code", "4770b140939aa2eb6769315f00f0aaf5de462d3e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f8a956a_10c313ff599834d381234a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c9772079b36a98ca16e6720ea52ee1035aebe3a8.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/14cf836e4dc0378202c4b769344e78a5e0d38127">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4770b140939aa2eb6769315f00f0aaf5de462d3e">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url_code", "5dff06e9d30aeedf7af64f5de69487a354e9ee79"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0fe639bcd7a5eb336967303b7da696fb4797cb60"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", true], ["link_id", 28], ["url_code", "b9ebe58624416cc53cad01538cbb929dedd1a33b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f8adb06_10c313ff599834d3812469@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5dff06e9d30aeedf7af64f5de69487a354e9ee79.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0fe639bcd7a5eb336967303b7da696fb4797cb60">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/b9ebe58624416cc53cad01538cbb929dedd1a33b">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url_code", "7bf92ba16a19a71bae3fb953e984581f54042d01"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ad19c11a8462e229dbdfbec026c2c08c3478a4ee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", true], ["link_id", 28], ["url_code", "6443f62ef96359ed5d5f3af1a23aab6dc7404d78"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:28:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51f8a12161_10c313ff599834d381258d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7bf92ba16a19a71bae3fb953e984581f54042d01.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ad19c11a8462e229dbdfbec026c2c08c3478a4ee">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6443f62ef96359ed5d5f3af1a23aab6dc7404d78">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "1559262aa14fe9c75374cfbe157ff388b45cd93c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "0124969270fb5228e441d8909a40da507430d0fc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "eb3347d1a0d5b6975d8a14220e8aed692634ad35"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:26.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "21f5cb6d7a82aab6ef0cde32b43d1e52e750e80f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "0424227f610c18c3f88b9410d159608323f8cd25"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "4e1fa4b71e035df491bb74faba6f565aec7145c2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:26.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["is_externally_viewable", false], ["link_id", 27], ["url_code", "9923bd41222760e71f63453ad848a7c9753ebbc7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:28:26.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:28:26 UTC +00:00], ["url_code", "b3ce64ccb552564e8fae559f269c39a8616bcb58"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/b3ce64ccb552564e8fae559f269c39a8616bcb58" for 127.0.0.1 at 2012-06-10 23:28:26 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"b3ce64ccb552564e8fae559f269c39a8616bcb58"}
  [1m[36mEmailTracker::EmailInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'b3ce64ccb552564e8fae559f269c39a8616bcb58' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:28:26.000000', "updated_at" = '2012-06-10 22:28:26.186305' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (3.1ms)
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[36mEmailTracker::EmailInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "2d1109b0cc417a21b926fa6bc357b1bc0ee3092a"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "3bd9183635bfcfd908df52ea9b81be5bb656fcb7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "1663f17dfb6cbebbfa6a0695b777f664d7c71906"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "c471bab3f2cb33c7989d233abfbfd27b95165dc8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:29:55.000000', "updated_at" = '2012-06-10 22:29:55.772996' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "b392479a0faef8c61a89f3072f57cf39b0f13556"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "8195defcc73e918b59218dc9c2e6aa72e593d79b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "11b6a4eebb0a69aa9283e08dc56d6fa685b812d3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:29:55.000000', "updated_at" = '2012-06-10 22:29:55.785844' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "976af640cb8f6616def2d16e18e8114c7279f816"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:29:55.000000', "updated_at" = '2012-06-10 22:29:55.789725' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "fc04c0856fc9f3e6eb2f2828fe543c5a85d0cb41"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 29 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3d2633_10c483fe435c34d40125a4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3d4f7d_10c483fe435c34d40126fc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "0e68bd97aeba1d4ca1d98513b99d030a32df1b65"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0df9a0b3d46d37caf438a22f8b0623c489115436"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", true], ["link_id", 29], ["url_code", "630f94c9917d63088d383d06150f5a2f3a4d1a0e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3dbda3_10c483fe435c34d4012794@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0e68bd97aeba1d4ca1d98513b99d030a32df1b65.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0df9a0b3d46d37caf438a22f8b0623c489115436">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/630f94c9917d63088d383d06150f5a2f3a4d1a0e">An external link</a>
    </body>
</html>
  [1m[36m (11.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "48b0f40a695ed30937051a6c9d082ad2e7546e5f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2cfcc25d73dfdedd0ff1ea449063e9e58e2d3796"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", true], ["link_id", 29], ["url_code", "378426a83154e30b9a50b151f58670c88bc58e63"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3e42e3_10c483fe435c34d40128af@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/48b0f40a695ed30937051a6c9d082ad2e7546e5f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2cfcc25d73dfdedd0ff1ea449063e9e58e2d3796">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/378426a83154e30b9a50b151f58670c88bc58e63">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "029a1591a6aa1f6597d3f151456b323194fb7ec6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "3336437a17e5f438992117c6930688167e060b4a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", true], ["link_id", 29], ["url_code", "2118b1e4880c6c71cee8d8251a9808e972ab3904"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3e9bb2_10c483fe435c34d40129b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/029a1591a6aa1f6597d3f151456b323194fb7ec6.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/3336437a17e5f438992117c6930688167e060b4a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2118b1e4880c6c71cee8d8251a9808e972ab3904">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "e0adde257dde243564a7593debb8921e1bb2c522"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c721a3c2441b30b426d4574b2906bd2be7a1ebca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", true], ["link_id", 29], ["url_code", "c694cac22f05aa0424933feec2bc62a5b16ddd4e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3ef4cd_10c483fe435c34d4013090@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e0adde257dde243564a7593debb8921e1bb2c522.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c721a3c2441b30b426d4574b2906bd2be7a1ebca">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c694cac22f05aa0424933feec2bc62a5b16ddd4e">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url_code", "8d2be5eeffca03d22b75dd7ee7cde6287427dd91"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "b2332ee7e41df2b25de9125729887fdb0a857cbc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:29:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", true], ["link_id", 29], ["url_code", "bb6ae783867d559af74d0d5a094b740222c4f534"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:29:56 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51fe3f3ec2_10c483fe435c34d4013172@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8d2be5eeffca03d22b75dd7ee7cde6287427dd91.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/b2332ee7e41df2b25de9125729887fdb0a857cbc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/bb6ae783867d559af74d0d5a094b740222c4f534">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "420db0b9a4af384142df78cad12cec705ece6e48"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "90203774b65c3ab460cf3b83af2327718beba6ab"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "b3cd13003b5b12dba2ec56c1bf455f42a182c43c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:29:56.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "2b13e1c75ae5447fa4ae6362fae8b3affc877e91"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "66dba9925c875d400e70b3b8f30f24947e347165"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "673b566834502d507a9b9993ecaedec7626e3f62"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:29:56.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "7058af4973c97cf5e9dcf5b246b8d57d17178828"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:29:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:29:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:29:56 UTC +00:00], ["url_code", "c06dbb867c8edb9b2d67d6e040e4ce96c9201e07"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/c06dbb867c8edb9b2d67d6e040e4ce96c9201e07" for 127.0.0.1 at 2012-06-10 23:29:56 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"c06dbb867c8edb9b2d67d6e040e4ce96c9201e07"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'c06dbb867c8edb9b2d67d6e040e4ce96c9201e07' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:29:56.000000', "updated_at" = '2012-06-10 22:29:56.069134' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 29]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["is_externally_viewable", false], ["link_id", 28], ["url_code", "b3cff83aa6a813cfb2e1b36dcbf0a361a54e4da2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/b3cff83aa6a813cfb2e1b36dcbf0a361a54e4da2" for 127.0.0.1 at 2012-06-10 23:29:56 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"b3cff83aa6a813cfb2e1b36dcbf0a361a54e4da2"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = 'b3cff83aa6a813cfb2e1b36dcbf0a361a54e4da2' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:29:56.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (28.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00], ["url_code", "45f3b86ac7a93500379591c81c36f32078206cec"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:18 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "cc9f59545e2ea34124ad5ef09c4bd7301048c929"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "6a971b07d45e8ff491de1f25f3feeeed4ae93acd"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "f928762ed3aaf658bc6c4169aa1d4b68d98a457e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:30:19.000000', "updated_at" = '2012-06-10 22:30:19.150563' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "a3c37a800110da4d9bbfdfb9bfd5373d67fc3a3e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "0085f1964dff8c81dec77a3b9c55b5e21107a150"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "548a6a0155eac1c5accc9634539c3d1e6000fa2b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:30:19.000000', "updated_at" = '2012-06-10 22:30:19.169064' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "acb1e364fa1576624eb1f7102adffda1e7796e05"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:30:19.000000', "updated_at" = '2012-06-10 22:30:19.173363' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "230b30e911de1a817dadd3b43c26c3532e82deed"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 30 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (36ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb3cbcd_10c4b3ffa62034d40460e5@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb3f6a2_10c4b3ffa62034d4046110@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "9da83e79c083bdcba49ebd12909f5eb276f20f0c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2dbcc1b3dce00533191609d2a144a41317a2a6eb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", true], ["link_id", 30], ["url_code", "2241288df0a34500a3740f63627742d0ec41f0d4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb46e73_10c4b3ffa62034d404626d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/9da83e79c083bdcba49ebd12909f5eb276f20f0c.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2dbcc1b3dce00533191609d2a144a41317a2a6eb">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2241288df0a34500a3740f63627742d0ec41f0d4">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "780ef33e0e57f7cb5a33fd16dba5eeb89e822750"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1a9936caa359654866ec07a2e6cf1f83a24378b0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", true], ["link_id", 30], ["url_code", "b71ec7b2dd7f7c54b9f5ba42a9904e9f4a5811eb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb4b680_10c4b3ffa62034d4046343@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/780ef33e0e57f7cb5a33fd16dba5eeb89e822750.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1a9936caa359654866ec07a2e6cf1f83a24378b0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/b71ec7b2dd7f7c54b9f5ba42a9904e9f4a5811eb">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "57fcc72bf7a4eaf6d405f2beabdd509a5c97da3b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "3bc82064051a3672fb5ec0a598fd12b725671a41"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", true], ["link_id", 30], ["url_code", "05ba7fb07289a2da9ec5c7b497d2ed6cff38e10b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb4fcc9_10c4b3ffa62034d404644b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/57fcc72bf7a4eaf6d405f2beabdd509a5c97da3b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/3bc82064051a3672fb5ec0a598fd12b725671a41">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/05ba7fb07289a2da9ec5c7b497d2ed6cff38e10b">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "532156cc342e00f90bbfff405deb5117bd085156"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c22b93a40a72f7cc563eafe7e5c6267750130049"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", true], ["link_id", 30], ["url_code", "96fad4029ad227db52eefc5446929a4c39e69b50"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb542df_10c4b3ffa62034d40465c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/532156cc342e00f90bbfff405deb5117bd085156.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c22b93a40a72f7cc563eafe7e5c6267750130049">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/96fad4029ad227db52eefc5446929a4c39e69b50">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "1819a6dd70cf98166d22fcbba5914a4d0640be9d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "89b3c5d21f720871c9799119892c79f0a158eb2a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", true], ["link_id", 30], ["url_code", "4138bdb2dd90a4cd2f4eca8d863cfc53b29067a4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:30:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51ffb58b28_10c4b3ffa62034d40466bc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/1819a6dd70cf98166d22fcbba5914a4d0640be9d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/89b3c5d21f720871c9799119892c79f0a158eb2a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4138bdb2dd90a4cd2f4eca8d863cfc53b29067a4">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "2827aff01f62ab4782df045281dcc76f5c28ba96"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "06d8434fc7ae53bdd9b18bf848b67f2a05567ad4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "1c0fde37e1628840aa2e512cc9a30ce14958eb5d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:30:19.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "98eab2bc9da770eca3381b7e495bdf1255c0e8cf"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "9a4bd107c96f082cbdc0b100068231f99b3f798a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "b5eb9c638fbb2bf8e2b9a9fb2192c0aea19dac7a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:30:19.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "760060b26b27c5274edf1885c33200759724e858"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:30:19.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:30:19 UTC +00:00], ["url_code", "49dcbd2da39d8f8f7b3514178d4fbbc3dd07a199"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/49dcbd2da39d8f8f7b3514178d4fbbc3dd07a199" for 127.0.0.1 at 2012-06-10 23:30:19 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"49dcbd2da39d8f8f7b3514178d4fbbc3dd07a199"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '49dcbd2da39d8f8f7b3514178d4fbbc3dd07a199' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:30:19.000000', "updated_at" = '2012-06-10 22:30:19.437280' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.2ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["is_externally_viewable", false], ["link_id", 29], ["url_code", "0753e785b433993f4f245bc9fed74bc4f2d1d216"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/0753e785b433993f4f245bc9fed74bc4f2d1d216" for 127.0.0.1 at 2012-06-10 23:30:19 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"0753e785b433993f4f245bc9fed74bc4f2d1d216"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '0753e785b433993f4f245bc9fed74bc4f2d1d216' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:30:19.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (34.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "71aa444b88648eaa9257e53363c33e0e4077bd04"], ["user_id", nil]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "83fb4a7c716e62535027f13accbcc765e21a3583"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "3a32f137db5609ad0c5200f4acdc1f3ab0f684fc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "3115c32b3ff270344057d7d2f1b019f54102373e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:10.000000', "updated_at" = '2012-06-10 22:31:10.971764' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "f658b773630f6614fccf2a3237f957747b67da3c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "1d719d7a629e8c36e429c5496098a8ae657e6f3b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "cca2b43ac5dd9f43310f81c1fb592806d1baa7ad"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:10.000000', "updated_at" = '2012-06-10 22:31:10.984545' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["url_code", "293067bd576577c1f2a902b99fa0edf9835159a3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:10.000000', "updated_at" = '2012-06-10 22:31:10.990903' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "744d36767fe7bf92a6a7941a2292544bf87a3f5b"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 31 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (38ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f10e03_10c4d3ff625034d405681f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f13911_10c4d3ff625034d4056939@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "6577b05a55dc600497f40bd5ca90dca3c5190520"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d4ffdf90e21cd2d5376439f5660995a031a457d5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", true], ["link_id", 31], ["url_code", "3d729535158147042424c351e374294727060123"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f1aa50_10c4d3ff625034d40570a3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6577b05a55dc600497f40bd5ca90dca3c5190520.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d4ffdf90e21cd2d5376439f5660995a031a457d5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3d729535158147042424c351e374294727060123">An external link</a>
    </body>
</html>
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "75118b935f599397ca999af43523cd05046318a4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "01bed1c5eabdb77dd69787b602d995a90fb0844a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", true], ["link_id", 31], ["url_code", "579914a9f3a7236029201d4cbd95f5f7b6590e7d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f1ff45_10c4d3ff625034d40571cf@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/75118b935f599397ca999af43523cd05046318a4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/01bed1c5eabdb77dd69787b602d995a90fb0844a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/579914a9f3a7236029201d4cbd95f5f7b6590e7d">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "6c1ce68979ab92ed62a98c122a9c72468ad2a1b0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "94fe12af01373777d38ba0c1e14c63be54a8c957"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", true], ["link_id", 31], ["url_code", "1dc105b9b56af66269f007e663a8be3b8cf37d41"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f24380_10c4d3ff625034d4057255@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6c1ce68979ab92ed62a98c122a9c72468ad2a1b0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/94fe12af01373777d38ba0c1e14c63be54a8c957">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/1dc105b9b56af66269f007e663a8be3b8cf37d41">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "0bd33e4e8d703984f62502543a5ee1cc03a7b980"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c4cfe5d7d318bf143b15eb394c636003d26c95ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", true], ["link_id", 31], ["url_code", "db6ef5383fa150d3664b3df8d94c527264c9c8ef"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f28ab1_10c4d3ff625034d4057369@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0bd33e4e8d703984f62502543a5ee1cc03a7b980.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c4cfe5d7d318bf143b15eb394c636003d26c95ad">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/db6ef5383fa150d3664b3df8d94c527264c9c8ef">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "058b9d41d6424e13fb7eebd1ff5626a6a5f730d2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "7497747bd5a0cec9739f9dcd5a9300d58db0a105"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", true], ["link_id", 31], ["url_code", "4ed2201e1a64fdb81bfa6079b394216d4f1fe2e2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:11 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5202f2d1dd_10c4d3ff625034d40574e8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/058b9d41d6424e13fb7eebd1ff5626a6a5f730d2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/7497747bd5a0cec9739f9dcd5a9300d58db0a105">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/4ed2201e1a64fdb81bfa6079b394216d4f1fe2e2">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "2e9416a02aece312ed5ecac1d7aa1215d24ea781"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "054cbf730ecd609261f1067b54473a4555f937a0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "9fd79322561cb9c7a7a6acb2f298134cbc0daae5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:11.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "fc5c9ec2fc2e9f9c59c57c9bebbd5c27eeaa757c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "de4874f8f3c4ffad18638890a4f48c3fa9a18a12"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "d52d2483e8e4ec2a9d3f08e0d541838c9491772c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:11.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "679562bcb5e6b4954d0e3b096b09f1a94d80400b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:11.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:11 UTC +00:00], ["url_code", "689c8bc565a28768fc183219701543efc336b614"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/689c8bc565a28768fc183219701543efc336b614" for 127.0.0.1 at 2012-06-10 23:31:11 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"689c8bc565a28768fc183219701543efc336b614"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '689c8bc565a28768fc183219701543efc336b614' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:11.000000', "updated_at" = '2012-06-10 22:31:11.258532' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["is_externally_viewable", false], ["link_id", 30], ["url_code", "41bb2ec7e8710bb2a72b463a6656d4405a645f30"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/41bb2ec7e8710bb2a72b463a6656d4405a645f30" for 127.0.0.1 at 2012-06-10 23:31:11 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"41bb2ec7e8710bb2a72b463a6656d4405a645f30"}
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '41bb2ec7e8710bb2a72b463a6656d4405a645f30' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:11.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 33ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "8338a4bc30942470562ea42b32462f3939d32127"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "cf777d04798abe8ccbfc21984c8a9a9934142ce7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "82173e2342b8f98cd7654f3c7ccf77c0fbb800be"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "9a00b22985a95a9014c989482df5a360c711a684"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:41.000000', "updated_at" = '2012-06-10 22:31:41.649635' WHERE "email_tracker_email_instances"."id" = 34[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "e9d6db63e15b59ff475946badba4fb74dfc5f6c7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "c4e8f2a2beb9a87b555cfc141a53015283789207"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "c9a6ecca81f978cd7207084e089fb67ff96819b6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:41.000000', "updated_at" = '2012-06-10 22:31:41.664020' WHERE "email_tracker_email_instances"."id" = 33
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "e0e4df04c9e277144c4c5d50637b22f9973c0840"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:41.000000', "updated_at" = '2012-06-10 22:31:41.667735' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "9c57c3444e779ec1ed37d242d68e1ea6be58857f"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 32 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (37ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204db4b33_10c4e3ff4f8c34d44284b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204db783b_10c4e3ff4f8c34d442854@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "0d6268af3bf5a539da1d47e298e063f6800638bd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "05c6502695564d1044acca930d10565e038e2d35"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", true], ["link_id", 32], ["url_code", "5086c0b49897e2d9e8d3e73153bc99f75e126c68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204dbe611_10c4e3ff4f8c34d44286f6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0d6268af3bf5a539da1d47e298e063f6800638bd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/05c6502695564d1044acca930d10565e038e2d35">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5086c0b49897e2d9e8d3e73153bc99f75e126c68">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "d7dc67198d8e11fa8ea816c991ea5da7164edf07"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "b1c543a9ca03880453c7b0111441ecdfeab4a1d5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", true], ["link_id", 32], ["url_code", "2060b61615f05127419d032f8dcd739c3183375d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204dc2ed3_10c4e3ff4f8c34d44287fe@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d7dc67198d8e11fa8ea816c991ea5da7164edf07.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/b1c543a9ca03880453c7b0111441ecdfeab4a1d5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2060b61615f05127419d032f8dcd739c3183375d">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "d212f5dd01d63617af41ab804ffb2587991dcee8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "6b29fd5b4fc589f04cdf7c446d35f6b1a6d3f332"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", true], ["link_id", 32], ["url_code", "805a7e51aec9ce1239164fbbd43d9c7fb2887ad0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204dc71d5_10c4e3ff4f8c34d44288a3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d212f5dd01d63617af41ab804ffb2587991dcee8.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/6b29fd5b4fc589f04cdf7c446d35f6b1a6d3f332">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/805a7e51aec9ce1239164fbbd43d9c7fb2887ad0">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "8d86b85faf89206554b5b802a200d743aa200235"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cc3befabc1680c5f3a096961a81b3e5b51e3b8e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", true], ["link_id", 32], ["url_code", "c396842eb130d7e3298387d8d9ac813be5bb4369"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204dcd198_10c4e3ff4f8c34d442896@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8d86b85faf89206554b5b802a200d743aa200235.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cc3befabc1680c5f3a096961a81b3e5b51e3b8e6">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c396842eb130d7e3298387d8d9ac813be5bb4369">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "1de1f10ac162755983701cd181ca412283492777"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "95b32bb095b1eb7474c8e1f032467171b54f5e00"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", true], ["link_id", 32], ["url_code", "5e01b937ca14b50a96ac84af57d123b0fd279f0a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:31:41 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5204dd1cca_10c4e3ff4f8c34d442902a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/1de1f10ac162755983701cd181ca412283492777.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/95b32bb095b1eb7474c8e1f032467171b54f5e00">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5e01b937ca14b50a96ac84af57d123b0fd279f0a">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "4e2b1983b0166edd347ba1a6b2c650f25b331f0e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "fdeb6f5f7fa67009072f83412766d8bf4114f44c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "4bb1a2d2a6f1ea713b6932574fd77a913b40d605"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:41.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "239c76fbc83554450a1eaacd242d3512487f1471"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "0cd0013967adfa87cebbe6292e73bd25bb24342e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "d664bceaac7f5f5f2f91e15deffa53e73ad9d1ab"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:41.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "43effbe5ad834f3e476e14880020b0669b75d16d"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:41.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:31:41 UTC +00:00], ["url_code", "1a9eaa47f845c430e2a0b80f2cf0931106d92e18"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/1a9eaa47f845c430e2a0b80f2cf0931106d92e18" for 127.0.0.1 at 2012-06-10 23:31:41 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"1a9eaa47f845c430e2a0b80f2cf0931106d92e18"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '1a9eaa47f845c430e2a0b80f2cf0931106d92e18' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:31:41.000000', "updated_at" = '2012-06-10 22:31:41.935614' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 32]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["is_externally_viewable", false], ["link_id", 31], ["url_code", "ee16247b38bea31f96a18039db64c53889a42e66"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/ee16247b38bea31f96a18039db64c53889a42e66" for 127.0.0.1 at 2012-06-10 23:31:41 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"ee16247b38bea31f96a18039db64c53889a42e66"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = 'ee16247b38bea31f96a18039db64c53889a42e66' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:31:41.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "b6e87744c8d7e5e55a3e2ba1b427e21feb7a4aab"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "1ba6d791a10f3db8cf9e3b161362cb7a76fe48f4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "42b303d6427ccf55c5c06f915f413a7c7c8c8eb0"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "42246d7cafdb5d11089a5427e564393b9fe09c8f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:32:55.000000', "updated_at" = '2012-06-10 22:32:55.737178' WHERE "email_tracker_email_instances"."id" = 35[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "ee2ee4f8af0b7029e8d92ef147d10cbff88f187a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "642c413305295cbca658e5b6c63efa358bb4bdf0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "8b4bb5f441b5ad2f743766cb7ec2bbc7eb6e2223"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:32:55.000000', "updated_at" = '2012-06-10 22:32:55.750181' WHERE "email_tracker_email_instances"."id" = 34
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "2e6ca71951cbbd8246bf89c6c2c4f64a0caa861e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:32:55.000000', "updated_at" = '2012-06-10 22:32:55.756756' WHERE "email_tracker_email_instances"."id" = 33
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "9196acd69822595bf2270a9239eeb6ae67308e7d"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 33 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (40ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097d11ee_10c503fc15cc34d3c6947f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097d43d0_10c503fc15cc34d3c695c2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "a82558962d9563f2fa40410c06945069cd3c12b4"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "144e089c58fedb823106e2fb39fd02e39bbcd573"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", true], ["link_id", 33], ["url_code", "22c76e95cd97a84681aeff5099695c0579af7071"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097de07d_10c503fc15cc34d3c6961d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a82558962d9563f2fa40410c06945069cd3c12b4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/144e089c58fedb823106e2fb39fd02e39bbcd573">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22c76e95cd97a84681aeff5099695c0579af7071">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "19d6758afe2cd51da1e5359b1e6d2ef971187e1b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "398ee69c55b8c24f7a8fca1411538a5b57511d66"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", true], ["link_id", 33], ["url_code", "c96a1619fd72e37de855a5435396deb1fea373cf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097e35f0_10c503fc15cc34d3c6973e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/19d6758afe2cd51da1e5359b1e6d2ef971187e1b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/398ee69c55b8c24f7a8fca1411538a5b57511d66">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/c96a1619fd72e37de855a5435396deb1fea373cf">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "b69020c99abda237c9cbba95404944cd0584d833"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "92b8a6f12b623ccf92793928922c12b4035201a0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", true], ["link_id", 33], ["url_code", "6c91b084783c436d96f349d4291fa973ef4b67f7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097e82e0_10c503fc15cc34d3c69888@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b69020c99abda237c9cbba95404944cd0584d833.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/92b8a6f12b623ccf92793928922c12b4035201a0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6c91b084783c436d96f349d4291fa973ef4b67f7">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "ef2bc918e9b94155a8c34fcb8e08303af64c7b2e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "3aacf8e6031b5df3f1496af495caf74c5ca9d96b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", true], ["link_id", 33], ["url_code", "e9629fbe129fa34eadc23a978a0e6427878dee03"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097ed712_10c503fc15cc34d3c699e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/ef2bc918e9b94155a8c34fcb8e08303af64c7b2e.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/3aacf8e6031b5df3f1496af495caf74c5ca9d96b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e9629fbe129fa34eadc23a978a0e6427878dee03">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url_code", "49cea819b4998467ea5a7531982443605eb7d1c6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "97871bc6f3a12bfdfb91cd8790ce9dbf6a823e68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:32:55 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", true], ["link_id", 33], ["url_code", "63d3849da3a77f01278c8993f8635fbb88ac2e24"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:32:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52097f27c4_10c503fc15cc34d3c700bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/49cea819b4998467ea5a7531982443605eb7d1c6.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/97871bc6f3a12bfdfb91cd8790ce9dbf6a823e68">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/63d3849da3a77f01278c8993f8635fbb88ac2e24">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.2ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "9b66894ca8fd8bfb63eaf4a4d43c31494bd53bee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "90e4a39c1ea99b157865c2c07e32f999e9fb3995"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "e7ce7253b3b4fc664f8c94eb3e7661b10d736c76"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:32:56.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "49dd016ac91f5f63b137a95db9f8a23c1344f24a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "c534c9812274581776dbc48b06d0f2215b562d76"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "d81ecdd485887385e7f9d456fa8ee31d9b213284"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:32:56.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "a561140b7c117958ba16d90d680064c4ea87b7fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:32:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:32:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:32:56 UTC +00:00], ["url_code", "3f19c7572a05522bb18c2e303fa58956cf0ee3a2"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/3f19c7572a05522bb18c2e303fa58956cf0ee3a2" for 127.0.0.1 at 2012-06-10 23:32:56 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"3f19c7572a05522bb18c2e303fa58956cf0ee3a2"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = '3f19c7572a05522bb18c2e303fa58956cf0ee3a2' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:32:56.000000', "updated_at" = '2012-06-10 22:32:56.121521' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (3.0ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 33]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 32], ["is_externally_viewable", false], ["link_id", 32], ["url_code", "09f4ced258298f6130e1346457f1a747a9c305e5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/09f4ced258298f6130e1346457f1a747a9c305e5" for 127.0.0.1 at 2012-06-10 23:32:56 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"09f4ced258298f6130e1346457f1a747a9c305e5"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '09f4ced258298f6130e1346457f1a747a9c305e5' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:32:56.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "8cd0939232c4a4167817d08c3ca399b2c439ce9f"], ["user_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "17ed87dcfdf392f9dd90888f39253236fed3e4d6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "b79354dac07b804a5085baba7ac27d5375d6b986"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "e0127efa3b1e0f2cd1c1271586360c812fdc64ea"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:33:22.000000', "updated_at" = '2012-06-10 22:33:22.451819' WHERE "email_tracker_email_instances"."id" = 36[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (5.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "195c26f405d92580e7d7ec834e7c6f3d21e5c427"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "00dedf16f88c243e4673f410a82b34742998d8cc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "85f9471c29118de73a3e7555f1dd3cb5d25b8c96"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:33:22.000000', "updated_at" = '2012-06-10 22:33:22.474809' WHERE "email_tracker_email_instances"."id" = 35
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "90d03925aa9fa798c5f4454b859ccfd4c324925d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:33:22.000000', "updated_at" = '2012-06-10 22:33:22.478473' WHERE "email_tracker_email_instances"."id" = 34
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "6d422686940102f42061ce0cdfd5d8f5b414e88b"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 34 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (38ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b2871f1_10c513fc9b5434d38394c0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b289fc3_10c513fc9b5434d383951@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "0cf5423bc52465abeeec622496ddb9188e97c6e4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ca1c32e34c84dc407ae2c7f3a20418fffa329c56"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", true], ["link_id", 34], ["url_code", "aff73cc6c90ca34e56fff5933d62b0dd7b82a75c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b2915b8_10c513fc9b5434d38396f6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0cf5423bc52465abeeec622496ddb9188e97c6e4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ca1c32e34c84dc407ae2c7f3a20418fffa329c56">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/aff73cc6c90ca34e56fff5933d62b0dd7b82a75c">An external link</a>
    </body>
</html>
  [1m[36m (10.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "3f344f4874cf1b7173a824d8ca079494073e7ee3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "3c4b1d827039ec5f104037eabc0f015cd94e943d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", true], ["link_id", 34], ["url_code", "b47ccaaddaac52f77e738ec60e3d5107335d2a92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b2995e6_10c513fc9b5434d38397a3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/3f344f4874cf1b7173a824d8ca079494073e7ee3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/3c4b1d827039ec5f104037eabc0f015cd94e943d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/b47ccaaddaac52f77e738ec60e3d5107335d2a92">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)
  [1m[36mEmailTracker::Email Load (0.5ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "7b4e6b0a48194fca7b06e6388393fe6d5e944955"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "011ac398462ae3d22f405e50a0da61bc66fbc01f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", true], ["link_id", 34], ["url_code", "cd67464b6739baa6b302a5b5b70bee1b513b41ed"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b29fed3_10c513fc9b5434d383989b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7b4e6b0a48194fca7b06e6388393fe6d5e944955.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/011ac398462ae3d22f405e50a0da61bc66fbc01f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/cd67464b6739baa6b302a5b5b70bee1b513b41ed">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "034c4de65bff47da8c49fc2b1edea0e616037cf0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "47749885ad6e2ec689210e3ea83a37537f6b9244"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", true], ["link_id", 34], ["url_code", "176286cbb6c6b94745c64c76c531c2fe2555b832"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b2a40bf_10c513fc9b5434d3839911@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/034c4de65bff47da8c49fc2b1edea0e616037cf0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/47749885ad6e2ec689210e3ea83a37537f6b9244">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/176286cbb6c6b94745c64c76c531c2fe2555b832">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "850577c68b81573fbe430fd9f9f896f03e019745"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1f83c112471e3bc19f95a487e87f79ac266426e5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", true], ["link_id", 34], ["url_code", "430f86b050d2e9eeb5b8f356fef42f3145c8b7ef"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:33:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520b2a9052_10c513fc9b5434d3840071@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/850577c68b81573fbe430fd9f9f896f03e019745.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1f83c112471e3bc19f95a487e87f79ac266426e5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/430f86b050d2e9eeb5b8f356fef42f3145c8b7ef">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "99c613ec9e3fd668cb2e700d7d6356e23537b0b9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "57eda7cc97b7f8711f2f3f1aa215b9d31d9ed3d7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "a63bdd6e5d248c2e0433667cdc4978078dc3518c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:33:22.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "b80f5f2b7a345f812026a4b70252e8760b604241"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "9629cf8edf492d6e5683a2e856f56594d21dcec4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "35a901c8c5fae84c737286a70a904e86e280f127"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:33:22.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "164150d5cf1bc51fede4f38a2c1346120a2d7381"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:33:22.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:33:22 UTC +00:00], ["url_code", "dafc9f09159048871b80b0a733ee57769e9ba1b4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/dafc9f09159048871b80b0a733ee57769e9ba1b4" for 127.0.0.1 at 2012-06-10 23:33:22 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"dafc9f09159048871b80b0a733ee57769e9ba1b4"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'dafc9f09159048871b80b0a733ee57769e9ba1b4' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:33:22.000000', "updated_at" = '2012-06-10 22:33:22.765991' WHERE "email_tracker_email_instances"."id" = 34[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 34]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 33], ["is_externally_viewable", false], ["link_id", 33], ["url_code", "34c937a26b49f649a1bc37c0ab4a096b93f86659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/34c937a26b49f649a1bc37c0ab4a096b93f86659" for 127.0.0.1 at 2012-06-10 23:33:22 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"34c937a26b49f649a1bc37c0ab4a096b93f86659"}
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '34c937a26b49f649a1bc37c0ab4a096b93f86659' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:33:22.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 40ms
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00]]
  [1m[36m (95.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00], ["url_code", "0bf6a0726ed6f9e1b29730914e2b13e128bfe92b"], ["user_id", nil]]
  [1m[35m (229.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (165.9ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:05 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "4d0398193561215f68a6efa0db0ae1912b5b2d82"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "674db8966e16820baebc3d064e39349934cbe6c3"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "65d67cafa9691db29d5dc50d7ccc53ed6103cffd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:34:06.000000', "updated_at" = '2012-06-10 22:34:06.214079' WHERE "email_tracker_email_instances"."id" = 37[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "a9f63cd3eb8fc65ac38d2ea79ef6b6b80e9c1d5a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "231b019912c9d3dba70e112434b4a3ea37170464"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "e5e69825062516b9098d2a9e3c45ad518bd102ad"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:34:06.000000', "updated_at" = '2012-06-10 22:34:06.229258' WHERE "email_tracker_email_instances"."id" = 36
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "721b0314b5bb5b9b4255c9a1ed640ffbf266014c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:34:06.000000', "updated_at" = '2012-06-10 22:34:06.233840' WHERE "email_tracker_email_instances"."id" = 35
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "026696e4d9a7b65a4a4ea7f30abe49da50745eab"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 35 LIMIT 1
  [1m[36m (11.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (43ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520de56031_10c523fd810834d341241f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)

Sent mail to jez.walker@gmail.com (6ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520de5a25b_10c523fd810834d3412585@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (12.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (17.8ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "c46d99373ac28d65ec4cef09add6476fb5d538e6"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (75.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "7f468097807d90fed1d1f910cb114fcc1272d943"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (10.8ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", true], ["link_id", 35], ["url_code", "d20767bccd12dd34506a4743a8331376a4c6a9c4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520de81ac4_10c523fd810834d34126b8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c46d99373ac28d65ec4cef09add6476fb5d538e6.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/7f468097807d90fed1d1f910cb114fcc1272d943">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d20767bccd12dd34506a4743a8331376a4c6a9c4">An external link</a>
    </body>
</html>
  [1m[36m (14.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (8.5ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (10.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "303c47499bbde455e3e86f75f106a52ca042d450"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (13.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cc0ce78b835f1de1a4cd32bfc7da92b190a48360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", true], ["link_id", 35], ["url_code", "d6730c8e92fbb71c001aff40837f16f9ed1d589c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520de95ae6_10c523fd810834d3412751@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/303c47499bbde455e3e86f75f106a52ca042d450.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cc0ce78b835f1de1a4cd32bfc7da92b190a48360">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d6730c8e92fbb71c001aff40837f16f9ed1d589c">An external link</a>
    </body>
</html>
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (4.6ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "5ef0655e79990da2d042273c7263218a108a9a02"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "6405a474358042e5893a140e71e5537cef7ad3c2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", true], ["link_id", 35], ["url_code", "43f82e04d1de244f833f62595acdbb5aa0c0f92e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520de9e4c2_10c523fd810834d34128fc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5ef0655e79990da2d042273c7263218a108a9a02.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/6405a474358042e5893a140e71e5537cef7ad3c2">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/43f82e04d1de244f833f62595acdbb5aa0c0f92e">An external link</a>
    </body>
</html>
  [1m[36m (12.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "58f3ac737f5de4fa4a9245b8b1ac6e43ba9f01cd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "bb25d17665a5da83fedde43b84d510edb2085bfd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", true], ["link_id", 35], ["url_code", "eae786cad3b4a329548616508c9d84c42d760877"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520dea75e3_10c523fd810834d3412956@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/58f3ac737f5de4fa4a9245b8b1ac6e43ba9f01cd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/bb25d17665a5da83fedde43b84d510edb2085bfd">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/eae786cad3b4a329548616508c9d84c42d760877">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "9f26a92f65da166999602847758985097a56786d"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "46389fce417b8b6f4b22c88a70311d8ec744db4a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", true], ["link_id", 35], ["url_code", "83d8ba1c3c50f8cd0a32a1003092b865ecb1cbc8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:34:06 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd520dead403_10c523fd810834d3413024@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/9f26a92f65da166999602847758985097a56786d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/46389fce417b8b6f4b22c88a70311d8ec744db4a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/83d8ba1c3c50f8cd0a32a1003092b865ecb1cbc8">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "e9711d54d91cc1892ef43fa34f630ba7cc91ad2d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "60949c77aa57b1564f919d9e648f4cbeadcb1992"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "64c523b3efe97b6cee7491f0beff7d81aeda6bc9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:34:06.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (15.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "eb9b6d873f94742267e2906d2cfb1f1d960df379"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "3e28e74c3f5bd24dd33caaab9ea46c6b75480e96"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "d858c178d59c71e76ee0bb88da82809a64336d53"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:34:06.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "df91edbb36655863fee764d622d28afad90df659"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:34:06.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:34:06 UTC +00:00], ["url_code", "ca45b3e13613fdcc245029ff1f361b759cd9ad60"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/ca45b3e13613fdcc245029ff1f361b759cd9ad60" for 127.0.0.1 at 2012-06-10 23:34:06 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"ca45b3e13613fdcc245029ff1f361b759cd9ad60"}
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'ca45b3e13613fdcc245029ff1f361b759cd9ad60' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:34:06.000000', "updated_at" = '2012-06-10 22:34:06.909187' WHERE "email_tracker_email_instances"."id" = 35[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (2.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36mEmailTracker::EmailInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 34], ["is_externally_viewable", false], ["link_id", 34], ["url_code", "6564730831e8279cb5fdb1e70b691ad93387d22d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/6564730831e8279cb5fdb1e70b691ad93387d22d" for 127.0.0.1 at 2012-06-10 23:34:06 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"6564730831e8279cb5fdb1e70b691ad93387d22d"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '6564730831e8279cb5fdb1e70b691ad93387d22d' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:34:06.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."id" = 34 LIMIT 1[0m
Redirected to http://www.example.com/foobar
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/foobar" for 127.0.0.1 at 2012-06-10 23:34:06 +0100
  [1m[35m (10.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (107.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (13.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00], ["url_code", "27b5f87fd67ded427adb223a423efa7649e96217"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (20.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "4989687d1c03def5b07b030e5c3c09c276e5af0e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "79143e014b76fba727c2c318bd9174fb1ee5a070"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "0892cd397d65b9dac560070afba769d419c40b2e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:36:23.000000', "updated_at" = '2012-06-10 22:36:23.474142' WHERE "email_tracker_email_instances"."id" = 38[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.2ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "0d2d2332e49a4cf0d309fc2940f0e0853ba56756"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "87e0322148708bf273dc7824721f926f744362de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "0140040afe9213ad63921abb75f66df429a85b0b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:36:23.000000', "updated_at" = '2012-06-10 22:36:23.505831' WHERE "email_tracker_email_instances"."id" = 37
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "004c383a44568b194b7f5802a37b0421ccfa7304"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:36:23.000000', "updated_at" = '2012-06-10 22:36:23.510075' WHERE "email_tracker_email_instances"."id" = 36
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "14cc797aea4abb5f46e399c03c774c62f917e3e2"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 36 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (67ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167a1dac_10c683fe591834d3c87864@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167a50a5_10c683fe591834d3c879ec@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.4ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "cbc43401a20180df0c41386f669414c97acf835d"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (12.9ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "12cdf4ff2604b8a3484bca67ad75bb30ac2a6053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", true], ["link_id", 36], ["url_code", "f4a64b8f0462764bdd21e5970b55854f04e53cec"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167b569e_10c683fe591834d3c880f7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/cbc43401a20180df0c41386f669414c97acf835d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/12cdf4ff2604b8a3484bca67ad75bb30ac2a6053">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/f4a64b8f0462764bdd21e5970b55854f04e53cec">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "38a7db838443ac2b02301a19430f6ca4b138bc1a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2576b314b7e234d906f0721e8c7579e38b004db8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", true], ["link_id", 36], ["url_code", "577231015b9e61bc87fc884f7b95450cb234d253"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167ba500_10c683fe591834d3c8811d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/38a7db838443ac2b02301a19430f6ca4b138bc1a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2576b314b7e234d906f0721e8c7579e38b004db8">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/577231015b9e61bc87fc884f7b95450cb234d253">An external link</a>
    </body>
</html>
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "62896603a44d061053df89834915e97a51aad66b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "11c1927ca3366762dd90de53e7870d26000b4638"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", true], ["link_id", 36], ["url_code", "db1b4cdbeb2843426171b01d0fbdbd5290fb2cf5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167bfefb_10c683fe591834d3c88255@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/62896603a44d061053df89834915e97a51aad66b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/11c1927ca3366762dd90de53e7870d26000b4638">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/db1b4cdbeb2843426171b01d0fbdbd5290fb2cf5">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "7819d2c0990216a56d4b98681a1284c1c025a1cd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0ec00b9ea85adf43c3d1c2bfbeb9ddca2a16bfb7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", true], ["link_id", 36], ["url_code", "9c584499eaf52251c7f048c957df5c0c209c5df3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167c47fb_10c683fe591834d3c88331@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7819d2c0990216a56d4b98681a1284c1c025a1cd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0ec00b9ea85adf43c3d1c2bfbeb9ddca2a16bfb7">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9c584499eaf52251c7f048c957df5c0c209c5df3">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 36], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "49e94c66d29b43d2e608288ddddf97fa628d2d77"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "dbca5cef2669f3ad9b81cf128ad96753676004ef"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.2ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 36], ["is_externally_viewable", true], ["link_id", 36], ["url_code", "e6475d9486775e1db87f89759f052593d8b1514c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:36:23 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd52167ca5d8_10c683fe591834d3c8843@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/49e94c66d29b43d2e608288ddddf97fa628d2d77.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/dbca5cef2669f3ad9b81cf128ad96753676004ef">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e6475d9486775e1db87f89759f052593d8b1514c">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "491f181f7e2c275e01fb2a00a823e5f8ab1ed3a2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "b18e30912b0501397bd086c1a431b96127b6eec2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "1ed1923375e97548daf4cdf4d88c7acef857b600"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:36:23.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "b19e71c2f6601b42145957e2c328f9a87c4cf93a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "b430c7747425b96220c33ad8d1f345177ce0726a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "24e0564ca78d513aa5a434ab77be145e2c373efd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:36:23.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "6abecf1165a232d063374aab1345199d3bce5ead"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:36:23.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:36:23 UTC +00:00], ["url_code", "c9cd79ab445ab83ddf792a962edbe0c7594e5059"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_open/c9cd79ab445ab83ddf792a962edbe0c7594e5059" for 127.0.0.1 at 2012-06-10 23:36:24 +0100
Processing by EmailTracker::EmailInstancesController#opened as HTML
  Parameters: {"url_code"=>"c9cd79ab445ab83ddf792a962edbe0c7594e5059"}
  [1m[36mEmailTracker::EmailInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."url_code" = 'c9cd79ab445ab83ddf792a962edbe0c7594e5059' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:36:24.000000', "updated_at" = '2012-06-10 22:36:24.086639' WHERE "email_tracker_email_instances"."id" = 36[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Sent data  (19.3ms)
Completed 200 OK in 42ms (Views: 19.1ms | ActiveRecord: 0.7ms)
  [1m[36mEmailTracker::EmailInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."id" = ? LIMIT 1[0m  [["id", 36]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 35], ["is_externally_viewable", false], ["link_id", 35], ["url_code", "15f932e23ec6e6fd9fde005ed4c755e4509d7651"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/et_click/15f932e23ec6e6fd9fde005ed4c755e4509d7651" for 127.0.0.1 at 2012-06-10 23:36:24 +0100
Processing by EmailTracker::LinkInstancesController#clicked as HTML
  Parameters: {"url_code"=>"15f932e23ec6e6fd9fde005ed4c755e4509d7651"}
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."url_code" = '15f932e23ec6e6fd9fde005ed4c755e4509d7651' ORDER BY id DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:36:24.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."id" = 35 LIMIT 1[0m
Redirected to http://www.example.com/foobar
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/foobar" for 127.0.0.1 at 2012-06-10 23:36:24 +0100
Processing by TestController#test as HTML
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
