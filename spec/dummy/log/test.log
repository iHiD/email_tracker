Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "string" varchar(255), "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.8ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')[0m
  [1m[35m (2.8ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')[0m
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (22.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (43.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:30:37 UTC +00:00], ["mailer", nil], ["name", nil], ["owner_id", nil], ["owner_type", nil], ["string", nil], ["updated_at", Sun, 10 Jun 2012 20:30:37 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:34:57 UTC +00:00], ["mailer", nil], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["string", nil], ["updated_at", Sun, 10 Jun 2012 20:34:57 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "mailer", "name", "owner_id", "owner_type", "string", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')[0m
  [1m[35m (15.8ms)[0m  commit transaction
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')[0m
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')[0m
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", nil], ["created_at", Sun, 10 Jun 2012 20:37:43 UTC +00:00], ["description", ""], ["mailer", nil], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:37:43 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:38:22 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:39:01 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:39:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:39:09 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:39:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:40:42 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:40:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:41:01 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:41:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:41:44 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:41:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:42:39 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::Email"], ["updated_at", Sun, 10 Jun 2012 20:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:45:39 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:45:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:46:59 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1002], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:46:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (29.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:53:52 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:53:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:25 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:44 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:54:58 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:54:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:55:09 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:55:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:55:19 UTC +00:00], ["description", ""], ["mailer", ""], ["name", nil], ["owner_id", 1001], ["owner_type", "EmailTracker::TitleModel"], ["updated_at", Sun, 10 Jun 2012 20:55:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:56:22 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "EmailTracker::Link"], ["updated_at", Sun, 10 Jun 2012 20:56:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_email_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_emails")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_link_instances")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_links")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("subscriptions")[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 20:59:36 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 20:59:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", ""], ["created_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00], ["description", ""], ["mailer", ""], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:00:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My_mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00], ["description", ""], ["mailer", "MyMailer"], ["name", "Mymailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:01:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:02:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:02:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:03:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:13:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.9ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (26.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (26.8ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:14:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:15:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:16:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (26.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:17:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:19:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:20:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:40 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:21:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["email_address", nil], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:22:22.000000', "updated_at" = '2012-06-10 21:22:22.889587' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:22:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:23:25.000000', "updated_at" = '2012-06-10 21:23:25.791084' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (17.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:23:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:24:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "1a441d53bcc0b31682e06fef1f0fc922175d02d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "1928a2c58a3581eaf4d17446f61e6f910935c4b1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "b87985e42e31fe56f4c9fb03b28f1b8826f58780"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:25:41.000000', "updated_at" = '2012-06-10 21:25:41.073522' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (14.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["url_code", "8348f49a4bd2095bc83f9d4864b158b60ca5038c"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "62952b4894622b4fda86e948453d1d418f6601d1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "51f01da9165d96725f80bb8dabac03b160653bdb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "e185dd55f3ff11c9a60884d09f54dfdc4df2c2af"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:25:55.000000', "updated_at" = '2012-06-10 21:25:55.278645' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (14.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["url_code", "41255a3c9a59b6e2eba58dc76362b40acf74b482"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:25:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:26:24 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "2e9f996fc070387e81870b9e09610f361ef8c280"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "81cfa3ac3d1899807430242b8f5bb6c76dcd501d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "22e81953358d40d78137c895a928ba0a613982f9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:26:25.000000', "updated_at" = '2012-06-10 21:26:25.044400' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (9.7ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "c25ae6a1fc3f62c0730617259ca296849e6416df"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "4f559b617f25210bea51b8a6d13a285043a306e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["url_code", "45487aa04d6abb15d055e107ede1c2a5a3478c8e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:26:25.000000', "updated_at" = '2012-06-10 21:26:25.068120' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:26:25 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "79ab0a90da24808acf20e16ff129163c2941ab9b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "50cfa19c189aa479058159dd240e7c2fb452541b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "408156cd8c2cbba530c2e4b99a16103ef2770594"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:08.000000', "updated_at" = '2012-06-10 21:27:08.849756' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (17.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "5b7366e4f65fcdf567981be4dd3424b0dfe5fde6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "f1a75a52ffa7e5dfdad0a9d5768d1c15e663ddbc"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["url_code", "29db5e0c52ad90cf276518289dacefe489f9eb92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:08.000000', "updated_at" = '2012-06-10 21:27:08.901518' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "d5163fc8774a556c0c37bc4fd3ed86839285c6d0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "7dab33d5c378b83d7e402f98c9d21ea553dc5e92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "d755e5be9c56a55b0a5919a88f0500f36349c8d6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:38.000000', "updated_at" = '2012-06-10 21:27:38.808749' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "b816f1a3ee1e7e4fd15fa8d91ab4aaf1a3b6e9ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "30f28247dcc633d40f2920aba1d67e4f0895c74d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "377da3193f0d61b3b451d9a4533a5c0a212dd4f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:27:38.000000', "updated_at" = '2012-06-10 21:27:38.821444' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["url_code", "b4f123d498888afc4f81f8ef562fc2c53ed4d9d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:27:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "1791dec11ab04ee3ac62e5e6cf9c451045a5fe19"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "a8ab4b80a31194805373818fee2bd73798d64218"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "ada72f19d5e8677de06f2c8a6a30907ee6441adf"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.302445' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "e9453d781e8167882f28af0af9d7bcdf87abaee4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "969dd9c6365d2fcc27339177dcd5463590b26855"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "0b8df3a6014370974bbb5f82748f006a846d762c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.315271' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["url_code", "ca70b1cb57c52624e05f0886aeced1ad1b5c6316"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:28:14.000000', "updated_at" = '2012-06-10 21:28:14.319135' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:28:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "3300efaf29a1074e0af8323520399867b1ddc6b9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "8ad986a66c38747de8bad26d1e7953f6422a2427"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "a0a347faca890f58cce0f398bb7d2d0b6930e698"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.370961' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "8f14912b982d8c4c5d379c54761f0b1b497bb591"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "905d48afb7f82ae420d3bb1cba99bff9c334d805"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "b32332a9131fecaa6664627ea13d8d35d065471c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.394444' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["url_code", "87a67c3682d4809a9e3579c9f97b30f7dd4d5119"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:22.000000', "updated_at" = '2012-06-10 21:30:22.398392' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "11f58ce966a9e3f1ccdb8d1a8fddf6b139686c0c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "a4d821cc12fa47357fa0e78f01d2e20d756709c6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "5440c9d086b52739b2b02e0afa1dcaf20b44f9be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.856725' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "a8b3f1cca47c7d21d61ad510338a888d497cbec6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "de4ab357aaa9820814ca74240947110188e6ee09"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "f20432f8b6a15c51104452ece59207c03bdacafd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.885990' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["url_code", "0b17fcd86dcdc4d890acf703788bdaab1bc7d804"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:30.000000', "updated_at" = '2012-06-10 21:30:30.890029' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "9e5de45be911c66d0e99eab82e75709eb1be0ffc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "6d1184c2f0deac2368356130ec32c001f7699e68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "72723eb85443d968e1dd9b84a60569e6d9d39d5d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.671624' WHERE "email_tracker_email_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "11fcf5e609fc3000635bef96b7e34ab3ef0edea1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "12c4473fa009b6235be042172936b64cb6417847"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "9c3dc481f0027cacbc71e4f8a546d9d849b4795a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.692457' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["url_code", "d6571a273b4ea1fddf0dea7e66c7bea185f7be29"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:30:37.000000', "updated_at" = '2012-06-10 21:30:37.696639' WHERE "email_tracker_email_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:30:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:36 UTC +00:00], ["url", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:41 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:41 UTC +00:00], ["url", nil]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (29.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url", "/foobar"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "688c7310e2c550b96a249101b7c34f138f273c96"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "8b79a1c43bf741740d966d2bd5609830a8b3f210"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "2fdc5a01e4c94a476629c40d46b3ca03819fc70d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.898091' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "1b4293edecb8d09fa62b09db48fe0eae4abfbe55"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "b07b9f1bf8ff2b18317b6a2759f1d305d493561d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "55b4626a32064e43021cad25171ac1421be60a9a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.913440' WHERE "email_tracker_email_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["url_code", "ed95f78d95f144354282c774a9bdfaad1e865ae5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:32:54.000000', "updated_at" = '2012-06-10 21:32:54.917502' WHERE "email_tracker_email_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:32:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (21.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url", "/foobar"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "cc4d38bfc05259ec086d58bc5e7563c2275aba47"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "f1f218b7bec436cb84d0d4f0f50ff9211361e510"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "404a392d075e6de7d8a79eecad98f5f339f69ab9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.933379' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)
  [1m[36m (10.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "9e33f88a48e073d7fdbb14d81a2376cc9dfe50de"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "95e6137f189b2c71f8484927d24279939ea5ed37"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "7f50c7c9f3819999e135d5d38063ae95ddba11fe"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.958226' WHERE "email_tracker_email_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["url_code", "aaf72a63dcbad043548e0159ba4b5e13e5f899f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:33:50.000000', "updated_at" = '2012-06-10 21:33:50.961968' WHERE "email_tracker_email_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:33:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "81811db29359559701f9e82ca4d0cf19013af412"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "d34906af97d31253c7c3d184421bd32f3182f9cc"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "0aa36cbf4c3b7a269048d21c92a3dbfb90bb84ce"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", nil], ["link_id", 1], ["url_code", "ed9c1968e01cc8c56f273366f0f1bd55a2a71e09"]]
SQLite3::ConstraintException: constraint failed: INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "18c8ce627e21fdf5c0ee09fd04633001b3ac514a"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "5eb92b1f0962a6b552e3b9ba095350712801653e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "278d66c28ddf75a4cd4b9436fa1dcc6ca53cc51c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "f855f9cf723cbcb713c1782a432570941ba074f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.737108' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "87a44aabf4c319d2b5b8595d714ad1b47198945b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "9c10c0d2d246f9b632b45dd607b5ac7937d75e7f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "d1bf8680b74cf419d7d6d3fe888ed832a562213e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.749628' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["url_code", "92c1efd13b95a2afd164a449319707dc745dcfb6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:34:30.000000', "updated_at" = '2012-06-10 21:34:30.753611' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:34:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "bf15cc78220520bebffaad8e72cca2ba69619d9f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "4de5ca708ae2f9e515b7a62b5e60b236284cd678"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "d91b42279b2bf9a3c226adf12388f8a8437f78d1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:34:30.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "59960dca889498a8a239b7b00bacb25171b24e76"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "6c6df6c5ae6f05e6ec7d99d1a758a9f8f8dcbc8b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "a49a77026480de78217b81f12543a1a5997776d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:34:30.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 2], ["url_code", "6ee3d98033b6f48a54ff58f7cfd0186ebc6ae5e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (26.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "2d9caed93bf34c26f7b30685f3379650350a3d2e"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "22109cfa0f076dd31cc48caa2f412739c5801604"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "c25af9274e0cf5b31430caf7667df06fc9602979"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "c6a81d39d57fb50c97485e75c9958e928ceaaaa4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.502218' WHERE "email_tracker_email_instances"."id" = 5[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "3fc5bb943438c762ca5b6f0d2620b878237b2304"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "8149d3bc95d11720596eedcdca4f19a0ac6d72af"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "69e6b60ee862964b7f338d17c1c0947cb175e6f6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.514801' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["url_code", "2d5c533787b6e0107293fedc1e20f20f346cede0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:35:00.000000', "updated_at" = '2012-06-10 21:35:00.518508' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:35:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "0688970683a8dd062a4b0ab6e2a49648e21d3b64"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "6908e555b9775c36b461ddcfef69346dfef57666"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "f7373345b2e574c2ee3f0ebc36d96ade66f29426"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "59dc865d92b47a8036daebb15ffaba3022f660f3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "6619053acd36e3c25e4721bd9745ab3436ef8cd3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "496aff07967391ea04c82d3c3e21cbee743cb394"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 3], ["url_code", "96632e11812c850c72b82a5a7bc28e8007f15398"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:35:00.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (86.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "8f6de39695512e17fb4c1dd8031ee430433892dd"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "9810557aba753f84a735cf6853d703af347a7f4d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "060cbe505c77443086446d30b67ae03698e192ba"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "5aa34d09c12e8525f51e5c23018b3efa34110d9d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.465402' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "3c12477ec709c24302b6ee17401917c937646ef7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "b0e56e9cc06cbff9d523887313ddec974aecbb9d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "6d5cc47f00d3438a1baf1b66a4c8ad75e04925e0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.479248' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["url_code", "79b0811ac8ad3d0f3f7c77474037ea0346585a34"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:26.000000', "updated_at" = '2012-06-10 21:36:26.483080' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "bdb9e5676d05d79b689a56afac82f246de5fd686"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "c0f4aec971e545b0e512f5d8d742c8a806395b28"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "641c15f2adb8666980d99099e5915f47aa3bbe96"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "b94f18d6534a21317882e9cade16903156c5d09b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "c74eacd23bb6ac662bed668ea81856b0fdd32625"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "82738f35219333adc86195dcdaece6c51ada0550"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 4], ["url_code", "37c3b4e69e24fa56797317dfd42bae71cae38a7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:26.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "f1aae0e429f2161fd0e01c8c5b4224a5600eb09f"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "ede5ce515c044c0c728505311473a07e0b0234ce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "2977565e4c1425329b3b1caea15c9cec6282212e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "36eef2751efa9e587a2051363f539977404bbc96"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.330679' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "59e4f07495d8159d57db19f1f976bf25190b2145"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "64961ebeac194e5bdd27fe014c7024237c196587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "51f512078528a2406f4824ce738894954b859169"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.368789' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["url_code", "8d04ec89fa4af353dd8f254a9a85856a5207f9bf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:36:45.000000', "updated_at" = '2012-06-10 21:36:45.372721' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:36:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "9d8ab62387805a79dbbd464d6ca16b865a63c75b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "3e3d05f09257e3aff8bf6d5db488bc500f9c7492"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "24e83c21168e869a58e266d16798c4f4e05b7adf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "bafc2183b8e23f9c55a39d2e57a96477f0dec236"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "1654065619d2dd123aa0e45abd827d8f9338e8db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "e8f7dc06495cd54981c018e959a625d5bfc0c857"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 5], ["url_code", "d536153737d5a65fc0b043c3821d05db4296ff85"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:36:45.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["url_code", "a8c2b09db0a62b76544bb51a672efce3e47b75f8"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "a90fa79ecee7e1938f02e5f0f119d00d8fc7151a"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "3d723efb52a15b83390f401bdb0e97164ba5cfe5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "ddfa292fca00963c579ef30b0e41a8ab08c1e751"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "aa80e90f2bf8dadecc00559f9f6554649a625d6b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.629336' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (24.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "d0c740efa0c0cc54c9a583de1b3287e2a9a39b24"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "a9ea6ebe9a47e6e7ed6f7fce43e9ebf00ecda021"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "7c0e44c2e8148e2f93894d81ad34ebb8c22bee8d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.694135' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["url_code", "ee20e84108fb94132d02de1cdb6f255120a352a0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:17.000000', "updated_at" = '2012-06-10 21:38:17.697905' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (43ms)
Date: Sun, 10 Jun 2012 22:38:17 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513c9b8463_10b8b3fee2dc34d344268a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "f4c7e4d85cdb1d04e035a8c7db9cab770c81a59f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "687f0d18000746a4aeeb3fbd4280bc9765d518fa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "04dc1c9ca0c0e98a95b6ab161139bd1cc02f4ba5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "93ae7f821f9f2580c359fd16eb3bc5301fcd2498"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "643b52b599b56911d5699ee28d317c1679457e30"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "230b7d5ae01c22f4d4c8a236797cc3ffa72e1bb8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 7], ["url_code", "c491a734f1778ef9441aa00997f61d62bc750474"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:17.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "885a1550c572281f2621552f513d3b29b62151f2"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "690e094b933264b1cc4ac947c70eee07ab7c6c2a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "e558f492541e611a18ffe3e0717af9599a472ab8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "ce24d41df1842bf88cce37675c3a7d2d232f6847"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.409773' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "f5ebdfd9a3a0665fd37ea8dc999aae5d6873cce0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "263cca17a05bd4e1c529945282da6a73a9e714dd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "d985ca83c219ddbe91b98a46f3c440d37c0f1904"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.453894' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["url_code", "e84cb3de75d68b5fe5bfdebbd7f16df846c5fe56"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:22.000000', "updated_at" = '2012-06-10 21:38:22.457762' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (15ms)
Date: Sun, 10 Jun 2012 22:38:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513ce78077_10b8c3fc82d034d3437882@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "ea7980e1969b282f03a08d89456f713efefc44f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "a6c1e9ee929040f968d4ae13650416c148ef9824"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "4ab4e50d1bff1be2d9639470cb9da2902a1815ea"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "cab83484ae8626ddab2f0b09211b8236a6b149bf"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "5419c4317ac304c0348a688ca10c486b35ea6bd8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "86de99ef7aedc875a4ffd557cd3ad8f61ae4a8e1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 8], ["url_code", "2875bbbfdcde4dbaf2087038d653b9999d585de0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:22.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "ed91096ddb54c06666f51cea62ee753077443a33"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "4a6d45b400a0a7a46006ed6249f029e3bbdf8309"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "43afb9fd5158954e6dd187650c0b627bf672439e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "68cfe7f6fa01a7c3f8923a438c643918d48815ee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.905546' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "9b3141286cb12a8e7c85a8e31083a9ff8d2819db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "3c66855087b99d1d3318b3f9076f1e1d5a9c1395"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "474ca7c6df896463932d1913ca83b35972e28c73"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.943252' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["url_code", "70835caac14f060440804df74b49705cfa28e68f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:26.000000', "updated_at" = '2012-06-10 21:38:26.947131' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:38:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513d2eeab7_10b8d3fdf1dc34d447247@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "042fbd03faf3305436695dd661155d1b8944b40b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "6a322a9bcc57c4ac8bf2c57e6846ba1bb6d57f94"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "fd883f2ae98627b6f70ddcb88b98489ba91f02ad"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (187.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "b13430c468bb08325c2ed39754e28818b19e4ae0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "f1f9b0cdb60d52bcd60743075806736270e43fb1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "5faa51c9913437a6ccbb24b57524165891a8eb7f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:27.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 9], ["url_code", "d4cfb786dfd68d1834fcd5b9b1082e942914b047"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:27.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "287d4420a306fe482c72dc1d404674a84aca06f4"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "d128d854a7c0fdc7806b1004b622c522134af326"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "921dbee8c0418850dcd1b3c6809f11d4436fc071"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "9b19a07cf7d771701a36bf72d155db0f171214c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.275107' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "7add9fb9b97e04c89bebe1b44391ba2fdf18f088"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "78ba30e8678fbbafc36e8e77dc88a6e5d2107738"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "60cd53a89d3013c88b5ce5d0bbe1718fb1491b20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.310099' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["url_code", "2bdcb9442a6cf069e6fa1c3b779e6b7a30207703"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:38:49.000000', "updated_at" = '2012-06-10 21:38:49.313816' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:38:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:38:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513e954100_10b8f3fcbea034d3c3961b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:38:49 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd513e95687b_10b8f3fcbea034d3c397da@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "1681ad1f6b5592dfce1af383842a5cdd36b03ec0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "48a0b6f36c35302c675abf25e7cce55fb8605193"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "496264335d115688b619410c9741251655923619"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "660a1da466a5ae5fff4991466aa7a4292615b098"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "d7e8866373f8cc878a4252eed9e152fa330e60de"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "72d4c551a9d7fa422547c86455b32e91de9dc2e2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 10], ["url_code", "916360a2280b964161f5dcb949734f4474facca8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:38:49.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "741f9729cff0db6baea1baea6dfcad281acd065a"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "77b6cc0e76f834cade31f9e03f7d649bd03601c8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "83e434c1a9ca412ac08b27bd30e5d5ef94636281"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "29a41d3eb8bb8de0ff8e02675a5e2c0b792f5209"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.298064' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (24.7ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "c54695fb8f4db1188221e86116eeb3da17bd0072"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "fefc0225984cab395f9fec38f8a5190b6b0a92c7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "3d4f01a5d1e2f53035f12d1e1b1789f1ba27a5e2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.362556' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["url_code", "96a31f44dc1e266f6eec665f58cbaeef62483354"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:04.000000', "updated_at" = '2012-06-10 21:41:04.366379' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:41:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514706085f_10b923fbffcc34d3483756@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147062d3d_10b923fbffcc34d3483826@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5bf7f34ce5c25d07bdefb7b9725627045733e041"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5beffcb3231dc5502fef588c6826af20b7dbd3e7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "9cbd77b2771a5877523c951e6034e2d7414cd0e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "5f629954ee24c03db0d4ac60669b8aad4686d2c0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "4703f6e556c773dd55e6335c5d6aaef9309500b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "912892e01ae439dd448a5aa8f6e7fe01a667e5df"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 11], ["url_code", "d8ff62855cd595fde64bd10a636e8a9aa40e47f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:04.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "f60ea121e5d0db550ee019bd819b62a82ae53898"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "0a1fabd84ad12cbb75c4f64eecaa6d616aff4c66"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:13 UTC +00:00], ["url_code", "c54dcd606e39420c25b5114ede3b5f61f1ed133a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "e1185eaa39b8908a2c34ae0ee72824add88a9315"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.002189' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "53cb9b776c3c39f35319b054f702d0d8e8f8dbf3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "cf77fa28b306dca0258339292441795cf67962bf"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "8f5e99530d842f8ff07f719129c7e734d204a0c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.047352' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["url_code", "0d8e0b74506717ea58f7a7ffe6f9e29ea7a56f32"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:14.000000', "updated_at" = '2012-06-10 21:41:14.052002' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:41:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147a13297_10b933fdc98434d3821731@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5147a15993_10b933fdc98434d38218bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "bb6df939302e52730deb9a54c98c92f1c08d8cfd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "9e32325dfce10578b85a669c2f0574006680fcee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "df51d7811be2c68c2eba9663940f8e4276dba5a1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "75cd0b7e92bda1276c0ae53061913861c30647e1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "f829a4ff09230430ee58646626e429279a51d749"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "55288de858e9fc6811eed86c5d4e08a81bbda641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 12], ["url_code", "f6a4c34e8d40c6bc131ea188c2cbf35bee07426d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:14.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "c1f0bfb07836e141bbf8fb7427df954a8b6487ab"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "cff25a66643622ee3a8f1281af6606d66fd37688"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "5024e2e889b51ad1d87bff670456b8602cf669c9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "4c66e6bfb801354933d0ea4bf11bd04b4d807cc4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.375315' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "ef08e468611d26b964b7ebdeef8ec4e6243c1541"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "1e4858c4af71cb646918049bb7e2ad946393b018"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "ea96faf77bc22d5499d402f919dbafe1d80e14c6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.411393' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["url_code", "71144828878acdac4a53fcae642f2b16dfb6e175"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:43.000000', "updated_at" = '2012-06-10 21:41:43.415129' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:41:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514976b734_10b973fe021c34d44938d2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:43 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514976dc4c_10b973fe021c34d44939ac@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "1f5a8bf4b5f1e7c3c76187b90d94a2a9dcc5e0d4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "3cbd5b91a4199dfd9aaf1771d3976ca23b875761"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "f03a28a15905e780f07f7b4182b979aeb49b5808"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "c459b2d43e64d5749cd70fb40cba9c65751eb5ae"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "a73c16406c2925f6f1203e70102800374045ec5c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "fba4c23113fde77556f48df8b0960061c5e237c2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 13], ["url_code", "e43b973cdd54d43c52ac4d2b89ab595f63935c1d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:43.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "08dded7075886d3aadfaf58f9176c946f91c3719"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "b38afb58c27a9cec2f194c05eb8fe1878f5022e5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "0f256084f6088c6ecf0cefc13094d1a08884bceb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "2d79614df3ba487d3906808d7956afb8da58ff12"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.626754' WHERE "email_tracker_email_instances"."id" = 16[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "8346dbe04ac69eb055f7f4d1bbd52d35f30863dd"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "c919446ccf21de768cd6ae2bcffc8ef1a6bd5713"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "ff95dd886750d81e1ba23f949d1e47b7535a1c46"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.666481' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["url_code", "7709ad7b6b827269ec5b63396f32c3b79d9fd613"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:41:50.000000', "updated_at" = '2012-06-10 21:41:50.670281' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:41:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (18ms)
Date: Sun, 10 Jun 2012 22:41:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5149eaa75c_10b983fc270c34d404305@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:41:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5149eae536_10b983fc270c34d40431f0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "75841306c6231d08c960bf6248d65a0197c2a11d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "e44c70092d2b7fe358aa1a41b380546c60cea216"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "69df2b949d0c4e75a91fb1d131c89982075b28f3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "0fbd8c6214e55a4b53ac71cf011f9da85db062f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "62eabc569513534cb95f970c2d8f6a4d858ed2fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "fc97354168462793db5985e746e6b25fff5b928a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 14], ["url_code", "7df2c1d34e0209d91ac74d134795c408373c777f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:41:50.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:02 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "a5b1347090c3d89b77820bfc48971ede3bbc6402"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "8a66d57e61df47df4e690d2cf0eb99bcf45caa6c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "0d3f0f0de8628650cf533ed82b107c3556b0aa67"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "60eac9a690a6b4c79f981c1fa09b48c05483132d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.143436' WHERE "email_tracker_email_instances"."id" = 17[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "52207e039c76e515329ce3e1824fa97d611ace5e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "e4aa73f8cd33cc20f9edc22dfa60de0cfd8d9c5b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "b41eabe854f8f8f18b0a13463ad156562a67331e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.179772' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["url_code", "61badbda7be25f1a6137bc0b1487939b159e9544"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:03.000000', "updated_at" = '2012-06-10 21:42:03.183531' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:42:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ab32f41_10b993fc718c34d3454cc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ab3544f_10b993fc718c34d3455f0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "b6ab9e6e009ce8083a7bcade78fb07c165e6e98e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "16c9bb17ae7bed9bd00f25e25b9309d54ff729d3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "6949dc97f0ffb6ae5c199d3135da91d752d3bda3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "27cdcec7fb270b451ef33f08af0719e1be568c3b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "5c56d75c25d06f270ed01b649a7a2808f45fd070"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "1e92b2fef735c895635b1d68a94200570d1b4f65"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 15], ["url_code", "8e7c46f9b8296eec1e41dcdcea73bcc9888a01e1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "3f0e57d8e72ef441636e7bff176731c61ecc43aa"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "745d465c1bec9800e2f924cfb71a49c63619072c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "e051c5d72105ffb9595dc45236d2e3abfa453b42"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "86dcc80a005b15a0bb20850003b95c20fd474ce8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.384258' WHERE "email_tracker_email_instances"."id" = 18[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "464f5b07773dc776b510aadd309d0d8fe9cf6d35"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "a02fb8ddf2df18d606a58f4b96beed2b5d05d5a3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "5776baa6905156b3af81a85b627318fe1f4a398f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.420087' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["url_code", "4b72f5c7267fd2302ea77b1d85a72ab21c2eb7c0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:09.000000', "updated_at" = '2012-06-10 21:42:09.423780' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:42:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514b16f1bf_10b9a3fe16d834d3c87750@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514b17199a_10b9a3fe16d834d3c878c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "8cd255374a56047f07dacb94e8fbfbdb93115fc3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "2377c8aa9f2bad13e64aedf4c384166bb654b1d1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "e27938e0afab029ce31e08d6f3479590b67e0642"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "90cf0928c0725d4a757b3a6ad12f926d6931ebee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "11982c40af347bced079a219b56ca6050176a78f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "292ea7630f06595fe8b3fada8ba8c4c1d40c99ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 16], ["url_code", "32441b1fc710b78901125e5d5ef2dd0a9272e282"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "d8c8eb86a6de5b4e88d91cee9166f5047ce88e8d"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "58bd10b47be452fcf0a25402fe5d9c60efb81bc1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "42aae9e891108cd7c0ced54217e658546a05c9f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "06437f1fc2e624b7dba525f9582f2abda0722155"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.289432' WHERE "email_tracker_email_instances"."id" = 19[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "735d4e6e1096d29e4d5830d3f6914b34fa05e3d5"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "f25f5bed1290b54e09ed09c08e769aff9b654105"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "98e0b856b9fe9dd845d8e2f5c2b92420ae397a38"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.329013' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["url_code", "1afe04e33cf7ec456fcb4eadd4e451681893ad0c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:19.000000', "updated_at" = '2012-06-10 21:42:19.332735' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:42:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514bb577a3_10b9b3ffbbcc34d388ef@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:19 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514bb5a0bb_10b9b3ffbbcc34d389b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "00637679ed0fe78d191b3da50c92df5e7f9bfe0b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "5da5edfd8b22fc3b4af28dd7367c6a21627d6956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "d1443a9283cb6be1b0f27b71dbd601e25b01d424"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "b01e19524fc54d5bbb6958a15b31201b3b344e1d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "f888e8a7ec77a03dc369132cd874224373d4d223"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "4cc8c9131dedf060c4aa1eac51fe6418f983f2ec"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 17], ["url_code", "db3d2abbd81933df450dfe968463a79c4ec44c25"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:19.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "6f242c3376a33ad2a0af95226d36f529b0e3ed43"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "6db80b76806d621fdedd835b5bde9b094bde30e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "a87eb70dead07a5a27b7762bb0189abf8a9788f6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "e41100a0dfc98f3ce629389e44222c83e7bde61d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.532932' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "b7d6a4446117647301014d22552eed66c7517262"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "a43fba51e411328ed5b84019aed2ffba64d69913"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "bc4939f57cc5c0e5359ad743907d9d0f4f7e8adb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.569122' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["url_code", "1d2ebfebc8a561d58368ed7f97a70cc53cfc4d26"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:24.000000', "updated_at" = '2012-06-10 21:42:24.572895' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:42:24 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514c091f14_10b9c3fef60834d4061342@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:24 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514c094619_10b9c3fef60834d406144c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "7ac2e5095ef46da9fd2fd2686096f647245dcbc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "b71df5006a4dab0b130ac780e7a7f5c403eab3d9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "9763d74bb2f02885ea4f334a0c58fe9673d75c0b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "671a6143f3de4b312843ddbc81bef5665fd01a67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "9181a5060ddf5484ea068ec8883ae72ab243e33c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "8e1f01093d699e00bea7795bea0697c37e75458b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 18], ["url_code", "8b5fa5bd0e6e020cac404ec585f897f0c92b2a18"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:24.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "0b53bc80cfaf88918b1d483e027e955bfb850ccb"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "907121fc291fa59f0947bbe6fad8f6a27707974f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "08960f03251a94b9243a6fdab51bc32bbe73e5d2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "94c324f32a5edd07ab5c6bc58facda54ab549715"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.194009' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "2071a568ccc473d76531728334d7c94d64c0be49"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "ba01cdb888eeff25b60e419aa9728782a9ae8ec9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "1289a3e6cd5780eaf847fc776350b2c7044a89f7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.229498' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["url_code", "21c727040e3d72ced0bab10aeeced4a718cfdf54"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:39.000000', "updated_at" = '2012-06-10 21:42:39.233197' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf3eed2_10b9d3fdebc434d4490735@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf413ce_10b9d3fdebc434d4490896@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514cf43678_10b9d3fdebc434d44909b4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "d123c33d2ebefe07d1d8bc1feda2b72cbe4908a3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "14add9934970e61167c9dd9edbca83bd8aad19bd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "73dda7dcc1bcc78b744211649e96029100ce84dc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "6602895da9d927540a90893bcdf8482aaf8f0b90"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "ad286ecaee389376d19d4397eb271cf41d00407b"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "879398582892d0e2f1315ee315eaa74277ac6368"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 19], ["url_code", "3d2cad5c6bf205a248aac9aaef950a9427d3ff27"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:39.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "6f1ac5f0b213bbe9387f3ec6bcb3f74fc4c2a5ae"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "e97b9115553c795a90ab0939f89750a91d3d781a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "14123403f804ee58d73d21f84832672218f97006"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "a4e7647b64cd2395f65aae6b3f00848c7e0085ce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.654859' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "c75edbca3109bb4512e8ad9ac37ac64dc42f31c9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "ef3c11b83433c53b5df49fac3bc8d7e6fc87c788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "64f9f61d7c46896d537e8ad1198478698b639387"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.694187' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["url_code", "f0a856bef853e8b7a317385f253d6dc1d1aa856e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:42:53.000000', "updated_at" = '2012-06-10 21:42:53.700131' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:42:53 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb1950_10b9e3fef0e034d406288d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb416d_10b9e3fef0e034d40629e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:42:53 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ddb63da_10b9e3fef0e034d4063025@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "7e1e82058ac1dd29269860a0aef91ef9ab2f35a6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "f62c07a1a664645c68fdd69217ad29c6f3759178"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "266e26b28060f8bc5fb7373e215e8d062ec2d004"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "37678d83069746726c7ff1fa47a1b7f3d40e915a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "bdeae472759d8326719e336054c4479cce52738a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "8145cef4681e7b488550e4514072fe1d15b55bb0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 20], ["url_code", "1d17a1ef1a16e59a52464d94540fada2fd039800"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:42:53.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "6fe458708797bd11834e24ca1eb0c4f562d4ac5b"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "9dae0888b1426c856b418e84fe4e57f117ecb2a2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "2ac0b5be0e421b78cb7e7479cb4e91ec2a1f2307"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "4161d419a20d4f275a2fca3a55b0567d30141032"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:08.000000', "updated_at" = '2012-06-10 21:43:08.965020' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "6fcb7a11eda4761d5e39c7724dbffa0412b70217"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "7038d59d7b77a228baa07ff962597abe57fd355c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:08 UTC +00:00], ["url_code", "ba422477371d1850c779a0986e8b60f119c3c293"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:08.000000', "updated_at" = '2012-06-10 21:43:09.000236' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["url_code", "6087ececf414d8ca2dcb1175ecd7b13530c6e817"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:09.000000', "updated_at" = '2012-06-10 21:43:09.003963' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ed7270_10b9f3ff228434d382595@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514ed97c6_10b9f3ff228434d3826bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd514edb16b_10b9f3ff228434d382782@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "14047080d82b408a7eb7a95883785f8c1233fcf0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "9ccaf800de2191bf824c6ae7cefd926ec6773a60"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "dd0c3ed3792ec1947db6010f19ae4f3a2f67d086"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "6378b6d81b926e3c0f18872fc48dd26dae133f2a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "bd16e610a39c03426a091122a67967af468f7c80"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "29b254ef00fd812743ef264b5f85c29bdc2358d4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 21], ["url_code", "c33f4314f2b268372b31625b25e649b40df855f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "d9a17a56d6c49e769a1caa352a26f7c1b47831b2"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "c56609600f604c4cbe407b1790e10203ba3d084a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "cb5f444bc72634928f5938c83db2cc8d41bf34c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "43869d563cf56ae139c3a234d735b62eb31eda71"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.505076' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "81cd3a3912f44b35de7a7ecb7a1b07b3207aa284"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "d548c0ddc0c3ccb7f734be2b1f0e8d0b46420ee3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "7099a51260949679e37df67d36f23337017c80ef"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.539819' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["url_code", "01c290a1c7cd3f6ef8b26f45cc5eaeacaac5e4be"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:43:54.000000', "updated_at" = '2012-06-10 21:43:54.545304' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:43:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8b56a_10ba33ff910434d443988a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8da98_10ba33ff910434d44399d6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:43:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5151a8f53a_10ba33ff910434d4440015@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "e58085629aa148328a8a5b46256628ddbbf74e30"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "39d49bbb9e03e7e36de2e27527442a9e10d22d7d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "b464f8802eac9bc9e5648307557d43b90277d724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "a581b1987d4da5a03f5fd9b44872213e5f79c468"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "3718a5b83c5449cbff4971afff0c3f8b6a962fc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "bab047cfdeaddb86a8a29c5e2567fc810bdcc460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 22], ["url_code", "e92d222e27918585164f3d2b0e23944ecdc4b839"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:43:54.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["url_code", "3921b517c9349c5c2469bd3e2b1069c6631b96d1"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:11 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "eab75b62bd4fe5bf85bb04293297f16514820fa1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "4263216dda26be2c43fe154d6c26b001e22e1ff4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "00e0008ac4d40fb6309bcd22e9d66dad81028076"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.028209' WHERE "email_tracker_email_instances"."id" = 25[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "8b864f5b439726056ab985242fe99403756e0225"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "eb1b59a9571c5d92ddc12070bb573e698a1e7828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "218791272e25e9b44d1ba5e0c60593512de4ad44"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.063321' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["url_code", "8813703b84b350eae7bcad4dd15bf529dae3f4b6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:12.000000', "updated_at" = '2012-06-10 21:44:12.067058' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c166f1_10ba53fcff8834d40915bc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c18bb6_10ba53fcff8834d40916ea@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5152c1a60e_10ba53fcff8834d40917e4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "d122b2ef605142d0fa766f166bc9073800da3d28"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "6522cb0729dd7fdd859a5c68d38588deb6d2f826"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "ebdb59336fabb0362eef52d033f270e810dcc678"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "0a8095a0a2517c50709833c54be6b7dcaa4ddcde"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "d592a7f0ebff2845dffd417a5748af6b596a109f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "9082dacb21fc0ac5077d341fceb5f1e526d05e4e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 23], ["url_code", "faa0373ef56d0ff20125d3d2e6c5fa7bf16f9e77"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:12.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "bd3f93e333a917f08c008fb4fcaba36f145e61e4"]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "036a19c3004f7d55b50fb30206fa3f8c98c97e51"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "b3aa35bc37d0204ba76b04ca29962a46c399d78a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "2ad6f467708464c5d341317553b062c523a2c105"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.447662' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "0fd9268fa1e79b3291d1160fb78a662f90e1622b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "7a701b3650168cdfdb151bc98a8fa336e2806d5b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "f6a09af833dc46721eec0c00facd878e52f30a87"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.483057' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["url_code", "291354c38eaea59b813c2372d4a8e54341a38b3e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:33.000000', "updated_at" = '2012-06-10 21:44:33.486839' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:44:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515417ce70_10ba63fc365c34d40973e1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515417f3a2_10ba63fc365c34d4097429@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "e7d15620b18af149eaba522c2dde74f0b3279b8a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "f1bee5cdb280501074bd26efd77cd343ff977ebd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "a6075f3cf58eb6c32f00fb1c7d575b003d9878ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "7f912c0dbab25c3891cb4f77896ea927497ebe73"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "f07fe3cad6d7ec478ac07229147abb2a1c195102"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "d4a338acf4c7add984c3456c61bebbd636e4cafb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 24], ["url_code", "485f88d84e965205f7fa3096a6470dc2e779e0c4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:33.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:55 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "01d90f8e2864733c7102d6cb597e9ffa5108ec82"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "b19832aaf026da9ea4a56b0d3faaba73edcd8074"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "a95e69989926b94c9c0ac4e15ea0d033574691a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "b12b4172d7b8af60abcc09dcc1151e80f2a8b650"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.102965' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "3e909afcc8d039a128a0c247251378c1ae3a77f4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "efcee18057fcc2f47793fcea6fc4534ec3868365"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "952c6148f21632e0816d15cf54fc835ae891dc9f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.138624' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["url_code", "86858240901e6ea46de8ac3484703445948819b4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:44:56.000000', "updated_at" = '2012-06-10 21:44:56.142340' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:44:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 22:44:56 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5155828c8b_10ba73fdb3d434d4448364@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:44:56 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515582b174_10ba73fdb3d434d444842c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.3ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "a0de488d7c575ae198fd9af86be2d11e426d73f3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "1b447b77d1bc14d018bf299fda1c9413d04aada8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "b9bd05bbdcbd1cf0b299e9938e23c06c49f509e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "7e82a781becb47cd5d0f5799ad1cc9508a54724e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "5a7900853443cbf623a71c29c27ce2a567d9acf8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "a091ebc9281e34509ed1120afabb300d38ed5d92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 25], ["url_code", "c91b3ddcf0665a983c7655bf22af9e4a8dfaddec"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:44:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "52c21478c1a05a4b18b4e6937e9d808d06acd6f6"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "a0df5574e6c6233f07465cbc42f6419a150db337"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "e4e97d1e3760e9daf243bff9aa5bc321fcb90c15"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "831e997e0baa40feb19c62eb1beda5fcb6fe7203"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.642177' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "7f7da8745a7378876989743432cf7dbb32e76da6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "64e70da8822cc3ca4c08f319e44cf28a35f92ebb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "d2903b0fafd842b9e174220795e1f6990177d6bb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.677122' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["url_code", "7db7490985e92e793c1127e8ca70deaa9df0fa94"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:26.000000', "updated_at" = '2012-06-10 21:45:26.680864' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51576ac799_10ba83fee2d034d402962@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51576aecf7_10ba83fee2d034d40302d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "3a51fe676876e808bd765d0995ba42b68ce52ba8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "e6533f6820019c3e51c350e0026107371dbc199a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "564b77a9d60518e656059533f9243e02ddf970c2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "0d1edf73a5e42c2b3c13a05a852ad90da877cbec"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "e0d815aa0ea13d94d382be61be88cfa5d57d9a0b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "5197069a86bda629e88cafd02343ec1747bc80e7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 26], ["url_code", "b78bd558b4ac54aeb7d025bf61716570e21cbab3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:26.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "96755f32d2eadc0075eadcd64a957214f809ab61"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "f05060de4fdc98855cda52764c177959e3922612"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "68f6f251aab53654dfd846537d189d678fbf0e21"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "6019b27801682e663905c0c6872bb26cd7f13563"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.518760' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "eff4e9501fa58a5f3938f2f2a4344a36007ac6dd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "2af970b255a109392eab4cb2e06a2a29f154d347"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "99eed715d9b2118275cafb32610967be00532f2f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.558417' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["url_code", "c049ac9a975442a6f75357c02eec882132e69a85"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:36.000000', "updated_at" = '2012-06-10 21:45:36.562272' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515808f28b_10ba93fe52c834d384921@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515809196b_10ba93fe52c834d385064@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "23c18a51d7a69c647bd71c7c4b6ddf901180366f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "123a80ac088473bb1c58e63cb4f61d4d7dbd16d5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "3feb93f9ac2c51ef5bfbd251858221623a217cce"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "36b3d1e3edf8b4d132ec0d497cd8e513ddf6748c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "909d50be5d5294d604e7a3b4487850c0eb4be6f8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "5f559f665ef706a2c18d2e16dfad7cb5eaf8bc0f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 27], ["url_code", "e2258f37206f665cf50659750d2d6d61910b046c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:36.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "82f7dba4cb4c3600f7008eb274d3be62732883db"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "7f355b1aec22dffbc5e47d1f22ffda1cbcb6f49b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "25aebbc0f238366f650138d100fbce59439a1e12"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "309787b2cde9f9d2d3bcdbafecc6bcd43e0ddc42"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.441406' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "3e5c30de917e17b6e13ecad88ca19d16fff5e508"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "ad8b90f5d5a002b58c88a7e775813afad174ea34"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "953ca7a992c9dff9613f6bc5317bc55fd3e171a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.476853' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["url_code", "561915326c65fed5f01747002519ed4adb734e61"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:50.000000', "updated_at" = '2012-06-10 21:45:50.480545' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:45:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5158e7b856_10baa3ff2c9834d38399ab@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5158e7e069_10baa3ff2c9834d38400f6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "58cb166fa2715167e2053b0d7fcb4c95bae38456"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "6a65f66f159e1bc88b09a5ad4144aa63061f99ed"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "b9d83924fdb23f53ecf297ef3640f0b10ea56cb0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "5db31698814b01af791242c097e5a4044b3fcf34"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "fd4ddcf082fb6d677021f6246b09894e175ee2a8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "4ff5174adce61bea228e44bbf5746bc8c657ec4b"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 28], ["url_code", "239fafa3ca47e0e6d108225b9ef75670da864240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:50.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "5796937dd29fff0ba1d96516961787cd003b4240"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "6fa4c3673e7dfc8fab05b4b8acb592e04bbd8f28"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "dca21bf6d7a8e526b82213527e28b1e736419f03"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "3d44ad6ca3da12c538ac329a8d3f56cea6cdc0a4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.863885' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "f54203395482f7d5ada698480fe82e43010ca49d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "28d394a07859fb052116686850b1a3d9701a201c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "dfe2b953113d23c461751a74dcceb4f5bb2ac0fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.918883' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["url_code", "a097f0c97ee224edd7ee51c56c2aa5fe144929d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:45:55.000000', "updated_at" = '2012-06-10 21:45:55.922921' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:45:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:45:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51593e7f91_10bac3fef88834d404197c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:45:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51593ea703_10bac3fef88834d4042010@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "f6c6786f3b91aed57cf45ce7eec97b4b8183ad20"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "dbe3ad7d5b8a806ff2d0633cb48e4d807c4fdd09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "689bd5f3a63144bb59c4275189fbf3b317b015ae"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:55.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "c0f31f54cefdec99009919f2ea8b7c02b6546ee0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "9de161e11de45914098724b430c9ebf18cd0bbb0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "89c5f2a3e0ffd94da19b3b2b55e21b64a4f3c3a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:55.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 29], ["url_code", "0f2f63c0a5934ccad2c96b642e1ca51684f77995"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:45:56.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["url_code", "4797407415ba318ea837570a1d5a52cb1971f615"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:46:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "77ad9c0d834652c5bd6ffa93f4a84276c8590360"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "31a74643f4a1210bc6d00619a471e477a7e0c261"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "dfb81be49b645c9bcb4793a8867d301b33ef4f69"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.018565' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "c259a9be1669b621cb224b4fa1aad37ddb1f3848"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "fd442871477b9cfce77181a4230636d81485ea13"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "8f403980ea1478ec2227bf03603e29cfb2c17196"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.056024' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["url_code", "73f7fd5a06cb3f18b81d72e277d4a7abff419ca7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:46:05.000000', "updated_at" = '2012-06-10 21:46:05.059642' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:46:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5159d14ad5_10bae3ffc4d434d4036387@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:46:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5159d173a0_10bae3ffc4d434d40364c6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:46:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "2003ad688de7393c632b8fab37cb989b1b86af1f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "8e4f90c3b289e570564fdd3155f56d0a4c4f1d2e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "34faba836171704b694c272ec2f32214c7663358"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "78973871dd9f6e58535703708c3361a4ad5094ed"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "3a4ba393def5222a0369ecd4b7dd2ca377132a56"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "7577005f2f4e03c99a121ad049c25124c868140e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 30], ["url_code", "e88713981410ea8ed0bb0dfbe5eeb66217a1386b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:46:05.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "424390f9a0c2434923a4d896bd61a4ae26d07f0b"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "199bda6383f40aac67bbdcf3ff483b019dc3d36c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "58523c40536c2ba4ed486ec30947158bb595ace5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "d1aed97075953d6b27c42f2397b13730ce94ee67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.425541' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "132768fce606c14f3d36875cc8954ab298537aa3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "9ab66dbf5b4c8628d6894baa96da9c08a366f037"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "8249b1fadddf3298d68b2170d189290009b85501"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.463615' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["url_code", "1609ee35c657eb0388410bc0d3c7aacc10e25150"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:07.000000', "updated_at" = '2012-06-10 21:47:07.467265' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" [0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:47:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515db79f9d_10baf3fd9c1434d446779b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:47:07 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515db7c4f8_10baf3fd9c1434d4467878@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "35bb379301b5265432be1e2d876bd57a47c3297f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "ce1e126fcfdc592837eafd92226bb9e2f8e74802"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "36c2c942e1bb3795fb5ee576ce6453c0ad46c55a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "a27a7604e2d5769d4267f6f4fbda47944b057f4d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "22848787938c8936c986a4a6990f1fc5b75c77af"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "488d1b941721589a04ef5df6640b04d738e2a72d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 31], ["url_code", "a0f18c160801aad18590ea443625ef5381f20f3a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:07.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "f43ea603237e37b157beb19daae2448e38c92602"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "026f29f9ad8b83b99d93610ebc63ff54b4f7f163"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "a1ddc7eebd463ec28ae14b4d547b13a6ddbc749a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "e2d6dd04a2b160c9e4796003f7322a8cbf1e2898"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.848334' WHERE "email_tracker_email_instances"."id" = 34[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "ff2e9cd6555967f0d44ccf6a2e9eb8fc20b76d97"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "cce4a8893a573df4afaed7b1e910a1db04b965fd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "525cdac2164f8a07ddddf033aabdef05f8772721"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.882974' WHERE "email_tracker_email_instances"."id" = 33
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["url_code", "10e2817167a70724ca07ededa482643cd0ccbd67"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:47:36.000000', "updated_at" = '2012-06-10 21:47:36.886730' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:47:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515f8e2f5b_10bb03fc704434d3c492c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:47:36 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd515f8e571a_10bb03fc704434d3c49330@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:47:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "256f03ac4f38ee249b2572c7618252fc01b285ea"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "72484567d4f3959dd3bc3c7ce98419b6e188e43c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "09046ff0a71a0d1be5c5b8d9a583abc8546810b0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "2fcadfd5398ecea66d0fd0e9dacf6a17bb3ed53a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "5e938186aae8fe29de11e52d31735169b1323c31"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "9bbf4b89c9cd0ab6af137661d4714a04d3cf5c09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 31], ["link_id", 32], ["url_code", "0017eb27321a831c3a58e3d9fcb0ca633125dc37"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:47:37.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (24.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:11 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:28 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:28 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:48:51 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:48:51 UTC +00:00]]
  [1m[36m (101.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:03 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "31fd80216878ac4566a29de82e250b112a8c2650"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "47a4e239050b94d6664b011f0613085aebf3d3de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "10d4ec55f633be33327779797a45d81186d9dd6c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "f6b441a667b53a51abe0a8d4ddc1c7d5ac368887"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.758713' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "016aa1dc9d12a6455781e8c6c62fa4f54ad5c555"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "cc5fd39d22a2cd17a7c2f4ef14a8b1b6b6a00d82"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "2608af1b00bfe52e9fe5d2271261c2bd525d3963"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.795208' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["url_code", "57fe72eecbb9e49b76bee584ab662e40dbeab9c6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:31.000000', "updated_at" = '2012-06-10 21:49:31.798923' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:49:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5166bc9d99_10bbc3fde1c434d4481849@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:49:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5166bcc272_10bbc3fde1c434d44819b2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "3f888c940ea54df59d27d911af636c8eadca092d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "0095a240c89f7efafebad6fd0808275edb5baec6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "406518aec81d917cf6851f4fa1caf67e4631473b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "8d7fa9e5bb5236f12bd230850477050242cde0fd"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "feb4c3011c26eef6f0ce28382bc8aa172a5107ef"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "726ee733764006433547e68a65e7c2c5995fa545"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["link_id", 1], ["url_code", "1e2b3deb16ccc44abf052c8df99942a54557f9a9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:31.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "81b1ddc37e9e3f3f6cf17edc47baf10dbdcd361a"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "a6b71623b0ab70665040057e319d974c8009cf99"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "99d4e88eaf1fb9eea89337e40ca57ea98c87e3b0"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "6c42c926a1c8db0459b22a4ca4fd55af7a1299f4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.299123' WHERE "email_tracker_email_instances"."id" = 5[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "4b50ef0f2cb7a2c1300808af77ed264aa73fcc61"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "714a3b883a52f44f944f8a0e7350d3facc698213"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "ca81556c4eeb17a8749c316125590c7aab2c4c91"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.337125' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["url_code", "17c19e7c5fb2d36e076682dcb4bb4a9bdbf40ef6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:49:54.000000', "updated_at" = '2012-06-10 21:49:54.340866' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 22:49:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516825e046_10bbd3fcfb5034d4084237@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:49:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51682607a7_10bbd3fcfb5034d4084316@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:49:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "83fcc51760bba9c5ac9623573abd5953abbafa39"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "57f10ca8b9193e0de888f848f2e24e2faec8fe39"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "6198040fb899d30f784df1603003c95d2b38aca2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "6246fa83cdd8672fddde76b2ca2aaa86b15daaa4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "9647b88d673aedc01912fe2d8e4c6afc4cf146bc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "5a20cc59e15e7a074c607918fb3a81abcdab7c52"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["link_id", 2], ["url_code", "3bed0d5a76721fdf1727575c231e8c9e538219db"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:49:54.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "0f21c69df83d77fcec333bbb045cc7f2d4f1a609"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "c69badcf1d18410512c2718aa9fd22f80cde0541"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "a2ac28dd608e1c01d9724b8adb743b6a5e283700"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "9fb557468e996a94f2cd1805e254f7a9da2596a8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.561531' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "cb22452646165230d3d0c3e074ce65b4c7536ff1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "1cda9f33aa3589d434dd1028dfd31a6137ee26b6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "9580c80b7326a1f1cf0991a682b18c3c901279fd"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.598126' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["url_code", "05ac9bae03a858418439958aa3e1ae0c7d78e7f3"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:15.000000', "updated_at" = '2012-06-10 21:50:15.601883' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:50:15 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51697a49f5_10bbe3fcbf2034d3470994@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:15 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51697a70ce_10bbe3fcbf2034d347105@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "b964de1172d5b0a130aeea679f2c04ee747a8e67"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "fcbbe06d16b80e850e8397141bca1e8f3a13a959"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "3c3de0b605f5bb40d695d490b15bb767820c86d9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "808bc3c6e64cc2b2bb312be53bd30295f5298d62"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "3504752d29a1333701afed1a5ed0e80a269e06f7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "319c0df1c0ab410b3b51474c6ef5d493fdf83c90"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["link_id", 3], ["url_code", "60bea4f20e3a02b1473bbf3560e5ae26806e0d87"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:15.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "c3f0ae96fdfa43b859ea999093911ae34090a4a4"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "775ecf73e5969d915a979f9bad7a651096ecccd2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "cf7b463ec791e6b6efaf11ea6c84b0f4be358e6a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "062305554cf90270da250bd3cd84181479d7f65c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.548308' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (30.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "467702a032f7205ee1b2f525e4dc800c95b7dc9e"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "905cb8e902fbfea5cfb891a68974d6358eeb59c9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "25d41c4858a4b0317f026e9a8a1ce2c38619a99d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.618078' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["url_code", "53a40dca152e2fbf7073f424d24a1d3af827a61d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:22.000000', "updated_at" = '2012-06-10 21:50:22.621968' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:50:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5169ea1005_10bbf3fc864434d4417687@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:22 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5169ea361b_10bbf3fc864434d4417787@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:22 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "12f6b74037682b322628313c98684c200cf0e821"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "900d8238ed38ee0c83d054d4ce29ee262aae5e77"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "e4fc1bee1fbad6df40072159dc977ebdf4304684"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "54f0c670aa5e2b92bb0056d65c04229deff99945"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "825e2ced51ac70c27c952b9296f9b9976f75ab60"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "3b4eacd174ad8e075d73ef9e6ebb8d029fd60400"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["link_id", 4], ["url_code", "8cb9b4b972e97f8fe805aa8f2bf6f39c80ebbe70"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:22.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "5e9b0ef9469330c6f38e9611b8c9849b78e74e1e"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "3cc8c46f9e871ba13fb915e311abf3be45ab64f3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "e09fc9a9140923de8eedb9fc37bd2a86524258c6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "83f952ceaf720ff2f9490586d0febea03c951dd9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.405330' WHERE "email_tracker_email_instances"."id" = 8[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "755f9dc55ae6068443a85b1e70a4ade49790c475"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "17d2f6ed16ea7d9cad526a36ff3ae95f10bcde4d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "9a517a4c2e6e5e033bc5adff6324e8322bde161a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.441425' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["url_code", "d6d20f96dde82797da9f101e291ceb62b7702745"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:26.000000', "updated_at" = '2012-06-10 21:50:26.445122' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 22:50:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516a276748_10bc03fdb85034d3c17a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516a27909c_10bc03fdb85034d3c2d7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "753698fb8cb2c3df5d0e50da2de6a03d7b6422f0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "7d3cfdee5267d422372631584f2da02f05b6ff9d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "303471ca047395cbf827fa5b547ff82dd6db8616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "f437cd7bb1e10cc74d4951e879c5d6763d755a51"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "9c289b54a5adec39e9063f4de11be1f7184e7ba4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "7f652f165d62456b3931eddddcb9bcc97b26e719"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["link_id", 5], ["url_code", "12a879caac24086ce6f80aca1941a122405e1113"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:26.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "fc2b4731c66e9f628ffe4cc2bdb184a40b2f8f9a"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "20e5fdd5fec185db6830fca69c47e46625dd0a51"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "64d1dce56a505ebd24883e7db53c60472b5ea434"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "490ab082e8c70c772a63010bb299f87c90ff6749"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.441420' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "dbe53a3942075eec13e3b54d8c5e505ca1097433"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "079bcc2a16fa87d4e1a194c7d61bc7f6f09f6b39"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "d1d9947f8a6088a480ac0220f6a1161a660d0e47"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.478434' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["url_code", "45902e6d25537e3aeddd5997e2d315d4248b562a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:50:55.000000', "updated_at" = '2012-06-10 21:50:55.482274' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 22:50:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516bf80f62_10bc13ff14d834d3854757@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:50:55 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516bf837d4_10bc13ff14d834d3854893@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:50:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "6e12227f938947f951376736c42b4eaebd6acc78"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "1d69d0bbd4d59d541245f040ad8437a012ae3fd5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "a407a0e413a14b8d5689e43a40eac3da6d86164e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "85b82a49e01a408cc409a51bd60d7af8768f945c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "8c66c5f4ab81c2946a213d9f40dcce9e2799ddca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "384a3bf979cc3a26ed78604b8eff07f9290bc60c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["link_id", 6], ["url_code", "9314e6d8545ce98df8c66c78f99d45334b7d93bc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:50:55.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (12.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (22.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (14.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "f2134049c1d886dc4284173b3e918ccc16dcc0a6"], ["user_id", nil]]
  [1m[35m (16.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (24.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (5.0ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "284dcefd89d1e88a5cf83497de3bb4455887a9fc"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "e37f3089b6d81d0a55f61d81022ad40e5084b0a3"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "3c4175708546fb7bedbcc156869af06d68911e97"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.612104' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (10.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (13.0ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "128c873cb6cef60a69196417827468baabc128ca"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "9af07d80741695c841d57d229d5b548c7e9afb8a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (7.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "af10f87cf521d6ec75e05c6421efa549b4f175db"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.700521' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "01c87eaa81c2125e9d0ac81f356554e9859ec5ad"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (20.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:15.000000', "updated_at" = '2012-06-10 21:51:15.723887' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (16.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (29.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:15 UTC +00:00], ["url_code", "531f0c0c8eec51a254d1af497e5af5056352f8a9"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 12 LIMIT 1
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d42ac9_10bc33fc7fd834d34869b0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d4ab54_10bc33fc7fd834d34870aa@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (20.9ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:16 UTC +00:00], ["url_code", "ab2c7cba123c65f90b5ef8e48bca11807fa3fd51"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (5ms)
Date: Sun, 10 Jun 2012 22:51:16 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516d4153b6_10bc33fc7fd834d3487126@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (5.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "639184c939b2ec86eec615e7f3d3ead40de36e23"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (14.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "194a86c326973fca9d5f03d126230e37ae64c0d5"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "9049a4f68930e46ed12d629affe4963d77e0322d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (33.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "2eef12ec6aec01ae8ff20ec93e8631bd91ca88bb"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (8.5ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "d09bad7be9110c178e114c21aa9a523d7e9c9bc8"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (24.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "875d39c5e829856131fa0b57499dcec2bee79e9c"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (13.0ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["link_id", 7], ["url_code", "163c6794d654784295811690e299093555fd841b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:16.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "9a305c88a4407f15b77f7b066104c8751544ec6d"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "58d87bbbf8c39d28c3fe13c699e92b854d9a4e86"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "48afe38f2392891cd2ba098e3313eac5619a19fa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "d17e9fe732b5d19bf04aefab5688dad35ce0ab2b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.565950' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "c27c90929c1e852e6de755f815d16751ae006ca6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "5f89196c3625a740dc14cacb906d990b24f6d82a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "eb4475b8f850392bac26e57855d53fda50bd6959"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.602154' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "3e2843558bfdbb289a77764ad0f863de802b9ffe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:51:45.000000', "updated_at" = '2012-06-10 21:51:45.605956' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "53c7827d2f5f4c51b4ee141e03784e1763a86651"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 13 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f19ed56_10bc53fefb2034d3c6001e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f1a6d29_10bc53fefb2034d3c601fb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:51:45 UTC +00:00], ["url_code", "474ad364104903be0dd080b2524b48790a02216b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:51:45 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd516f1aa2c6_10bc53fefb2034d3c60228@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "81788e981f65cf030e9a1d98035b366245a3621e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "a79c84a210d1aee32aa61be6933295504866b481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "e7f1164c972631c348fe5245855a5af1667dea8b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "0601a8c75ddc9299549a95bcf9e9dc273efcf97f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "d7b455769523706bdfdbfd88c6d1f033ed4590f8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "d915f01fdb11f03de73240cb6dc24adc2fd7f5ee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["link_id", 8], ["url_code", "3d483b08209cf0bfc9ca76278125334adb266a46"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:51:45.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:02 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "3e521e938c490f044e06851a71ef77c70ce3210e"], ["user_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "5ef733f5eaec5542c66c0ada28e0f8d6ce5c4e25"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "bc973574b9642b8ef98e4bdef463517527bc9a1b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "5b4b7781eeb6392add77cea6191c1092a8d57ff2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.121993' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "b740f32b0631b7bf5ef978d27d95074dae4705f5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "534dedba85b5040db696a72c9016222f7651be5b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "aaaf7bddad9c33e5171051a4f47732cd130d57e7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.159334' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "eb270eedda615578af13b3cfbfdaf13fdb90ed09"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:03.000000', "updated_at" = '2012-06-10 21:52:03.163098' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "c179e8daf094d3cd10e49f1e033c8d6c8dc5ab33"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 14 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5170332bca_10bc63ff419034d449340@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517033aaba_10bc63ff419034d44949b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:03 UTC +00:00], ["url_code", "308e720637db345213a1ccecfbaa71b63806e548"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517033dd0d_10bc63ff419034d4495ed@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "227d81c45093ae7c7b8518520cc14392a6a66280"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "4b61b462e8dabdf89aef1865fa32d674bd72410b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "64ec62e8729649a3c0d7e6ea123db50e0c8f3a1b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "04cdc4ef0359540d7cb4956f2be44273dcc55842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "980714fbff16849cbd2471af845c5ff79af917fb"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "af1abdcd9733069d8af65991fd508fcfd7f0da86"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["link_id", 9], ["url_code", "0902936909601084efc41613c8cffc87727c05a3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["url_code", "d9f52ba18b7a5293d26fd78ffa4ef463358fa880"], ["user_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:19 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "a612907be874b09112bd86872922ef8a002c18a1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "e82fe8f414ec09f58b3329a4542c614cd71dc06f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "42a7d022c3ee7c66a0ed421f2fca3cf3169c49c7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.010452' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "e6fee678af5cd3c889deed7c01db999cadeaa0e9"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "a0efb71c1d65098230a83f15c7b4143252e0e13c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "6b04a5c3438dbd25fc1e9630f3024a99d7d964b4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.053049' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 14], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "57f2408dd694b279c689d71af6b9e00f1180628f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:20.000000', "updated_at" = '2012-06-10 21:52:20.056790' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "0eb74673c62b40e6b4ed003925740b601f424c98"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 15 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517141931c_10bc73ffdde034d34343ed@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51714210a1_10bc73ffdde034d343442b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:20 UTC +00:00], ["url_code", "c67a6c96ed73a209cb7be08054cdccf040d80b61"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:20 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51714245da_10bc73ffdde034d343457e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "5ce8fae3ad8a7b2fd51a6e18e9e879b2eb1a190e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "6add599384cd9cadff781985f468311cc65f47f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "514c7f6bcdb4228bcadcef8eada40b263ba9010a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "64aebc6522879d55a41dc99c6eae48dad39b3e9b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "96c6ecb0a224b6cf167fa6c7ee38f366eae67638"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "6d707c8dd7d52e422e87a3a219b0f8391ec38b5d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["link_id", 10], ["url_code", "c4149750052a8b73e6d6da41053c0c1e5d140687"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:20.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "8366913c02b656cc3378b7be29518854fb3af5d8"], ["user_id", nil]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "24ea91ae08b89aca90b87b3fa8326554ea57ddf6"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "bf86628218a5fb2437088411804f7961e16bd691"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "e4e5d66354d79b700841c8a6684b83689027952c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.683094' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "4b4e5e31a1cadd5871191c5b68784b0715c61a59"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "e0b30fae057f91c9b14bca4b3e4b78123948034b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "aa0cf570617e8a8a15ebf1e733090482c6664f90"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.719266' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 15], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "6a44a45be01755753beb7973e66e9748fe6ba60d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:26.000000', "updated_at" = '2012-06-10 21:52:26.722984' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "8860c5440c662ecf737ff5b27ec0bdb2aff14ec1"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 16 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171abb7fe_10bc83ffd65834d3c5696d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171ac3714_10bc83ffd65834d3c57039@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:26 UTC +00:00], ["url_code", "45dbfa271cb62a6c0a59a96efd8ad5db860566b5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:26 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5171ac6950_10bc83ffd65834d3c5714b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "c63b9afe393b53ca3eac4c981e3999ccc4d76494"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "3090a72f44339c00bbf8aef54ca8bc08c7245ceb"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "907106ff3ab71f3c687b1984b58aff030fd068b0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "c5e759f9a8f373422593eddd75dbbdb30ae37bde"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "34b2bc3c20d5874b5825188f943767bd099250dd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "419badeca2cc31362f5d5f45e854ccbdb3cddc21"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["link_id", 11], ["url_code", "ef635037d03206cd35a49c9c5c9ab9b777931a36"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:26.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "02b8cb836b4fa670b120610e5c2352977b5ee37e"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "604b0e932f4362a29fd9d4f227f7deb38f7d21fe"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "dbb1c84fc0e349d3d647a56eeddb1a370148cbe6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "267315b62782085c8d56ecd520198f9eaa4601a5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.911539' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "0a9c9f5f2b7a37cadc8b8b341bfb72e3e15e4136"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "ee32daaca3327ae24c8ae7b648ffc2b7447952cf"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "0394811998a87f8f49ea589cc45c5be56b5fb530"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.948614' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 16], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "7882548c939e2eea2efc1473c3a5dd082f9a81ab"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:32.000000', "updated_at" = '2012-06-10 21:52:32.952229' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:32 UTC +00:00], ["url_code", "884dca3c42627008e521c146bc23d50565c944b5"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 17 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51720f37fd_10bc93ff194434d40205a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51721720e_10bc93ff194434d40206b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:33 UTC +00:00], ["url_code", "ac785d3a076231475ec3b1843712587a5682da0f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:33 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51721a4de_10bc93ff194434d40207e7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "77ae443bf1e9c3e028132a6c8baf8212ba20cf53"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "1f7343640836acd3ae9d4c026ba38cebbd59c141"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "bc2a6c97d46f55e93cd555c98811f863296c3fcf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "266b0e2de398261219aa8ec3cd6018ac82a4add4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "ae80db1eccaf34e22cfd55e02485f5b940d9f77e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "b7ff04b4896ee9d88cdebd232f7b093039be0016"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["link_id", 12], ["url_code", "5360b6b4327bd0b521d51896468151381cc127ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:33.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "e9218bdd3b0c8dfc588208c53a665a712692aec5"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "794e3f23b785be3a649a57650d4e956599536d30"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "474217ec0e3d456ec704025e34ad9aaf2d35c67c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "37bb3d8680905e3c2033097f6d0129296759e55f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:39.000000', "updated_at" = '2012-06-10 21:52:39.962422' WHERE "email_tracker_email_instances"."id" = 16[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "0395504cef5e73b8f00b78b36e5b438506adb448"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "6b08990e0e8fad2f44404b5f2659d83512a40770"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:39 UTC +00:00], ["url_code", "70ef6e0ce7372fac3debae3d7e1b5e38678c4e37"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:39.000000', "updated_at" = '2012-06-10 21:52:39.998161' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 17], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "05700c7f9f3e6a61312e28378896b57ff9be6cfc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:52:40.000000', "updated_at" = '2012-06-10 21:52:40.002165' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "a594491484cd28ac1683a9497f4903547f22333d"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 18 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (14ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51728c262_10bca3ffad0434d3c635e3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51728148ea_10bca3ffad0434d3c63689@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:52:40 UTC +00:00], ["url_code", "2bd51f6f5131e0c1d28c3ec2bd6f1caf0fd42915"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:52:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5172817dd2_10bca3ffad0434d3c6373b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "631ed409c348b0519cf64faf954d640ee2d79673"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "4d650ae7763456c10381c7d2040df69ac59a35ca"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "85bb200b231045a5de3de368e77949dcc4af7a31"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "8f4d104944f4c4a06b7b19cbed6f91aa3b23f7c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "45d07c99f115a4d036530448e8d29cc25979e5ae"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "c6fb6031aaa7cc84fa894e004b780e70a55380f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["link_id", 13], ["url_code", "43c4a07413c5cc7edc576a7746cb53c7a8b6a399"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:52:40.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (72.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "3b5a8760d98858415d17c14a080348e0e7d36cce"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "89b06030bc2bdc44891f6fa0ceb56c97576431b0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "6e49087a252f82d17309361342eff0c304af538a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "45300f003361b13e05b58a88d88946d489077cc4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.896240' WHERE "email_tracker_email_instances"."id" = 17[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "1d2c0445841f2a102764493e81bbffb6b31857b5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "876ac8eb6b4739b706a6643e99161aa305cbd19e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "6b0343ad646a146439636a4b84a50fba1bdeac75"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.931567' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 18], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "da6aa20049fa601ae3abbde8d13c6f59d9a3aa2f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:30.000000', "updated_at" = '2012-06-10 21:53:30.935277' WHERE "email_tracker_email_instances"."id" = 15
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:30 UTC +00:00], ["url_code", "a295efda6a7621d27d2dab61e20de58b41341346"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 19 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:30 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175aef655_10bcc3ff114434d34109f2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175b31e7_10bcc3ff114434d34110b2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:31 UTC +00:00], ["url_code", "96381be1fd4944b1e1cb8ea61177d5dbeb4dd378"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5175b66e8_10bcc3ff114434d34111dd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d2e81cb2a6074b1386b966e7c2ab5469686f744f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d99e3d60d92d3792ea1c3b79b6dbc827875bd25b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "4ff6604fe461791394b46d675ba19e4c55084c04"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "e6edc66b4760b6edc2b22597c5f4b8cfebefbe83"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "d9e4005394f1d3379c133298b4b3cf7ef29cea99"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "58a259e2338053ab73df8ecec869a7f6ab553ae2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 14], ["link_id", 14], ["url_code", "940a496916bdf80a768fbee97ad6e24d74c086a0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:31.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:36 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:36 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "3bfa8e6cf5c436d810e3ae3c02fa5ebe38abe0c8"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "10aabbfb9c28177592a7f50e185b8d7e649724d7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "88db36fea616ac2e9cc1320c961110040d4ecdb1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "83d73f07fce6b4c279d262a8911596e6b3178b09"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.129280' WHERE "email_tracker_email_instances"."id" = 18[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "9eead6d31c22e04930c17b1daed0ee659451617d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "b79e768a0305af27d4031db1cbd6a78948cb7fca"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "9976b0e4d5031f2a7221c9d9aee4d236aaa7934b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.165060' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 19], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "087364e1cb97e53892facef6861351653b78b0a2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:37.000000', "updated_at" = '2012-06-10 21:53:37.168911' WHERE "email_tracker_email_instances"."id" = 16
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "d370b549a44a99f566e043252d3f784ec01905c8"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 20 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51761342ce_10bcd3fd2d5434d3c3034a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517613c2f2_10bcd3fd2d5434d3c304ae@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:37 UTC +00:00], ["url_code", "ac1cdfc6b1a943e629efb11983573e79d68ce1c4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517613f4e2_10bcd3fd2d5434d3c3059a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "d42eac0feee2f8f79defe8931e5f131c61a11357"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "400515bd754e752ce0b3c5c7809a2938343e86ad"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "20e81b90229bca59cec50a12c87db5a1d198402f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "8faee39ec845df9a7294861bf022bab82126991e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "048ea006e4747b7a58240e6c760ecb288d7c6ff6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "a0b5016b4bc67b6958a6204e475c588807c5f273"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 15], ["link_id", 15], ["url_code", "7b35cf6e73e5b6c050b9c556bbbc9f4dbee6e980"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:37.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "d49fb5b206b85cb13f300c9f0f7645ec528b0ec5"], ["user_id", nil]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "5786041309c3e45fa2e6e52de76ab0da47d458a4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "d5dd385f1c02fee1b31c9c6ed4411ebcaaa2a56c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "569a15a1839e5695ca428d3903da0fe53ecb93a2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.621766' WHERE "email_tracker_email_instances"."id" = 19[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "686227392ba0d49e7e3d5ad8c402c73dc46bce40"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "5fcc1e4063f44692bd418ce0358d87d10ca868da"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "86ed6bf13c571a19315a55aba3bba1dca9d58c62"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.660830' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 20], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "4618d84fbf42e8193176e4204c63709cacce8306"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:53:42.000000', "updated_at" = '2012-06-10 21:53:42.666328' WHERE "email_tracker_email_instances"."id" = 17
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "774b788ff6627c8f74b9ea128d42e36e509bdcf6"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 21 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766adf0a_10bce3fe2a9034d3451455@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766b63d8_10bce3fe2a9034d345155a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:53:42 UTC +00:00], ["url_code", "96271b6a8941c5a8cb8d434c6858105b20baeea8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:53:42 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51766b9ba8_10bce3fe2a9034d345163@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "7f590c017391703511e8a99d5a9dd1f6c93fbe84"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "431787c50b5efb1f979e4df2d345ec7542c6661c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "5318edb54b438da54c9f49be23f1834f6c452a02"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "89bb30afdbb79e7bd60f8e2dc9811c3c4ad89bfc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "556d4d7bb1686ad0aa37589fa5b173b5e14dc691"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "fa4ae0524f03cec1fff622d83d5b88ed3c0a3eff"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 16], ["link_id", 16], ["url_code", "be41a6b6ea380fede90184c0633e5aef467a4694"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:53:42.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "ce627928d40e5d14e97b933d5f1bda239a529b2d"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "a3ea9ee05756250ce0fea40b882a18d863f130db"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "c0236e2b408ca13dfe53dff2a88aa0d2c6c42cc7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "89841a5cf50616275395f7d1f3f8bcd2ec870fad"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:04.000000', "updated_at" = '2012-06-10 21:54:04.960920' WHERE "email_tracker_email_instances"."id" = 20[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "afb43e16a8bedf29218a0cb2c8dddf5fd2b8e977"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "cfde67b20c69f0863781fa9f06e925e5dfc5d2dc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:04 UTC +00:00], ["url_code", "b067aa1450115e53f3abae977949a6d6b61cf3f2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:04.000000', "updated_at" = '2012-06-10 21:54:04.998346' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 21], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "bafc06d984d200b4e6d4558c12a951a20a7b6d26"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:54:05.000000', "updated_at" = '2012-06-10 21:54:05.002074' WHERE "email_tracker_email_instances"."id" = 18
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "c36153ae2283b4d295915653bb52a33d0a71d452"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 22 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177db911_10bcf3fe8f2034d44247a9@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177d13721_10bcf3fe8f2034d442489@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:54:05 UTC +00:00], ["url_code", "a4de12c677300ae304e0827730864187e1646695"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:54:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5177d16bd6_10bcf3fe8f2034d44249f8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "eac9c48af30ad35bec8315d09ccf6a080fe96241"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "279c72adb4cee5bb743d80655fecc39efe8b2f83"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "0fc5abbcffdbbe1ee562155bf43bb47758165ee4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "c8b01ff5f066e0867f757ed7098a6925b00f0a87"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "05908e1c08396718f5b23e83b576fc241052efc5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "96f050e483c5dd157bbe1c4faf65855c5bec0d61"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 17], ["link_id", 17], ["url_code", "28cd08795e3302c39a56e9c5af0a775a49f2c045"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:54:05.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "427fadfd8ba034cef3492b97d1eeeeccc1c066c3"], ["user_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (71.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "22e015396e96f0812f292591dc2184502a0e35ca"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "4f24ca76e7fad10f65d783af3796b97b039644e7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "d5feb67cd1c81fe71ce8ee15a4ca22651f24f196"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.437795' WHERE "email_tracker_email_instances"."id" = 21[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (20.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "afa7c78ed19559b2c3f9efe28b10c7888df404f3"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "fdc20ec162de41ea832107e005cd7c0b31e19161"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "1941ff5042f648a317176b22442df2329c93f12e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.479026' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 22], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "aac2d2967e8882fd17428a51df54c4d0773f8205"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:01.000000', "updated_at" = '2012-06-10 21:55:01.492879' WHERE "email_tracker_email_instances"."id" = 19
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:01 UTC +00:00], ["url_code", "d4316ac414d3f89ede54d64ab8c552e9ae679a0a"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 23 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "8d4352e3adcb5553b93f723df861169bb00a9049"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "65e1daece0b0cad2602bcc0040b00e9d49babf86"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "5dd78fe028493ac98ef1ed416a3ffcdd19ba41f4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "60adf5db30c946d29c9f3dbd6f70d68151a1b139"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "8e29a35b9d889df494fd626ad46670d25bb5d8c1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "eb9aea3fd076a386001e0f043bd9d9a4077e54a5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 18], ["link_id", 18], ["url_code", "a5da758e8c347d7769de2b8e349d652b0d0957fe"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:01.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:09 UTC +00:00]]
  [1m[36m (233.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "f76666d3f7909ad4c35c650161038fe35b327aee"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (24.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "cec3ba43f5e5f119113be372faca0baa57ed94d0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "64a32e1302f0e4070bd6a293245e5d75450c31d6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "fe1798debb4ff037b13dd22751f68cc5a596107b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.356280' WHERE "email_tracker_email_instances"."id" = 22[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "ab183c3d72071dea12b1400eefc62ac0eb3b1b49"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "53e3c49d1fe4247f1372f4268d31ae095a13ae9b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "75156f44206569af46ebf89a7862e1dfaa2237ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.369998' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 23], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "67ef61892b178147105895d143bfa6d4b4cc0500"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:55:10.000000', "updated_at" = '2012-06-10 21:55:10.374732' WHERE "email_tracker_email_instances"."id" = 20
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "f18341ba3c8aa1561caf70ffbec8bc42a2dba33a"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 24 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be6d40f_10bd33ff3ad434d3460610@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be6fcfd_10bd33ff3ad434d34607f4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:55:10 UTC +00:00], ["url_code", "807a620618ce7c76eadf6aa7c249291dedc9aa0c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:55:10 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517be731dc_10bd33ff3ad434d34608b3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/807a620618ce7c76eadf6aa7c249291dedc9aa0c.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "ec8bc32bd9cd8636204bde95f86cdec1d92dfb3e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "c97e79f16616a1cff83128044c8b6c419ac0c7ca"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "bd82838c12f770dda83f4514ae7226bd397b2ec6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "d30853009d0eec69e8a5d84633117ad8db817775"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "ac61caa1567301b16d960ec913abc2e550a27f0f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "b3a98edf3be5a3bc39cffadbb4f65eaa541d88fd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 19], ["link_id", 19], ["url_code", "54855362d10128094e62d20bf8548e828ba2ea56"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:55:10.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "6e1c0dac5f58ee569e223f1763c4a294c2697f3a"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (26.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "b403c90699a8256d2ebb8cae3c9bc8dba6ff41b3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "1f3e10139413a7e74779aa092fa63b437cf03ecc"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "8b3cf719bcacf14c24c073e53877f47c0f5febde"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.458120' WHERE "email_tracker_email_instances"."id" = 23[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (6.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "1a5288a1e0125630fd0a891b73d6c14cbccd5367"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "8ae101fa27e5b5719e28f5f29c08704bdba08525"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "d6be10fbf5a2fbde5183cdd506b4e164f1ec166d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.476798' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 24], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "e8023f4c1c77ecbc65781a2013b5973c2ac559d6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:56:03.000000', "updated_at" = '2012-06-10 21:56:03.480726' WHERE "email_tracker_email_instances"."id" = 21
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "5fe3a6e5fcda89fb5154dd5f0c5b5bbe676777d3"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 25 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (34ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f38ead4_10bd63fcb76034d38486a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f39165d_10bd63fcb76034d3849c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:56:03 UTC +00:00], ["url_code", "e487e3fe058298079ac74ca11e0b6692f959e8b4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:56:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd517f394c6c_10bd63fcb76034d385012@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/e487e3fe058298079ac74ca11e0b6692f959e8b4.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "cd141c6583878fc52072643d3bd2ad1947656f8c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "0e5041984bf978158435374db2b240d78848038a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "51bbdc5024d067ef32bb90b764d1cc811f4b6a16"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "4111e481856b4220dcbe6e595a8c7a8e98f2de89"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "eaa98919ef1d4f40c0a41ce9cb2642a444c26a3b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "2519c84f5b10ac0d3cbd266146aca4b3e69dcdab"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 20], ["link_id", 20], ["url_code", "d29e9e4db68a1e976fe8b0dea01949bb93f7a481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:56:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "d30b0185543717ada08fffe03468ffe1a7f4e934"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "6223c1812c9cc83298387238275f55184c7f4d71"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "a38f97212de8b6a1044796017f343bc6a462f54e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "5442af571df6ed9692a0fb6189d523d10d3cbfc5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:11.000000', "updated_at" = '2012-06-10 21:58:11.826295' WHERE "email_tracker_email_instances"."id" = 24[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (11.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "757a4d18e1512a6948b62551efa7b1e4793138de"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (57.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "e703d950fd3483c8be9b5a0cee8080e9e85e50f4"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:11 UTC +00:00], ["url_code", "a1520a7417d4db123d69452e7be25fc31a81858c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:11.000000', "updated_at" = '2012-06-10 21:58:11.923605' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (116.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 25], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "a84b6c69cde279b93335ce6d7313c24e09f5df76"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 21:58:12.000000', "updated_at" = '2012-06-10 21:58:12.047687' WHERE "email_tracker_email_instances"."id" = 22
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (45.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "cf85103acf528a5b414e0e85f057fef1ace7b359"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 26 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.1ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5187432ed9_10bd93fd81d834d40455e4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd518743581d_10bd93fd81d834d4045612@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 21:58:12 UTC +00:00], ["url_code", "bb851558aa935d3ef417b9ffa4e29130b2eaf8cc"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 22:58:12 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5187438b02_10bd93fd81d834d40457cd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://www.meducation.net/et_open/bb851558aa935d3ef417b9ffa4e29130b2eaf8cc.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "c648282c6a61ccb03df4a6cc48ed402be3a7233c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "d08771677ced83f5691f686248ed1d25fd64324c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "ca8e64e3933a1e3b766e0b5633f199a60e5961d9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "f53246da5b41fd0b5274ba092b2c7aec82ba2be4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "3e4b4e8a2a766f7ee1e8c242bbf8e84dcff10397"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "db1b80bd38150d4470b721b36e555222bdb40fd0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 21], ["link_id", 21], ["url_code", "bed495da059762027a44aa692c6fe5a1a2d41fb6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 21:58:12.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (45.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "347eb75f5b41faad5e4117763c92712638eadbf4"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "4fd2f5a6fb38a033cd9016290878ef883f211912"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "0aeedbb8e11ad70d80018fde6ae252d77015266e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "3b0afdec53b3e3ef96970ab8a632b4cadbabeb6d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.735632' WHERE "email_tracker_email_instances"."id" = 25[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "cf63dfcc67930299f8ea62d1fee58a54b46dbd6e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "ef739aa383224c914633be12c81bc6e53719979d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "7cc9ad624e0017594768420533a5d8b19e547503"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.748298' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 26], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "9e30845fe92303ebd50c51444fc8716384ae6723"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:00:35.000000', "updated_at" = '2012-06-10 22:00:35.751940' WHERE "email_tracker_email_instances"."id" = 23
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "910bdc82f8a92ff7c2db188b088ead17611c1e15"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (34ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903c8835_10bdb3fc29a034d407058a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903caffb_10bdb3fc29a034d4070662@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:00:35 UTC +00:00], ["url_code", "7195aa46897de85ba5dd3d0964bcbf187538ee61"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:00:35 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51903ce155_10bdb3fc29a034d40707b1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7195aa46897de85ba5dd3d0964bcbf187538ee61.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "ad81a17c30f5fc3c70fdb36b86f0f2c9052d8fa6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "e877896407b8a8b866c67138273a0c1ee08261e3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "14f87666f5d07e13a38659beeb5a6657b2e00052"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "2ee04cdbb79dd88176ae9dd816106a07741cef87"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "8df8cd301beeea8877d914be14e25f428235221d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "a013359b9739f1543b0ff7d65ca3ea809b488a4b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 22], ["link_id", 22], ["url_code", "9fbcb96c8bff49b61e92554c3bd7da5e5086fae0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:00:35.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["url_code", "cce1a68e31822cec0edf151bfa533403ce59dd0f"], ["user_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:02 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "11aff46dafdb9e09428a751b9bdc894206382446"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "634d03e05ea0da605ae15eec9f9ff965ba562ad9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "d600049697e9aeeda13092d40ff519723eff1d08"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.016378' WHERE "email_tracker_email_instances"."id" = 26[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "f1ecac5c4843948efd37c0981b9b32bb0fc02c7b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "fc7eeccffd52bd569c23324d4d0ff2add73a4a54"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "16c8c5e1115576b4ed856b8eeeaf76d0ff4b15fe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.030442' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 27], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "b07e1f997c451348130566acdf2ddb4a25e7a9c1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:03.000000', "updated_at" = '2012-06-10 22:01:03.034436' WHERE "email_tracker_email_instances"."id" = 24
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "630268ea09554355a744336b8e1e8371a407037c"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 28 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.1ms)

Sent mail to jez.walker@gmail.com (37ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f1aece_10bdd3fc295434d3c20332@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f1d95a_10bdd3fc295434d3c204c8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:03 UTC +00:00], ["url_code", "2d05df5b82b69478859ce2c851101ff8893a6c8b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5191f20ef8_10bdd3fc295434d3c2052c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/2d05df5b82b69478859ce2c851101ff8893a6c8b.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (21.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "1f6602cb8de6a598034575bd4b3d130a6d9dae09"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "9a54beb1dc041b9cc24e6c1fe0bd1a8f583a70de"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "6d95020e251fce6de9622e87ac89b495b6f09597"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "6b97be7a107c43252552d5a6a31b08c4911591cd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "7a5682b90f8a2e2c14cfc275cd8c052e5919a28b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "b0b388e5af5dccbbbf87d4341aa3300313de45ba"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 23], ["link_id", 23], ["url_code", "b4ffb9a9f50b8f2cf58e7d8b297d4bc17f3f8866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "df8f0d4d1ea4d2e25b207a24e7a7aa58db594e43"], ["user_id", nil]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "1c666a12b5a49ce4354f96efd9fd5a3a1bf5d17a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "dda3a873c69f593c673b093c5b755b66c720e8fa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "30b53e6535479435a5b6ff09f7bbb0ff3817eaf0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.665324' WHERE "email_tracker_email_instances"."id" = 27[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "e08c9cae1c9bad3e9eb7a13287411650f999cf3d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "4d28150bd23f604da4045a9c363a79190a14cd04"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "a138cf5cad0d0ea82dbbb5134271fa67bfe9d7ac"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.677961' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 28], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "a58fc8fd8f6e0445f6218b9f6de2ad3559a97f72"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:09.000000', "updated_at" = '2012-06-10 22:01:09.681571' WHERE "email_tracker_email_instances"."id" = 25
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "eca4d5088d0b2b2b5d0a3b4267c49260785491af"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 29 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925b76cd_10bde3ffb41434d3453961@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925ba020_10bde3ffb41434d3454073@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:09 UTC +00:00], ["url_code", "22a139bbbec330bfc61fb2aa30107bcdb43ec0c5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:09 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51925bd4f3_10bde3ffb41434d34541a4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/22a139bbbec330bfc61fb2aa30107bcdb43ec0c5.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "f6b8bbd0025d3aa9b05de0b480cd7d66580d9c17"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "30849649a30048341b21323814aeeabad05c6d68"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "0b9d0220edae0b48d6d06feb5684ae5a84b57c8a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "e3065105fec3419eb8d6cebf35f02784bc67cce7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "e0ba05f980a6202106543ba1db9243565e2a0b20"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "c620240094eaf5bec43083d03e6f9e11155c45b4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 24], ["link_id", 24], ["url_code", "3b6a30e773b7c007912affefeb2e0070156e5175"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:09.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "65a07cc6eb3cea864272453947fe98f9e91e926e"], ["user_id", nil]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "6fdb1c148aaa0e6a8b40cf072c6e35787936aa7f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "51f1dde770adb72e6a3e37f6171ebd74dcc5cdf8"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:28 UTC +00:00], ["url_code", "756401b8f455c0ab0aefa5f4c59e7e77056ebb48"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:28.000000', "updated_at" = '2012-06-10 22:01:28.998500' WHERE "email_tracker_email_instances"."id" = 28[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (11.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "806741df5b5c842371dde8eb74e6d59f6300a3cc"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "c79ddded17c47aa63cd708811303b96f6a776358"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "165d558c3de5a3a35fd473551a0d040538c0502f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:29.000000', "updated_at" = '2012-06-10 22:01:29.026706' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 29], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "20b3fd3a30dd318a569427d61b7cf53b0fd2925e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:01:29.000000', "updated_at" = '2012-06-10 22:01:29.030800' WHERE "email_tracker_email_instances"."id" = 26
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "e489f303ec9fbe647584ada03ba3ed6a926be849"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 30 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (35ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd5193918d60_10bdf3fd64e034d3c867be@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519391b80e_10bdf3fd64e034d3c8683e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.0ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:01:29 UTC +00:00], ["url_code", "fe7e77982f2dd79e2b1130246ed999ca6eaea41e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:01:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519391ed43_10bdf3fd64e034d3c869e6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/fe7e77982f2dd79e2b1130246ed999ca6eaea41e.gif" alt=""/>
        Hi Jeremy Walker
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "f6b66397cb348787be31d90e7cc011a12b6dcb2b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "e3d6df56b0c9275dccfbbe90940e31ef0439d158"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "028cd077af33f6d8ec8d76962e68f894b7be8ed0"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "330055571e27186fe014d63a5f6b478eda10a7f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "1d6b20de0e45eb91dbee85428879c1ab5c6b2540"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "95be80a082af6c0387a7326d9321ecbf2262fe5c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 25], ["link_id", 25], ["url_code", "e9f2da84bd6c7f4faa6d03441747e119e50be109"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:01:29.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["url_code", "460e8c598cfb1cc7bdd7ddc7dfc45ff82f504107"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:03:38 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "88e48376720fdcb9098dc57bb81d8e41c38b3c3f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "9130d0aa2bece8ce6645e8bf5fc3dcd1316b4f43"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "2480ee64960a3634ff6828e9423d43f4fde9ce36"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.078062' WHERE "email_tracker_email_instances"."id" = 29[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "b0e1d18ba6c35e8bd3a16697e5c936c4a003939a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "a683d5e2ee4c76adbcca7296b1eb64e52dfe91ba"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "1d406d8ac18377bf853bb77558caac09e60d1c67"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.091086' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 30], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "a59493a4f6a510569f2e35c43228a29839a2b3ed"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:03:39.000000', "updated_at" = '2012-06-10 22:03:39.094765' WHERE "email_tracker_email_instances"."id" = 27
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "fc44e5d5ce182f411f3fd8f48c85fc8ef1dbe50d"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 31 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.8ms)

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb29516_10be13ffdc4434d4054a2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb2bc82_10be13ffdc4434d40554@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:03:39 UTC +00:00], ["url_code", "d2ca3c774827eb3ff4d1f531b91e4b0c1174a87d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:03:39 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519bb2fc34_10be13ffdc4434d40565a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d2ca3c774827eb3ff4d1f531b91e4b0c1174a87d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "45825689141441470be1ee97653a08ff595ca6a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "047d58ac196388a574fb4edf106419e04f93843f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "38fa55dff5b740e194b011fd4fcd7d9fb2ffbc93"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "ddd4a429d609199b1cb122897ab685bf5621a5b7"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "a5d549f2e044e3058523e0cc9f7970abb699e667"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "e6d704d3c51c62468c6e742dc0aba2340b9e3c35"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 26], ["link_id", 26], ["url_code", "97bc03deca070848527de4a8245a51468341ab92"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:03:39.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "8b7713c39be9f951803dca243775407e4359ef8f"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "38dbc1c6fd4df0cf2a544ceca46c6e83936f20af"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "eb36b3cbc5ec5f27a6f0d1e56de3ef1d7491e3d4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "d023be068b9ee3018ff090ebc22219fff42457d5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.895316' WHERE "email_tracker_email_instances"."id" = 30[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "f8c3984db299b4a28705d8777aa0e29a6e276820"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "fae1c1f7275244f0f7230d6783486cae0f4989a1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "782b7c6d81dcffc6a286d29fd49aa2a4ea5ace30"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.908814' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 31], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "1ad13bce250ec952619d700d95b00b562cb4ebfa"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:04.000000', "updated_at" = '2012-06-10 22:04:04.912396' WHERE "email_tracker_email_instances"."id" = 28
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:04 UTC +00:00], ["url_code", "650f121d36bfd7d1210b264730ba04d80209af2c"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 32 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (23.3ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:04:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d4f0c75_10be23fe6ad434d3c8230@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d4f3733_10be23fe6ad434d3c824b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["url_code", "9e8e4ac95ead87b8272b430efc3838015ebee554"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d532ac_10be23fe6ad434d3c825f3@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/9e8e4ac95ead87b8272b430efc3838015ebee554.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:05 UTC +00:00], ["url_code", "d9c420a03839607616a8551bf8c4196cd81b8f37"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:04:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519d568cd_10be23fe6ad434d3c826a0@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d9c420a03839607616a8551bf8c4196cd81b8f37.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "b0087e1fec2e628f511a856941dea0d9dfa48201"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "bafebdea8ee4ac8c67ec6e052cf2ba62be9f9796"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "bcecf8c9c0fae86795a0e2a0fba20a9cfe2cf512"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "76e46e4e8933eab6f0ceaa9f217787d5fe360091"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "529b28eda8ae3fffcac48556faa5c36935c4a32d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "5902e69752e20c9d069c13c6f9792e1c78706d52"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 27], ["link_id", 27], ["url_code", "0c5550688e41892d2d71ac42eed6ea32b13a3f65"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:05.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "10916397185dcf61a368e86b6eafda787ea4d12a"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "2ff732af005cbe14a9a601e135ae8d39f558a98c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "de89e93db088dd5bb4308963493aa048b4e78b4c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "b8ba6c0c1ff4432d1e59f1bdfb2345cdc2b260a0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.817594' WHERE "email_tracker_email_instances"."id" = 31[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (22.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "2740f249b02abbd73b0ebf8967cefe85286c796a"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "d0258dba98b78227ae61b138ab0dd5599ae0d7cb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "242b5ce0933be448387c324e37d353d7d131ee3a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.857252' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 32], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "07f24069f9e498772499d224a5f7d3d53752bb07"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:29.000000', "updated_at" = '2012-06-10 22:04:29.861257' WHERE "email_tracker_email_instances"."id" = 29
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "0f05973113e0d8ee338caa5ba4e030a1d49ae4af"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 33 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (24.4ms)

Sent mail to jez.walker@gmail.com (13ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519ede3c2c_10be33fe74d034d401069d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519ede696c_10be33fe74d034d4010789@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "c69f4641ea747fab9591695e45d0ec2bb81f7019"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519edeaa65_10be33fe74d034d40108f4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c69f4641ea747fab9591695e45d0ec2bb81f7019.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:29 UTC +00:00], ["url_code", "a0645d9fbaf4c63038354292d6df48a8a1ce2a5c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:29 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519edef574_10be33fe74d034d4010942@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/a0645d9fbaf4c63038354292d6df48a8a1ce2a5c.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "cf583a0ea153772feaa79da31338f16fe8b860dc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "230b6176f5774f801a2e678aa382c4940aeade60"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "fc84ff6840ee5b138ccf766bdfe4537e90a1f4b9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:29.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "d6716b847312c7f24eda89fdc1f50dbf86db8d4f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "104b2661d33486bf8f0119dad4e5c48ff4e059a5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "b1cac12ad40657c8777e8ed7a37351df591eff60"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:30.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 28], ["link_id", 28], ["url_code", "f976f391837d1712c81c052ad548284f0029f657"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:30.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "7edeb5aef9441b524c982c449501435c58d1e781"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "21a232b273985439293811d41e5bb62681ccb5b0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "fe3b6100b49de89da3856b9e302e1d9dc2bad4cf"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "ccc2b49ddc9afaf639d2efded2f759a2fedbf0cd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.699730' WHERE "email_tracker_email_instances"."id" = 32[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "13524b5674ad89a62f5fd12a249bb1dc2cf18091"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "ab783fb29b045e11b42872ee8a63a07929ba2254"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "7c6f6657dd16e6da3c50e6d553f82b778d63dd2e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.713491' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 33], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "1e3258124d1e5129099db5e59d9af234f28592a4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:04:40.000000', "updated_at" = '2012-06-10 22:04:40.717182' WHERE "email_tracker_email_instances"."id" = 30
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "2f1232c0e3e98b9c17eb9614bcb11ca730519979"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 34 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (22.9ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c075b_10be43fe1bdc34d38674c1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c317d_10be43fe1bdc34d38675a7@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "bddf978417b64df34d16c98450ce856818e51ee3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8c7087_10be43fe1bdc34d386761d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/bddf978417b64df34d16c98450ce856818e51ee3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:04:40 UTC +00:00], ["url_code", "6a182943cca1acfe0a85379c2d17207f745f4ded"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:04:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd519f8ca77b_10be43fe1bdc34d386779c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6a182943cca1acfe0a85379c2d17207f745f4ded.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "74c370303a54084319ec37b5e7d508a355fe3434"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "f1b0d0ae8e7606a8549f6fd90d01c0d559075e32"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "aa016b33ad6c83b51009b17fb1870b94bf882733"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "5fae8a8690ce9f420e7dc4ee6a35d03dfa34245b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "86280eebc7565ad6e2626863e2caa03ef1052d02"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "0219380ff2a58d53af7648d502055de48a49d63a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 29], ["link_id", 29], ["url_code", "fe7e233799cabe31c05bfcbecc322a55dc9da18b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:04:40.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (28.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "b0b1757e9d48777dfae87cadfb4c5abc710c125c"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "56ffcf004487db858028542fdc6d089f9a061044"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "45b6a67be4033584a2693792938a8c7acfe81661"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "c667fd8517bf1b24d82366de9196dee351468832"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.553188' WHERE "email_tracker_email_instances"."id" = 33[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "53a8cedc6f316f1d4da7fa30a5f68803f85d6b9a"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "a906d56cedeb6aed7785ac6a2f8b08476e2ba4f7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "b3157bf7e1cc1474b775076801169018794aecbe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.566174' WHERE "email_tracker_email_instances"."id" = 32
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 34], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "3a2c8e25435be701710c8d46bb5d6922c94c27ea"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:06:54.000000', "updated_at" = '2012-06-10 22:06:54.569988' WHERE "email_tracker_email_instances"."id" = 31
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "72185a57a86d64703abc4434d8c93449d340bec3"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 35 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7e9d5a7_10be63fc135434d343927@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7e9fe5c_10be63fc135434d3439367@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "07440136a31f9d2feb5f8098591f9c070ec8c187"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7ea5940_10be63fc135434d3439494@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/07440136a31f9d2feb5f8098591f9c070ec8c187.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 35], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:06:54 UTC +00:00], ["url_code", "384f1f7d852abe3ca0bd6c49e119faced2269649"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:06:54 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51a7ea9950_10be63fc135434d343951a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/384f1f7d852abe3ca0bd6c49e119faced2269649.gif" alt=""/>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "abeb091c29fb290ab6273845a1a5a76c11e20c16"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "3c3827840f4ec5e83ee5c650536b969aac510ec9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "72a905cb42cb30c7a23488e2a2d8c157dcfb04db"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "df84187bdc4b604754a0fb645cc1ab88d10a3ef1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "cb26f4b9d2c323792e771a7a5c0f061298c264a8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "3db71cd21538ade49f9713bcc7b979bb8c6b6d11"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "link_id", "url_code") VALUES (?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 30], ["link_id", 30], ["url_code", "7b350747663f894d7e0c13e508887972f6e5e3c2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:06:54.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateEmailTrackerEmails (20120610201855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "mailer" varchar(255) NOT NULL, "action" varchar(255) NOT NULL, "owner_type" varchar(255), "owner_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610201855')
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerEmailInstances (20120610202021)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_email_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email_id" integer NOT NULL, "email_address" varchar(255) NOT NULL, "url_code" varchar(255) NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "opened_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202021')
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinks (20120610202122)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "email_tracker_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar(255) NOT NULL, "num_clicks" integer DEFAULT 0 NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202122')
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateEmailTrackerLinkInstances (20120610202149)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "email_tracker_link_instances" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "link_id" integer NOT NULL, "email_instance_id" integer NOT NULL, "url_code" varchar(255) NOT NULL, "is_externally_viewable" boolean DEFAULT 'f' NOT NULL, "clicked_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610202149')
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreateSubscriptions (20120610205858)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120610205858')
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_email_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_emails")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("email_tracker_link_instances")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("email_tracker_links")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subscriptions")
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (38.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "3addaba50ec05a14aa1ec678c6b660a4dc46edcf"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "1966cd2866c2e226a1db6b40de57d4bd5a3f48de"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "e88235523fe39214d473b248921f56971aa4945d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "c33e190b359dd2825230a56e2b89d3f85456030c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.539387' WHERE "email_tracker_email_instances"."id" = 4[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "9627921e3d06b1907c1b96cacb3bb02178eeb19f"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "21e38a40e39b6f88cc87ed2fb4214b260537a21f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "ace91c47863dd6ea86293a3b196e89522d173037"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.551941' WHERE "email_tracker_email_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 1], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "af9d7662d0be126c4b1340c6a0f656215dc3476b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:07:34.000000', "updated_at" = '2012-06-10 22:07:34.555790' WHERE "email_tracker_email_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "68881d7e355374eba86bffcba9f7cdd7218c6a49"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa698e79_10bea3fe324834d389439e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa69b706_10bea3fe324834d38944c6@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "abecb1e6de0cb8a617fb2f3f149d34571a46ca67"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a6dc0acc116db6c0d2b6b406d733b34e1cb0d0cc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", true], ["link_id", 2], ["url_code", "3eaae527d54a3aa0cafecfe394bf84ee91db8ac3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa6a2595_10bea3fe324834d38945da@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/abecb1e6de0cb8a617fb2f3f149d34571a46ca67.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a6dc0acc116db6c0d2b6b406d733b34e1cb0d0cc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3eaae527d54a3aa0cafecfe394bf84ee91db8ac3">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url_code", "7b90c00555cc52ba5cb97f81e91c2b673757f755"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "cd8be8796d8548daff6636a555980f30c8598353"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:07:34 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 2], ["is_externally_viewable", true], ["link_id", 2], ["url_code", "156c027f596bed802d9453efca9999371605d497"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:07:34 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51aa6a6d8f_10bea3fe324834d389467d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7b90c00555cc52ba5cb97f81e91c2b673757f755.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/cd8be8796d8548daff6636a555980f30c8598353">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/156c027f596bed802d9453efca9999371605d497">An external link</a>
    </body>
</html>
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fcf8da00beb2ab88fb9e06d9acb3cafcf29ab8b4"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a7cbc024f42bc80ba9d59ad27df0a76e9248c0e1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "658e2622d813179fb509c29a1307d481211efb41"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "639a573b34b85ca7fc4fcf385f26b7d473ab2c9b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "faa0f482b984b7bb17e4211dddfed98f558edf3f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "151dec07d8beea59593631c025ccf62c94ad913c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 1], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "150c59c8346814ad8819cc5e5aad222940b7d6cd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:07:34.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 2], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["url_code", "9587331ef92b9a5c1e59e1bd06455f643986d52c"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:22 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "363d4b69850c5a67d99cc717e160962bc8577e95"], ["user_id", nil]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "28737d426d0755b0c01b0cf420b77018db2c8b85"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "55703a387fe8099cdf1aba1fc27a3e511c8fe1a5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "5bf543fb889c81b6150d22cc317f9e2169a3f31f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.800771' WHERE "email_tracker_email_instances"."id" = 6[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "4cc69a084306d3fbfd417c19073f3138f242cb90"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "0e7c0290a419613c87ca651ae171580fd513e3ad"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "73a193dfe61eae7f0c3c9888d90573bddabfabdf"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.825132' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 3], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "06554e6472760283bb8f46155a9d9f17666030e5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:31.000000', "updated_at" = '2012-06-10 22:10:31.830077' WHERE "email_tracker_email_instances"."id" = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "94ec5515ecbfa555b457d3085949c344b9111bd7"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57e4da6_10bec3fc929c34d44694c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57e7731_10bec3fc929c34d44704c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url_code", "d92599ca9067fd7dca27fbcef153067494a097fd"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "0a9d0d7b5b6193812fb74a15502b3200aa1c281f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:31 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "a2460ac39d03a660ea3d51e5a118c8ac1ca04856"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:31 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b57eefd7_10bec3fc929c34d4471f5@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/d92599ca9067fd7dca27fbcef153067494a097fd.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/0a9d0d7b5b6193812fb74a15502b3200aa1c281f">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/a2460ac39d03a660ea3d51e5a118c8ac1ca04856">An external link</a>
    </body>
</html>
  [1m[36m (29.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url_code", "cf8ae1a373d369f541b2ad4c18c2e7a03c1c09eb"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "5ab8ae3fbde7b9ad00075394722113b6ac80ea8e"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "22cfbb6ac73894056e6f300c4e2313a3c6951494"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:32 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b5878b4_10bec3fc929c34d44723c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/cf8ae1a373d369f541b2ad4c18c2e7a03c1c09eb.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/5ab8ae3fbde7b9ad00075394722113b6ac80ea8e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22cfbb6ac73894056e6f300c4e2313a3c6951494">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url_code", "557a1dcd01eb5e89b0080f282a908e7e64766651"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a8c5ff76ff3295a52cf0c6aef7129a7021fa529a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:32 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", true], ["link_id", 4], ["url_code", "3b8149bd46d20be6231744356b5f5269977634da"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:32 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b58bed2_10bec3fc929c34d44731c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/557a1dcd01eb5e89b0080f282a908e7e64766651.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a8c5ff76ff3295a52cf0c6aef7129a7021fa529a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3b8149bd46d20be6231744356b5f5269977634da">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "df08378963e1522b94a75ab35f5f90a283567040"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "6df2dec38c91f2815c1d53b51822cab4ab518b5d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "648d5e70bb6e0f20a8223fa1432328bf3858f309"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "9ae610775e35b3c302687bf6ab9f943dd5b2d31d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "3f7c5e84c55207e9ad944d32e2f38ac1d31b88fa"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "852f9251c8a45e3ebddea714703fdde9fcd7b786"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 3], ["is_externally_viewable", false], ["link_id", 3], ["url_code", "cebec86269763f894460990bdcb47b7a2c9d3bd8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:32.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:39 UTC +00:00], ["url_code", "d6dff9e47dd4870f541eec999fbf8a54244eb795"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "e93be7d281e3c32c9ca643424ac04e1148db1eb2"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "78ba0c9d849de3398d31bcd5a49abcaaa75dab3d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "887f01ebceb2e1e92ab42aa37d90d3bf43b69e36"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.135917' WHERE "email_tracker_email_instances"."id" = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "659ab35dcfa4aa1d54c9741928650009bdaf4bfd"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "ca452a44b8cfe1b3b87b59b0e61701ab58a7ef56"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "02939722459596ea3d113eb9d71b859bf1613e47"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.161253' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 4], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "b2663f4c228e434e4bb84b0e0201d653acf46730"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:40.000000', "updated_at" = '2012-06-10 22:10:40.164770' WHERE "email_tracker_email_instances"."id" = 5
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "a6e6b426f54c0c03ee43edabd7e4d1541cfbd95e"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 5 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b60395fa_10bed3fcc25834d4420231@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b603c0dc_10bed3fcc25834d44203bd@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "8164a7020bfe78a0dda3b55a3e3a597237a4b60d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d9e10e3a1ae6e549cb4e7e3563b4402328d2d08a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "f42c777c04733b445855993c9f65bcd267840a85"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6042f20_10bed3fcc25834d4420442@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8164a7020bfe78a0dda3b55a3e3a597237a4b60d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d9e10e3a1ae6e549cb4e7e3563b4402328d2d08a">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/f42c777c04733b445855993c9f65bcd267840a85">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "59d8a076ca822882341ce8a7d2e56213085790a4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d1cb8c09bb9121b64520456b3d27a3ea26778494"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "a2635d6d9380549488a0d42a35e2d384634e19b9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b60476ea_10bed3fcc25834d4420577@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/59d8a076ca822882341ce8a7d2e56213085790a4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d1cb8c09bb9121b64520456b3d27a3ea26778494">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/a2635d6d9380549488a0d42a35e2d384634e19b9">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url_code", "8e1dd4dd73a7c43d0b808adfded850aed9c32f85"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "1f3986958b878ce390b745798cdabd20fcf675b2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:40 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", true], ["link_id", 5], ["url_code", "2b6d69dec5122f6e2be63ed37858c6dc826461a8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:40 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b604bb67_10bed3fcc25834d442061c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8e1dd4dd73a7c43d0b808adfded850aed9c32f85.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/1f3986958b878ce390b745798cdabd20fcf675b2">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/2b6d69dec5122f6e2be63ed37858c6dc826461a8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "70244ab4e0a82e97fdfe725cd9fb2679ac666aac"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "2c3840c60da5b9f7b8b0d67e28f917f6632da061"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "8e459fd0a7df57118ce6b32807c42408089f0c7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "1b3ccf3e4819aff71f77c312ef7acc8115efd53a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "79b33dda62299bf6bd4746776db7c1aca0bf334c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "6dbee34ec6637906ba5687a4d98b8270b6c12d6a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 4], ["is_externally_viewable", false], ["link_id", 4], ["url_code", "9bde4bcd122847101d6353470075ba353f39c222"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:40.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mEmailTracker::Link Load (0.2ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."is_externally_viewable" = 'f'[0m
SQLite3::SQLException: no such column: email_tracker_links.is_externally_viewable: SELECT "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."is_externally_viewable" = 'f'
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["url_code", "2f085a465333262b7cd4e7b6bd6c7c366a6805e8"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:49 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "5735fbff59ae0be1bd3f5229ee8d340e29ca9a57"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "1e495b7968ba3716653e8c5b45bc2e5266fe9352"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "1fc5f71790967c85e80bb7f198b8852d2f06d4c7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.027757' WHERE "email_tracker_email_instances"."id" = 8[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (13.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "8d5bd27a5bf8b9d2ec2724d50c6ea9b71fbf2599"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "ed48f97e81f6d42e0de789111b5e79c8de8b1802"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "9d9f00b516b24b40895a42a02bfe3f7fbe59ffbe"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.055860' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 5], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "3ed000bf88b5c47439db8a0f4b201f8a2911fd46"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:10:50.000000', "updated_at" = '2012-06-10 22:10:50.059840' WHERE "email_tracker_email_instances"."id" = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "98b21ceb951405a2d3aec401f8e2874bb9845caa"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 6 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a200ad_10bee3feaa0c34d3816967@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a229bc_10bee3feaa0c34d38170fb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "e9abe61f5a25d92e5435ae275d6968fe1ef1e487"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a6bd3722e8f1cb65ad431b2bbf07117fb43ab6df"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "ee39065dd98b72adc6d64dab2a70e649dd218f7c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a29f73_10bee3feaa0c34d381711e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e9abe61f5a25d92e5435ae275d6968fe1ef1e487.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a6bd3722e8f1cb65ad431b2bbf07117fb43ab6df">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/ee39065dd98b72adc6d64dab2a70e649dd218f7c">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "387b45a292ba244389b54fda0a20e44690c66748"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "76221aac90effd41e7576cce6c30891e6c5f78e4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "3ced5652e2bc73a096a8233a6f8d74bf9bfa33e9"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a2e274_10bee3feaa0c34d3817260@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/387b45a292ba244389b54fda0a20e44690c66748.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/76221aac90effd41e7576cce6c30891e6c5f78e4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3ced5652e2bc73a096a8233a6f8d74bf9bfa33e9">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url_code", "e5eb5c5c407fb3a043f6397dad77a83f0e7160d4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4eaad2e103b35aa57f3a736577119b7d88b44c0c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:10:50 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", true], ["link_id", 6], ["url_code", "230499adc659793ee64cb9869730b56971008b12"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:10:50 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b6a3274f_10bee3feaa0c34d3817397@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e5eb5c5c407fb3a043f6397dad77a83f0e7160d4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4eaad2e103b35aa57f3a736577119b7d88b44c0c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/230499adc659793ee64cb9869730b56971008b12">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::Link Load (0.2ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."is_externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such column: email_tracker_links.is_externally_viewable: SELECT  "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."is_externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "13c187688480257097ad9a5ec5158ec0da6a8d08"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "ede03b7337528860c8333ee2730b06a6f10dbd52"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "abe23137056f9324612470a0d4fe6e24b6e2c8e8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "85b4b78618578831e0e65cbac9d1a1d8d604cc97"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "74f37a4fc96be494339d0268bbc1bc5d60384240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "4b754ce1d06938280c53af282f5e77f2ad2fc02d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 5], ["is_externally_viewable", false], ["link_id", 5], ["url_code", "ee2418f916ae08ff949f1d92c88822a9a4c268e1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:10:50.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (18.6ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (21.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (16.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "7974f2ce2674279b66d3b83eb8eff41c23596db7"], ["user_id", nil]]
  [1m[35m (35.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (13.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (15.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (6.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "bced824b0552bf4373c0c4d24275a39907ce15c5"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (11.2ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "c821514fd4ee2884e8c833fb55d6ea65dd8fed2a"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "2b23e9244ec587f34ef7fbe7a2b22ed592b6c87e"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.432933' WHERE "email_tracker_email_instances"."id" = 9[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (12.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "94608f79ea9ad67c88dbf65a54c46e0ee3eec203"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (24.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.0ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "534811e30099bb88427467ccc65555b5ca6abd95"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (8.7ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "aab90f688dc83dd50e42b94372f3854c49307bd6"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.515534' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (25.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (7.8ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 6], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "3a7fc382b3a67abefd99d5c3fedcfb74381ed5ba"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:00.000000', "updated_at" = '2012-06-10 22:11:00.553021' WHERE "email_tracker_email_instances"."id" = 7
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (15.1ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (13.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (22.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "2f10004543972d0406a6beeb6040034d954a384c"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.2ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 7 LIMIT 1
  [1m[36m (4.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74b27ad_10bef3fea3d834d4065444@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74ba219_10bef3fea3d834d40655d1@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.1ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (12.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "6f73f1247d313e8ef5206452b25a871640431871"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c30e5109bf82a27c900c06dc83dd302bac6cce52"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "8aef7e60334f1c3bf69b0a66c136d5f10d4eec31"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74ca73f_10bef3fea3d834d40656ec@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6f73f1247d313e8ef5206452b25a871640431871.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c30e5109bf82a27c900c06dc83dd302bac6cce52">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8aef7e60334f1c3bf69b0a66c136d5f10d4eec31">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (23.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "6776bd8b4c6cf95c6bd5770d0bf158c079c17fde"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "9fce56a8d5359ba75edc5987a76de0f1470ae8f0"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "9240e38150f89c62f6e1574b2d9a9cdfd0886f72"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74d7091_10bef3fea3d834d4065761@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6776bd8b4c6cf95c6bd5770d0bf158c079c17fde.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/9fce56a8d5359ba75edc5987a76de0f1470ae8f0">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9240e38150f89c62f6e1574b2d9a9cdfd0886f72">An external link</a>
    </body>
</html>
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (7.1ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url_code", "5b95b35bb9d39c3b735b072adc2ae1ce85bf82ba"], ["user_id", nil]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.2ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4b4c400c4d5dfe4195b1758fe7f4406ae66b912b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:00 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", true], ["link_id", 7], ["url_code", "33a70dcb30735be919a8e7ab6a84dd818b5c608e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:00 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b74df8fb_10bef3fea3d834d4065846@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5b95b35bb9d39c3b735b072adc2ae1ce85bf82ba.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4b4c400c4d5dfe4195b1758fe7f4406ae66b912b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/33a70dcb30735be919a8e7ab6a84dd818b5c608e">An external link</a>
    </body>
</html>
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEmailTracker::Link Load (0.4ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such column: email_tracker_links.externally_viewable: SELECT  "email_tracker_links".* FROM "email_tracker_links"  WHERE "email_tracker_links"."externally_viewable" = 'f' ORDER BY "email_tracker_links"."id" DESC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (20.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "f7d27859b18441259bd77cea4cb9ab3b6cec7854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (11.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "e0c3bd813a74a23bb71210cb9607c028e92fdc3f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "2e74e9cda2c45c5ec15833c8405f8c2e04910208"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:00.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (16.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (29.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "18b5c449699590ce09e2b50fbd7b2a858d426d4d"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (12.8ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "7b1a175b472ad389acd22c66823d9c2c7e1930fe"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "b90071934ddc38022bfbef33dafbb2e8122fd67a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:01.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (43.0ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 6], ["is_externally_viewable", false], ["link_id", 6], ["url_code", "0109ebbc81fe9aac47a992bbee5b75f81c0a8d4a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (10.0ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:01.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (28.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "067848ec956a37d43e0bcf23a3dd32a04d05ac7d"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "58daf06771c3824fe869fca1cc5a17382112877a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "e15a754f35c8c89ead8f0cb7cab51e3e7c679f37"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "de3744314afa1caeae2e33727d0217239834a3e8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.918547' WHERE "email_tracker_email_instances"."id" = 10[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "ef181d0c822a34fdf74b89879e1953cec9ea2a9c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "870e780dd0760c58213b9ba2322d8a0dde2e2220"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "6bd1163fe6448b2bef9eee7ccc1c7aed567b27c4"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.936182' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 7], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "cef6311d1076b9dde2af9fe984251637fe5f800c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:20.000000', "updated_at" = '2012-06-10 22:11:20.940235' WHERE "email_tracker_email_instances"."id" = 8
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:20 UTC +00:00], ["url_code", "4d9282d5e659eec1297cc7438de915722c8f1d5f"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 8 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b892b3a_10bf23fc1e1034d40581a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b8955ed_10bf23fc1e1034d40596@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "dc138ff93fe46adea1fc401fb07476af57f55dc9"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "2d55ef0f023d4305e21c43170161883b1faecc16"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "e96e729d78152962a8e3feaba5257a0529152714"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b89c560_10bf23fc1e1034d4060d8@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/dc138ff93fe46adea1fc401fb07476af57f55dc9.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/2d55ef0f023d4305e21c43170161883b1faecc16">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e96e729d78152962a8e3feaba5257a0529152714">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "e5c52f505d3e9f4158d36785394f957c4d0c4333"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "22bb952c696a8df47f93fd7c777907d963f62668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "89bbb7f5967f7237f4ec1253df030d86512fe1d3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b8910b01_10bf23fc1e1034d406165@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e5c52f505d3e9f4158d36785394f957c4d0c4333.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/22bb952c696a8df47f93fd7c777907d963f62668">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/89bbb7f5967f7237f4ec1253df030d86512fe1d3">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "0feb31b0c3086dd7b9b603e10816485a5e1be3c4"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "dd78e1e3c012091f736a898b7b6b28668d6a3253"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "96c92971688a6e04713a4e14a69f8f62f6bba3d6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b89160f4_10bf23fc1e1034d4062eb@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/0feb31b0c3086dd7b9b603e10816485a5e1be3c4.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/dd78e1e3c012091f736a898b7b6b28668d6a3253">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/96c92971688a6e04713a4e14a69f8f62f6bba3d6">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.1ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url_code", "e91123c1b1692858768f0ecddf9889dc9a773cf2"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "545f06e9d76043d902a96a4a4120c01b4de9304e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:21 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", true], ["link_id", 8], ["url_code", "e658e7ec4b3d5b868fc86d2438759e802f2c72ea"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:21 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b891a7c9_10bf23fc1e1034d406326@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e91123c1b1692858768f0ecddf9889dc9a773cf2.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/545f06e9d76043d902a96a4a4120c01b4de9304e">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/e658e7ec4b3d5b868fc86d2438759e802f2c72ea">An external link</a>
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "a5fbc0a86819710d1aceee61b40c30a3981bf6b4"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "c8d23b446ef354f2926b5ceb85e9e280b855b5be"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "9e0ac0858c345ef74836f449b996e7d4a750a81c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "5469792c2ccf2096ddb57486c87c2eeae0d9d3f6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "37379afa5a7beaf81be9dc6b5217df2c34709445"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "ea4b7a8cee1456bababd7bc1e0426f935079dbe3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 7], ["is_externally_viewable", false], ["link_id", 7], ["url_code", "37e12bb4821b577612c69e0f8e1e089159671690"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:21.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["url_code", "20a84f805476758c43ba4446e75e6660c2c674d6"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "513d9273e41d1ed1c1cbab3889f3a831d504c888"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "28adf317e00f19dd8c2f7196d90b061b3210bcd6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "6f64210216d275eaef969ecde3c7829a82bba95c"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.084953' WHERE "email_tracker_email_instances"."id" = 11[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "5bd5d9b3396333df924c9eac76ec20fa2cdf9a19"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "a1868a17c7c814398f82b2ac8794b3a6387b4208"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "f3e166baea3d4de73ce6dfbfd6dbd31421691200"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.098424' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 8], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "33db82e11735dfdb7e1ceaeeaaf37c98dd7ee5a6"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:11:38.000000', "updated_at" = '2012-06-10 22:11:38.102450' WHERE "email_tracker_email_instances"."id" = 9
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "5fc9d5f1f8bed8a6d15faf68676490ccba758792"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a2acc0_10bf33fdd50c34d40814d4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a2d6d9_10bf33fdd50c34d40815ce@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "bc6ac54063b0cd26a6023143cfed8bbffd1774e3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "659b2db2246f3a64be3132cda03ae77f8bfc27d4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "7864826eeadf3af83b9cbf1d6423eb6300b699aa"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a34b5c_10bf33fdd50c34d40816cf@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/bc6ac54063b0cd26a6023143cfed8bbffd1774e3.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/659b2db2246f3a64be3132cda03ae77f8bfc27d4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/7864826eeadf3af83b9cbf1d6423eb6300b699aa">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "b61935d4f1949bcd501283f581b6bf4e1257d34d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "17337e63c4620bf4847b4feb80bb09e33888d071"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "d9120c683f5a3198f7dd4716bdc9f1becebcb52a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a39113_10bf33fdd50c34d4081726@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b61935d4f1949bcd501283f581b6bf4e1257d34d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/17337e63c4620bf4847b4feb80bb09e33888d071">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d9120c683f5a3198f7dd4716bdc9f1becebcb52a">An external link</a>
    </body>
</html>
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.4ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "8b272f0f484795c939d71b1cc2995b5869a7102d"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d78849b758e69bb5112fe988c063640b58ea1f3b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "0ee43e6bb06a9274eaa41bedc449c8c35fdde08d"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a3e377_10bf33fdd50c34d40818b9@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/8b272f0f484795c939d71b1cc2995b5869a7102d.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d78849b758e69bb5112fe988c063640b58ea1f3b">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/0ee43e6bb06a9274eaa41bedc449c8c35fdde08d">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" [0m
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.1ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url_code", "91bcd7187b044899abf444e9c61f401a35e8a1b8"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ea7a330e8f96dae1708bd8bc676d67ea72caa0f7"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:11:38 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", true], ["link_id", 9], ["url_code", "8412bc38698f6c830a7e6ac82ef0a2132f0f0bce"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:11:38 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51b9a42daa_10bf33fdd50c34d408195f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/91bcd7187b044899abf444e9c61f401a35e8a1b8.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ea7a330e8f96dae1708bd8bc676d67ea72caa0f7">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/8412bc38698f6c830a7e6ac82ef0a2132f0f0bce">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "ae0c778b7d7112503e999b0a1e8d83a911c87e1a"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "71ee435d94d0eeda84c55025f607a224c22932be"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "7a1fbb5a17d5ff545cf94449e5f7c8a4782d318b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "f26f50d1568777173a9340a704b9bc8ed54ed582"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "fe079781abb0a9a0e67979071ac6fceea75f7b57"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "ffa0727867fff04684c5b1be63cb7d80860f6335"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 8], ["is_externally_viewable", false], ["link_id", 8], ["url_code", "678c95e6adb60435d29f7553c835922b9fdb916f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:11:38.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (35.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["url_code", "f6c89235d924093069aeb36b325cf7c290e0e056"], ["user_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:02 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "d8189da1806aaafae6a85f45ac4e3dffdc487776"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "c0556ad270a6f6bc5f3ad072bc6701faf8b13de7"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "bd6181c21682298004acb000c0f472b4edfb8de5"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.039583' WHERE "email_tracker_email_instances"."id" = 12[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "f0719f003a09b787de3fc8a3b9048f535d5b5758"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "0767173da7e998e282d1715c52f4153b0923ba26"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "17ed251c39080bd901bf263e5a2034f6efd1cc01"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.052147' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 9], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "8d4af70382875287e93e271cf7444bbe4dfbec97"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:03.000000', "updated_at" = '2012-06-10 22:12:03.055978' WHERE "email_tracker_email_instances"."id" = 10
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "a4af8760246a1016f5ab728d86b4760b4e5530bb"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 10 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb3214b6_10bf43fc6e9c34d406648c@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb324018_10bf43fc6e9c34d406652a@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "065c8c0c5ca107c509751abd984556c02ddf8b4a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "5c0ecd717e760fb0109078a491be988caf17a231"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "94370ae70d97b1f6e95303ad8ecd92a06187adb8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb32b072_10bf43fc6e9c34d406661b@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/065c8c0c5ca107c509751abd984556c02ddf8b4a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/5c0ecd717e760fb0109078a491be988caf17a231">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/94370ae70d97b1f6e95303ad8ecd92a06187adb8">An external link</a>
    </body>
</html>
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "7b0a7aa34a85ebfa3bae2535c1bb16f4cf56ef2f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "f4bdf889c10195178ff594538b8365f489a2cf7c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "22d06388c20cc5437b71b9d4590184165b0207c8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb33067c_10bf43fc6e9c34d40667dc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7b0a7aa34a85ebfa3bae2535c1bb16f4cf56ef2f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/f4bdf889c10195178ff594538b8365f489a2cf7c">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/22d06388c20cc5437b71b9d4590184165b0207c8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.3ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "c5420997ebd6e3bf7f0c3a82159c3aedd2d40a0f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "d66c38bbce470c6103791d3e1dc14b95a5b5bbbc"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "19286cd0f63bccf3a7687de6e9650f3851761a9c"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb3352ba_10bf43fc6e9c34d4066850@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/c5420997ebd6e3bf7f0c3a82159c3aedd2d40a0f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/d66c38bbce470c6103791d3e1dc14b95a5b5bbbc">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/19286cd0f63bccf3a7687de6e9650f3851761a9c">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.1ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url_code", "5046ab7c6243d4e6668e12a2741601de2be51cdb"], ["user_id", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "160a18fb08e3415a6bf091201d3b74dced800052"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:03 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", true], ["link_id", 10], ["url_code", "41594d311ea41152605f77c62dbd638ca41b8d59"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:03 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bb33a886_10bf43fc6e9c34d4066978@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/5046ab7c6243d4e6668e12a2741601de2be51cdb.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/160a18fb08e3415a6bf091201d3b74dced800052">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/41594d311ea41152605f77c62dbd638ca41b8d59">An external link</a>
    </body>
</html>
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "fd7f2fb4b78643f54a5e76f3475f63eb5313509b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "d0da200dcfbe615051a134aa6657e1c7cc9e63a8"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "47a788065a3efec93dd2546e934821dc00cc46f9"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "995dd3c075d11afa93f03ef4ed2f9fd2504f7eea"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "1eadbc2640c51c7991d0f1b0a471af0a7efbf2ca"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "0dc024ecbee1482e3af10c3e6401eb61c4427d2d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 9], ["is_externally_viewable", false], ["link_id", 9], ["url_code", "287fba29da7cb17fa2ef914a1fff9d2ba3d67586"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:03.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "0da26f73f255be875b6d0141efdc30eed4845732"], ["user_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "42fd759de5e1f1acdffc5a0017a819ce6f0068d7"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "bd768c44658139fc0c330d2ef3463327b4755b8e"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "ed9ef195e442d41df67d921bf292d723d273f235"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.723335' WHERE "email_tracker_email_instances"."id" = 13[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "d3ae1d155f7acad3d95680d217cf463751d02f53"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "d3d1b581d76fe14c0ed27c51f1669d420d456c53"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "a97d81b412767eaaa959ad9591f2123595e64613"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.737271' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 10], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "16fd63fe5ff6001ae60d84901f373942468ffb6b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:14.000000', "updated_at" = '2012-06-10 22:12:14.740981' WHERE "email_tracker_email_instances"."id" = 11
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "7d7e7866252d54a5d29339e2cfc68ec800754e52"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 11 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (10ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbec614b_10bf53ffc20834d3c19437@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbec895a_10bf53ffc20834d3c1959f@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "72c202993bbcab80f9d5940b21f125b1bf4a5c5b"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a009df34c64fb5470be07da77079f6c1c70461e6"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "bc34b316d8d22af2cc90bb5e52b4441eeec895af"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbecf9ac_10bf53ffc20834d3c196be@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/72c202993bbcab80f9d5940b21f125b1bf4a5c5b.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a009df34c64fb5470be07da77079f6c1c70461e6">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/bc34b316d8d22af2cc90bb5e52b4441eeec895af">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "206f229c6ba13af32f9fa9aa2bf97105e7f46be0"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "85585ee88a9f65608ae10f86971b99c2d95e5064"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "1e997f51eba4409ada2bbaf0ad20bd5a67c679a1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbed4598_10bf53ffc20834d3c1979e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/206f229c6ba13af32f9fa9aa2bf97105e7f46be0.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/85585ee88a9f65608ae10f86971b99c2d95e5064">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/1e997f51eba4409ada2bbaf0ad20bd5a67c679a1">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "4b33dd2eb4a7df1a83c0d5a3b7d6e3b66183667f"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "830341803f9cd08a46d4e4a9902cc24954e0a0c4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "5ce568704b33b1366e6203875937db8885c51131"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbed9078_10bf53ffc20834d3c19867@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/4b33dd2eb4a7df1a83c0d5a3b7d6e3b66183667f.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/830341803f9cd08a46d4e4a9902cc24954e0a0c4">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/5ce568704b33b1366e6203875937db8885c51131">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mEmailTracker::LinkInstance Load (0.2ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url_code", "6ac5f2465aca2b81f2e3645aee181b0c14b50ea5"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "bb8fdea72c3932d0bad56f144237517c55ec6724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:14 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", true], ["link_id", 11], ["url_code", "3387fd6dc53bf5da7a0421f7a4dca94e8bc28313"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (4ms)
Date: Sun, 10 Jun 2012 23:12:14 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bbeddfeb_10bf53ffc20834d3c1995d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/6ac5f2465aca2b81f2e3645aee181b0c14b50ea5.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/bb8fdea72c3932d0bad56f144237517c55ec6724">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/3387fd6dc53bf5da7a0421f7a4dca94e8bc28313">An external link</a>
    </body>
</html>
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "693140f743d0f3eb3e23e5d828bfd53e79bbd6d6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "db4881bba8e72a187c13782918b9eedceb13ce82"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "1941b17d733725d5b8a9e0a9a7feaf4a4e371d1b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "6c3071cbd3a8170b4db11761b435133c7c793426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "5384ee3a95c442498d64479423bc824a2d268608"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "ece2a0968fbdb621cc35f07a1446cc2787512573"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 10], ["is_externally_viewable", false], ["link_id", 10], ["url_code", "a11d168c3f102aa5f511a8afdb92f6f78d1907f9"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:14.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "676f5b4189c23a0990493ddb066ade41ac3ea97d"], ["user_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "fd388e216b42ecac683d74b024526f31c7653182"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "80d303dd80e6fa8ae1c702bcfa0f9f83ca48b39c"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "013b8dbdaef0fe8a349a7853284e20c3346c51ae"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.588355' WHERE "email_tracker_email_instances"."id" = 14[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "dcb98baa4cb65da44335b1f8eabc26abc0866e87"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "4514a40a45090302a146a7db284013db753251c3"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "588eea03d8d282be67abc78ec5d24c7528891412"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.604100' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 11], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "d22b63a10b0fa345e55b6c590e90739893a76bf9"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:12:37.000000', "updated_at" = '2012-06-10 22:12:37.608309' WHERE "email_tracker_email_instances"."id" = 12
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "097c8e627d542558ab85ef04531dd8d05b71a1ef"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 12 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (11ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5a5bb5_10bf73fc3cdc34d3c783b4@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5a8525_10bf73fc3cdc34d3c78427@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "b617548e85925b4362763c7619cf30c292d8784a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "4fedbd13c1794a511f6f785cfeda51bb02c69dfd"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "582a1a02e71e483c1cf897b0f129c897fe09f007"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5af260_10bf73fc3cdc34d3c785dc@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/b617548e85925b4362763c7619cf30c292d8784a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/4fedbd13c1794a511f6f785cfeda51bb02c69dfd">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/582a1a02e71e483c1cf897b0f129c897fe09f007">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "2c270b9c2fb0422697ef4e3e483219efb738759a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "fecf715e512204f19bef6fb9f58c0f6760665cbe"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "6bba624ba9cd2714715f3bad039e8230cf7c13d5"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5b3b58_10bf73fc3cdc34d3c78649@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/2c270b9c2fb0422697ef4e3e483219efb738759a.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/fecf715e512204f19bef6fb9f58c0f6760665cbe">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/6bba624ba9cd2714715f3bad039e8230cf7c13d5">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "7978b486117a2e2a6791c38a9cbb1f50f4bc0045"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "42b34d3f43d83b3f7aa1ca3afe1550318c696a62"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "95fecae05de41801a9874ab48add711ece955cf8"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5b7e95_10bf73fc3cdc34d3c7875e@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/7978b486117a2e2a6791c38a9cbb1f50f4bc0045.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/42b34d3f43d83b3f7aa1ca3afe1550318c696a62">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/95fecae05de41801a9874ab48add711ece955cf8">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url_code", "e96a0e301eccccef58cb466c6250a7e0db657e11"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "a058d079e74cdcee5e7892fe483f98a40b48b5b3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:12:37 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", true], ["link_id", 12], ["url_code", "9f1666477df09fa619d2508ba06015637177c3dc"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:12:37 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bd5bc4c0_10bf73fc3cdc34d3c788d2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/e96a0e301eccccef58cb466c6250a7e0db657e11.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/a058d079e74cdcee5e7892fe483f98a40b48b5b3">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/9f1666477df09fa619d2508ba06015637177c3dc">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "116a5b44f2668d652551390ba0cf20a9d3032514"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "460dd1e96d36ec5d38dbea228cded43786854ef4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "36bc1191548a95d48570df3b9f28a82c5ea52dcf"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 3
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "b431db6a0cfe7cc0b93ff6c1b1e94833b550256b"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "224bcf196677eb2e930d23f807027f4e686b3a0e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "7125130fa730dfd01eed4d4c9285a9756fd28f6c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 11], ["is_externally_viewable", false], ["link_id", 11], ["url_code", "bed5a0d867c1e2f2c6838ec261be1488242c03b4"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:12:37.000000' WHERE "email_tracker_link_instances"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "841cc89ee8135fe512f779d33465a51a13f1da6c"], ["user_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (2.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "74f9aa3d3165c95c58bab89b1b2aa72ba2a20688"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "ceb50b9ff5bd98f3a446c389ef475ac138d88f0b"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "914f1f30f70b94e0d9e0dcfd6ee6b9c155a8d55a"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.810856' WHERE "email_tracker_email_instances"."id" = 15[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_email_instances" WHERE (opened_at IS NOT NULL)[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "bffe68098689b02d2efcda1e0cbe75047603700d"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "523f60cf37b2deed92491722dfa22beb613efc09"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "4ad840f7812772dae481483595a2ec3e0f550df1"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.826849' WHERE "email_tracker_email_instances"."id" = 14
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 12], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "412e99edb66ef764125f1956d3cad317b3bee327"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  UPDATE "email_tracker_email_instances" SET "opened_at" = '2012-06-10 22:13:04.000000', "updated_at" = '2012-06-10 22:13:04.830792' WHERE "email_tracker_email_instances"."id" = 13
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Title"], ["owner_id", 1001], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "My Name"], ["owner_id", 1002], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "my_mailer"], ["name", "Subscription #1003"], ["owner_id", 1003], ["owner_type", "Subscription"], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "my_action"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "My/Mailer"], ["name", "Mailer My action"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "36a5318e7c7833896e0fc2afbb18b8dbd80b3d85"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::EmailInstance Load (0.1ms)[0m  SELECT "email_tracker_email_instances".* FROM "email_tracker_email_instances" WHERE "email_tracker_email_instances"."email_id" = 13 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (12ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0dc4a4_10bf83fc2e9834d34258d@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body>
        Hi Jeremy Walker
        <a href="/foobar">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a href="/foobar?et_notrack=true">A no-track link</a>
        <a href="/foobar?et_external=true">An external link</a>
    </body>
</html>
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0def8f_10bf83fc2e9834d3425949@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "40afb98af67311dcabb1876c6f069f0ad64c5b69"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "e99c45d00b68b7b08c2bb307dbc59ad2a7eec989"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d7ee86e0c34b1bf46416f155ce51b6c3df446e68"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0e618b_10bf83fc2e9834d3426035@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/40afb98af67311dcabb1876c6f069f0ad64c5b69.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/e99c45d00b68b7b08c2bb307dbc59ad2a7eec989">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d7ee86e0c34b1bf46416f155ce51b6c3df446e68">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "f01b615bf3f30015ac17c401cf3b5fa1627d45b1"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "c81091b31849c23c37e0311f99862750ebf36af5"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d598a292670dc74a40f219581d2cf09db4ec8bbd"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0ea9a0_10bf83fc2e9834d3426156@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/f01b615bf3f30015ac17c401cf3b5fa1627d45b1.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/c81091b31849c23c37e0311f99862750ebf36af5">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d598a292670dc74a40f219581d2cf09db4ec8bbd">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "22d483d57330873bdecf6c1312fb01d838268734"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "ad9b30ce6e303c389fa41d32f0d79a1471532094"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "988a8420396daecf403d69f1a745939a5102b95e"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:04 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf0eee0b_10bf83fc2e9834d34262de@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/22d483d57330873bdecf6c1312fb01d838268734.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/ad9b30ce6e303c389fa41d32f0d79a1471532094">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/988a8420396daecf403d69f1a745939a5102b95e">An external link</a>
    </body>
</html>
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  Rendered test_mailer/test.html.erb (0.3ms)
  [1m[36mEmailTracker::Email Load (0.2ms)[0m  [1mSELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url_code", "54b4abbc709c1dcb1e1f90783d8c2335996cfd06"], ["user_id", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "b9eb69934001a2673230086c1533205d2dddb27d"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmailTracker::Link Load (0.1ms)[0m  SELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)  [["created_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:04 UTC +00:00], ["url", "/foobar?"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "11442c82c6594850aa497b86ff078fa226aa2b82"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf1161_10bf83fc2e9834d3426392@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/54b4abbc709c1dcb1e1f90783d8c2335996cfd06.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/b9eb69934001a2673230086c1533205d2dddb27d">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/11442c82c6594850aa497b86ff078fa226aa2b82">An external link</a>
    </body>
</html>
  [1m[36mEmailTracker::LinkInstance Load (0.1ms)[0m  [1mSELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 'f' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  Rendered test_mailer/test.html.erb (0.2ms)
  [1m[35mEmailTracker::Email Load (0.2ms)[0m  SELECT "email_tracker_emails".* FROM "email_tracker_emails" WHERE "email_tracker_emails"."mailer" = 'test_mailer' AND "email_tracker_emails"."action" = 'test' AND "email_tracker_emails"."owner_type" IS NULL AND "email_tracker_emails"."owner_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_emails" ("action", "created_at", "description", "mailer", "name", "owner_id", "owner_type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["action", "test"], ["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["description", ""], ["mailer", "test_mailer"], ["name", "Test_mailer Test"], ["owner_id", nil], ["owner_type", nil], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_email_instances" ("created_at", "email_address", "email_id", "opened_at", "updated_at", "url_code", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["email_address", "jez.walker@gmail.com"], ["email_id", 13], ["opened_at", nil], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["url_code", "cef4a319ff75fee5e73071e86047639577a0ab96"], ["user_id", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", false], ["link_id", 1], ["url_code", "018897ad16b38d4d3129b9fae8f5b74f9a53fb27"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmailTracker::Link Load (0.1ms)[0m  [1mSELECT "email_tracker_links".* FROM "email_tracker_links" WHERE "email_tracker_links"."url" = '/foobar?' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_links" ("created_at", "num_clicks", "updated_at", "url") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["num_clicks", 0], ["updated_at", Sun, 10 Jun 2012 22:13:05 UTC +00:00], ["url", "/foobar?"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 13], ["is_externally_viewable", true], ["link_id", 13], ["url_code", "d96fe180cbdef3c4ee88bd486e7f9d31bfaf5af1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

Sent mail to jez.walker@gmail.com (3ms)
Date: Sun, 10 Jun 2012 23:13:05 +0100
To: Jeremy Walker <jez.walker@gmail.com>
Message-ID: <4fd51bf14c26_10bf83fc2e9834d34264c2@Macbook.mail>
Subject: My Subject
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
    <body><img src="https://foobar.com/et_open/cef4a319ff75fee5e73071e86047639577a0ab96.gif" alt=""/>
        Hi Jeremy Walker
        <a href="https://foobar.com/et_click/018897ad16b38d4d3129b9fae8f5b74f9a53fb27">A normal link</a>
        <a href="mailto:jez.walker@gmail.com">A mail link</a>
        <a >A no-track link</a>
        <a href="https://foobar.com/et_click/d96fe180cbdef3c4ee88bd486e7f9d31bfaf5af1">An external link</a>
    </body>
</html>
  [1m[35mEmailTracker::LinkInstance Load (0.1ms)[0m  SELECT "email_tracker_link_instances".* FROM "email_tracker_link_instances" WHERE "email_tracker_link_instances"."is_externally_viewable" = 't' ORDER BY "email_tracker_link_instances"."id" DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "7083d45a84dc5b593a5cf05f680d0451d7dac8ba"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "571bac38cc7fd647769661a31bc09cc0792a88fa"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "2a04390f842504d4eeaebc4d090785665a61636c"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mUPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 3[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "email_tracker_link_instances" WHERE (clicked_at IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "a4ab78528c77030f7614fdfcc57af66fe70ab6a6"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `url_code`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "466810a401b8c6694f3ad801d04a25ac2280e54f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "2b62ecf01ab076393b88902c33ebc7b60547fd47"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `url_code`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "email_tracker_link_instances" ("clicked_at", "email_instance_id", "is_externally_viewable", "link_id", "url_code") VALUES (?, ?, ?, ?, ?)[0m  [["clicked_at", nil], ["email_instance_id", 12], ["is_externally_viewable", false], ["link_id", 12], ["url_code", "7478a6dfbd61186294a54424c786c77574eaf02b"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE "email_tracker_link_instances" SET "clicked_at" = '2012-06-10 22:13:05.000000' WHERE "email_tracker_link_instances"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
